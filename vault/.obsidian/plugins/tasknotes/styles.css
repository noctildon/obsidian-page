/* TaskNotes Plugin Styles */

/* 
   This file is automatically generated by the build process.
   To modify styles, edit the source files in the styles/ directory.
   
   Source files:
   
   Core System:
   - styles/variables.css: CSS custom properties and design system variables
   - styles/utilities.css: Scoped utility classes for layout, spacing, typography, and states
   - styles/base.css: Basic styles, animations, card components, and layout
   
   BEM Component Files:
   - styles/task-card-bem.css: TaskCard component with proper BEM scoping
   - styles/task-inline-widget.css: Inline task widget for editor with proper BEM scoping
   - styles/note-card-bem.css: NoteCard component with proper BEM scoping
   - styles/filter-bar-bem.css: FilterBar component with proper BEM scoping
   - styles/modal-bem.css: Modal components with proper BEM scoping
   
   BEM View Files:
   - styles/task-list-view.css: TaskListView component with proper BEM scoping
   - styles/calendar-view.css: CalendarView component with proper BEM scoping
   - styles/kanban-view.css: KanbanView component with proper BEM scoping
   - styles/agenda-view.css: AgendaView component with proper BEM scoping
   - styles/notes-view.css: NotesView component with proper BEM scoping
   - styles/pomodoro-view.css: PomodoroView component with proper BEM scoping
   - styles/pomodoro-stats-view.css: PomodoroStatsView component with proper BEM scoping
   - styles/settings-view.css: SettingsView component with proper BEM scoping
   
   Legacy Support:
   - styles/components.css: Reusable UI components, utilities, and modals
   
   Run 'npm run build-css' to regenerate this file.
*/


/* ===== VARIABLES.CSS ===== */
/* Material 3 Expressive Design System Variables (2025) */
:root {
    /* ================================================
       SPACING SYSTEM - Optimized 4dp Grid Base for Compact Design
       ================================================ */
    
    /* Material 3 Expressive spacing tokens - more compact for desktop */
    --cs-spacing-xs: 2px;    /* 0.5 units - tighter for compact design */
    --cs-spacing-sm: 4px;    /* 1 unit - reduced base grid */
    --cs-spacing-md: 8px;    /* 2 units - more compact */
    --cs-spacing-lg: 12px;   /* 3 units - reduced from 24px */
    --cs-spacing-xl: 16px;   /* 4 units - more compact */
    --cs-spacing-xxl: 24px;  /* 6 units - significantly reduced */
    
    /* ================================================
       MATERIAL 3 EXPRESSIVE ELEVATION SYSTEM
       ================================================ */
    
    /* Enhanced elevation shadows with more personality and depth */
    --cs-elevation-0: none;
    --cs-elevation-1: 0 1px 2px rgba(0, 0, 0, 0.12), 0 1px 3px rgba(0, 0, 0, 0.06);
    --cs-elevation-2: 0 2px 4px rgba(0, 0, 0, 0.12), 0 2px 6px rgba(0, 0, 0, 0.08);
    --cs-elevation-3: 0 3px 6px rgba(0, 0, 0, 0.12), 0 3px 9px rgba(0, 0, 0, 0.08);
    --cs-elevation-4: 0 4px 8px rgba(0, 0, 0, 0.12), 0 4px 12px rgba(0, 0, 0, 0.08);
    --cs-elevation-5: 0 6px 12px rgba(0, 0, 0, 0.12), 0 6px 18px rgba(0, 0, 0, 0.08);
    
    /* Removed expressive shadow variants - rely on standard elevation system */
    
    /* Surface container colors for elevation */
    --cs-surface-container-lowest: var(--background-primary);
    --cs-surface-container-low: var(--background-primary-alt);
    --cs-surface-container: var(--background-secondary);
    --cs-surface-container-high: var(--background-secondary-alt);
    --cs-surface-container-highest: var(--background-modifier-cover);
    
    /* ================================================
       MATERIAL 3 EXPRESSIVE TYPOGRAPHY SCALE
       ================================================ */
    
    /* Display - More expressive and compact for desktop use */
    --cs-text-display-large: 2.75rem;   /* 44px - reduced from 56px */
    --cs-text-display-medium: 2.25rem;  /* 36px - reduced from 45px */
    --cs-text-display-small: 1.875rem;  /* 30px - reduced from 36px */
    
    /* Headlines - Optimized for desktop density */
    --cs-text-headline-large: 1.75rem;    /* 28px - reduced from 32px */
    --cs-text-headline-medium: 1.5rem;    /* 24px - reduced from 28px */
    --cs-text-headline-small: 1.25rem;    /* 20px - reduced from 24px */
    
    /* Titles - Compact yet readable */
    --cs-text-title-large: 1.125rem;   /* 18px - reduced from 22px */
    --cs-text-title-medium: 0.875rem;  /* 14px - reduced from 16px */
    --cs-text-title-small: 0.75rem;    /* 12px - reduced from 14px */
    
    /* Body - Optimized for readability and compactness */
    --cs-text-body-large: 0.875rem;    /* 14px - reduced from 16px */
    --cs-text-body-medium: 0.75rem;    /* 12px - reduced from 14px */
    --cs-text-body-small: 0.6875rem;   /* 11px - slightly reduced */
    
    /* Labels - Compact component text */
    --cs-text-label-large: 0.75rem;    /* 12px - reduced from 14px */
    --cs-text-label-medium: 0.6875rem; /* 11px - slightly reduced */
    --cs-text-label-small: 0.625rem;   /* 10px - more compact */
    
    /* Legacy typography for compatibility */
    --cs-text-xs: var(--cs-text-label-small);
    --cs-text-sm: var(--cs-text-label-medium);
    --cs-text-base: var(--cs-text-body-medium);
    --cs-text-md: var(--cs-text-body-large);
    --cs-text-lg: var(--cs-text-title-medium);
    --cs-text-xl: var(--cs-text-title-large);
    --cs-text-2xl: var(--cs-text-headline-small);
    
    /* ================================================
       EXPRESSIVE BORDER RADIUS SYSTEM
       ================================================ */
    
    /* Material 3 Expressive corner radius tokens - more dynamic and personality-driven */
    --cs-radius-xs: 2px;    /* Extra small - more subtle */
    --cs-radius-sm: 6px;    /* Small - slightly more rounded */
    --cs-radius-md: 10px;   /* Medium - more organic feel */
    --cs-radius-lg: 14px;   /* Large - enhanced personality */
    --cs-radius-xl: 20px;   /* Extra large - more expressive */
    --cs-radius-xxl: 28px;  /* Extra extra large - bold expression */
    --cs-radius-full: 50%;  /* Full/pill - unchanged */
    
    /* Removed expressive radius variations - keep consistent radius system */
    
    /* ================================================
       COMPACT COMPONENT SIZING
       ================================================ */
    
    /* Touch targets - Optimized for desktop with compact design */
    --cs-touch-target: 36px;     /* Reduced from 48px for compactness */
    --cs-touch-target-lg: 44px;  /* Reduced from 56px */
    --cs-touch-target-dense: 28px;  /* More compact dense layouts */
    
    /* Button heights - More compact for desktop */
    --cs-button-height-sm: 24px;  /* Reduced from 32px */
    --cs-button-height-md: 32px;  /* Reduced from 40px */
    --cs-button-height-lg: var(--cs-touch-target);
    
    /* Input heights - Compact but usable */
    --cs-input-height-sm: 24px;   /* Reduced from 32px */
    --cs-input-height-md: 32px;   /* Reduced from 40px */
    --cs-input-height-lg: var(--cs-touch-target);
    
    /* Icon sizes - Proportionally adjusted */
    --cs-icon-sm: 14px;   /* Reduced from 16px */
    --cs-icon-md: 20px;   /* Reduced from 24px */
    --cs-icon-lg: 28px;   /* Reduced from 32px */
    
    /* ================================================
       EXPRESSIVE MOTION PHYSICS SYSTEM
       ================================================ */
    
    /* Material 3 Expressive motion tokens - enhanced with spatial springs */
    --cs-motion-duration-instant: 25ms;   /* Near-instant feedback */
    --cs-motion-duration-short1: 75ms;    /* Very quick interactions */
    --cs-motion-duration-short2: 120ms;   /* Quick interactions */
    --cs-motion-duration-short3: 180ms;   /* Standard interactions */
    --cs-motion-duration-short4: 240ms;   /* Slightly longer interactions */
    --cs-motion-duration-medium1: 300ms;  /* Medium duration */
    --cs-motion-duration-medium2: 360ms;  /* Medium-long duration */
    --cs-motion-duration-medium3: 420ms;  /* Longer interactions */
    --cs-motion-duration-medium4: 480ms;  /* Long interactions */
    --cs-motion-duration-long1: 540ms;    /* Very long interactions */
    --cs-motion-duration-long2: 600ms;    /* Extra long */
    
    /* Enhanced easing curves for more natural, physics-based motion */
    --cs-motion-easing-linear: cubic-bezier(0, 0, 1, 1);
    --cs-motion-easing-standard: cubic-bezier(0.2, 0, 0, 1);
    --cs-motion-easing-standard-accelerate: cubic-bezier(0.3, 0, 1, 1);
    --cs-motion-easing-standard-decelerate: cubic-bezier(0, 0, 0, 1);
    --cs-motion-easing-emphasized: cubic-bezier(0.2, 0, 0, 1);
    --cs-motion-easing-emphasized-accelerate: cubic-bezier(0.3, 0, 0.8, 0.15);
    --cs-motion-easing-emphasized-decelerate: cubic-bezier(0.05, 0.7, 0.1, 1);
    
    /* Simplified motion system - keep only essential easing curves */
    --cs-motion-easing-spring: cubic-bezier(0.175, 0.885, 0.32, 1.1);
    
    /* Simplified transition tokens */
    --cs-transition-instant: var(--cs-motion-duration-instant) var(--cs-motion-easing-standard);
    --cs-transition-fast: var(--cs-motion-duration-short2) var(--cs-motion-easing-standard);
    --cs-transition-normal: var(--cs-motion-duration-short3) var(--cs-motion-easing-spring);
    --cs-transition-slow: var(--cs-motion-duration-medium1) var(--cs-motion-easing-emphasized);
    
    /* ================================================
       STATE SYSTEM
       ================================================ */
    
    /* Opacity values for different states */
    --cs-state-hover: 0.08;
    --cs-state-focus: 0.12;
    --cs-state-pressed: 0.16;
    --cs-state-dragged: 0.16;
    --cs-state-disabled: 0.38;
    
    /* ================================================
       Z-INDEX SYSTEM
       ================================================ */
    
    /* Layer hierarchy for proper stacking */
    --cs-z-base: 0;
    --cs-z-sticky: 100;
    --cs-z-fixed: 200;
    --cs-z-overlay: 300;
    --cs-z-dropdown: 1000;
    --cs-z-tooltip: 2000;
    --cs-z-modal: 3000;
    --cs-z-notification: 4000;
    
    /* Simplified Color System - Rely more on theme colors */
    /* Only define colors when theme doesn't provide suitable alternatives */
    
    /* Blue scale for notes and information */
    --cs-blue-100: rgba(59, 130, 246, 0.1);  /* Light blue background for scheduled tasks */
    --cs-blue-300: var(--color-blue, #60a5fa);
    --cs-blue-400: var(--color-blue, #3b82f6);
    --cs-blue-500: var(--color-blue, #2563eb);
    
    /* Purple scale for special items */
    --cs-purple-100: rgba(139, 92, 246, 0.1);  /* Light purple background for daily notes */
    --cs-purple-300: var(--color-purple, #a78bfa);
    --cs-purple-400: var(--color-purple, #8b5cf6);
    --cs-purple-500: var(--color-purple, #7c3aed);
    
    /* Use theme's muted colors */
    --cs-gray-100: rgba(107, 114, 128, 0.1);  /* Light gray background for archived tasks */
    --cs-gray-300: var(--background-modifier-border);
    --cs-gray-400: var(--background-modifier-border-hover);
    --cs-gray-500: var(--text-muted);
    --cs-gray-600: var(--text-faint);
    
    /* Red and green gradient colors for due dates and completed tasks */
    --cs-red-100: rgba(239, 68, 68, 0.1);    /* Light red background for due tasks */
    --cs-green-100: rgba(34, 197, 94, 0.1);  /* Light green background for completed tasks */
    
    /* Fixed semantic usage for UI elements (not user-customizable) */
    /* Notes heatmap - blue intensities for calendar */
    --cs-color-notes-light: var(--cs-blue-300);
    --cs-color-notes-medium: var(--cs-blue-400);
    --cs-color-notes-heavy: var(--cs-blue-500);
    
    /* Special item colors (daily notes, recurring) */
    --cs-color-daily-note: var(--cs-purple-300);
    --cs-color-recurring: var(--cs-purple-400);
    
    /* Archived/inactive content */
    --cs-color-archived: var(--cs-gray-500);
    
    /* Note: Status and Priority colors are user-customizable via settings */
    /* They are injected as CSS variables: --status-{value}-color and --priority-{value}-color */
    /* Default fallbacks for when custom colors aren't loaded yet */
    --cs-color-status-fallback: var(--text-muted);
    --cs-color-priority-fallback: var(--text-muted);
    
    /* Legacy component sizing - using updated values from above */
    
    /* Z-index scale */
    --cs-z-dropdown: 1000;
    --cs-z-modal: 2000;
    --cs-z-tooltip: 3000;
    
    /* Shadow system */
    --cs-shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
    --cs-shadow-md: 0 1px 3px rgba(0, 0, 0, 0.05), 0 1px 2px rgba(0, 0, 0, 0.1);
    --cs-shadow-lg: 0 4px 12px rgba(0, 0, 0, 0.15);
    --cs-shadow-xl: 0 6px 12px rgba(0, 0, 0, 0.25);
}

/* ================================================
   TASKNOTES PLUGIN SCOPED VARIABLES
   ================================================ */

.tasknotes-plugin {
    /* ================================================
       SCOPED THEME INTEGRATION
       ================================================ */
    
    /* Base & Text Colors - Map to Obsidian theme variables */
    --tn-bg-primary: var(--background-primary);
    --tn-bg-secondary: var(--background-secondary);
    --tn-bg-primary-alt: var(--background-primary-alt, var(--background-primary));
    --tn-bg-secondary-alt: var(--background-secondary-alt, var(--background-secondary));
    --tn-text-normal: var(--text-normal);
    --tn-text-muted: var(--text-muted);
    --tn-text-faint: var(--text-faint);
    --tn-text-accent: var(--interactive-accent);

    /* Borders & Dividers - Map to Obsidian theme variables */
    --tn-border-color: var(--background-modifier-border);
    --tn-border-color-hover: var(--background-modifier-border-hover);
    --tn-border-color-focus: var(--background-modifier-border-focus);
    --tn-border-color-interactive: var(--interactive-accent);

    /* Interactive States - Map to Obsidian theme variables */
    --tn-interactive-normal: var(--interactive-normal);
    --tn-interactive-hover: var(--interactive-hover);
    --tn-interactive-accent: var(--interactive-accent);
    --tn-interactive-accent-hover: var(--interactive-accent-hover);
    --tn-interactive-success: var(--interactive-success);

    /* Semantic Colors - Use Obsidian's color palette when available */
    --tn-color-success: var(--color-green, #00aa00);
    --tn-color-warning: var(--color-yellow, #ffa500);
    --tn-color-error: var(--color-red, #ff0000);
    --tn-color-info: var(--color-blue, #0066cc);
    --tn-color-overdue: var(--color-red, #ff0000);

    /* ================================================
       SCOPED SPACING SYSTEM (inherit from design system)
       ================================================ */
    
    --tn-spacing-xs: var(--cs-spacing-xs);
    --tn-spacing-sm: var(--cs-spacing-sm);
    --tn-spacing-md: var(--cs-spacing-md);
    --tn-spacing-lg: var(--cs-spacing-lg);
    --tn-spacing-xl: var(--cs-spacing-xl);
    --tn-spacing-xxl: var(--cs-spacing-xxl);

    /* ================================================
       SCOPED TYPOGRAPHY SYSTEM (inherit from design system)
       ================================================ */
    
    --tn-font-size-xs: var(--cs-text-label-small);
    --tn-font-size-sm: var(--cs-text-label-medium);
    --tn-font-size-md: var(--cs-text-body-medium);
    --tn-font-size-lg: var(--cs-text-body-large);
    --tn-font-size-xl: var(--cs-text-title-medium);
    --tn-font-size-2xl: var(--cs-text-title-large);

    /* Typography weights and styles */
    --tn-font-weight-normal: 400;
    --tn-font-weight-medium: 500;
    --tn-font-weight-semibold: 600;
    --tn-font-weight-bold: 700;

    /* ================================================
       SCOPED BORDERS & SHADOWS (inherit from design system)
       ================================================ */
    
    --tn-radius-xs: var(--cs-radius-xs);
    --tn-radius-sm: var(--cs-radius-sm);
    --tn-radius-md: var(--cs-radius-md);
    --tn-radius-lg: var(--cs-radius-lg);
    --tn-radius-xl: var(--cs-radius-xl);
    --tn-radius-full: var(--cs-radius-full);

    --tn-shadow-light: var(--cs-elevation-1);
    --tn-shadow-medium: var(--cs-elevation-2);
    --tn-shadow-strong: var(--cs-elevation-3);
    --tn-shadow-hover: var(--cs-elevation-4);

    /* ================================================
       SCOPED MOTION SYSTEM (inherit from design system)
       ================================================ */
    
    --tn-transition-fast: var(--cs-transition-fast);
    --tn-transition-normal: var(--cs-transition-normal);
    --tn-transition-slow: var(--cs-transition-slow);

    /* ================================================
       SCOPED COMPONENT SIZING (inherit from design system)
       ================================================ */
    
    --tn-button-height-sm: var(--cs-button-height-sm);
    --tn-button-height-md: var(--cs-button-height-md);
    --tn-button-height-lg: var(--cs-button-height-lg);
    
    --tn-input-height-sm: var(--cs-input-height-sm);
    --tn-input-height-md: var(--cs-input-height-md);
    --tn-input-height-lg: var(--cs-input-height-lg);

    --tn-icon-sm: var(--cs-icon-sm);
    --tn-icon-md: var(--cs-icon-md);
    --tn-icon-lg: var(--cs-icon-lg);

    /* ================================================
       SCOPED Z-INDEX SYSTEM (inherit from design system)
       ================================================ */
    
    --tn-z-base: var(--cs-z-base);
    --tn-z-sticky: var(--cs-z-sticky);
    --tn-z-dropdown: var(--cs-z-dropdown);
    --tn-z-modal: var(--cs-z-modal);
    --tn-z-tooltip: var(--cs-z-tooltip);
    --tn-z-notification: var(--cs-z-notification);

    /* ================================================
       PLUGIN-SPECIFIC VARIABLES
       ================================================ */
    
    /* Status & Priority colors are dynamically injected by StatusManager & PriorityManager */
    /* These are fallbacks for when dynamic colors aren't loaded yet */
    --tn-color-status-fallback: var(--tn-text-muted);
    --tn-color-priority-fallback: var(--tn-text-muted);
    
    /* Special component colors */
    --tn-color-archived: var(--cs-color-archived);
    --tn-color-daily-note: var(--cs-color-daily-note);
    --tn-color-recurring: var(--cs-color-recurring);
    
    /* Calendar and heatmap colors */
    --tn-color-notes-light: var(--cs-color-notes-light);
    --tn-color-notes-medium: var(--cs-color-notes-medium);
    --tn-color-notes-heavy: var(--cs-color-notes-heavy);
}

/* ===== UTILITIES.CSS ===== */
/* ================================================
   TASKNOTES SCOPED UTILITY CLASSES
   ================================================ 
   
   This file contains a comprehensive set of utility classes for the
   ChronoSync/TaskNotes plugin. All utilities are properly scoped under
   .tasknotes-plugin and follow the established naming conventions.
   
   Naming Convention: .tn-{property}-{value}
   All utilities use --tn- CSS variables for consistency
   
   Categories:
   - Layout Utilities (flexbox, grid, positioning)
   - Spacing Utilities (margin, padding, gap)
   - Typography Utilities (text alignment, font styles)
   - Display Utilities (visibility, display types)
   - Background & Border Utilities
   - State Utilities (hover, focus, loading)
   - Animation Utilities
   
   ================================================ */

/* ================================================
   LAYOUT UTILITIES - FLEXBOX
   ================================================ */

.tasknotes-plugin .tn-flex {
    display: flex;
}

.tasknotes-plugin .tn-flex-inline {
    display: inline-flex;
}

/* Flex Direction */
.tasknotes-plugin .tn-flex-row {
    flex-direction: row;
}

.tasknotes-plugin .tn-flex-col {
    flex-direction: column;
}

.tasknotes-plugin .tn-flex-row-reverse {
    flex-direction: row-reverse;
}

.tasknotes-plugin .tn-flex-col-reverse {
    flex-direction: column-reverse;
}

/* Flex Wrap */
.tasknotes-plugin .tn-flex-wrap {
    flex-wrap: wrap;
}

.tasknotes-plugin .tn-flex-nowrap {
    flex-wrap: nowrap;
}

.tasknotes-plugin .tn-flex-wrap-reverse {
    flex-wrap: wrap-reverse;
}

/* Justify Content */
.tasknotes-plugin .tn-justify-start {
    justify-content: flex-start;
}

.tasknotes-plugin .tn-justify-end {
    justify-content: flex-end;
}

.tasknotes-plugin .tn-justify-center {
    justify-content: center;
}

.tasknotes-plugin .tn-justify-between {
    justify-content: space-between;
}

.tasknotes-plugin .tn-justify-around {
    justify-content: space-around;
}

.tasknotes-plugin .tn-justify-evenly {
    justify-content: space-evenly;
}

/* Align Items */
.tasknotes-plugin .tn-items-start {
    align-items: flex-start;
}

.tasknotes-plugin .tn-items-end {
    align-items: flex-end;
}

.tasknotes-plugin .tn-items-center {
    align-items: center;
}

.tasknotes-plugin .tn-items-baseline {
    align-items: baseline;
}

.tasknotes-plugin .tn-items-stretch {
    align-items: stretch;
}

/* Align Self */
.tasknotes-plugin .tn-self-auto {
    align-self: auto;
}

.tasknotes-plugin .tn-self-start {
    align-self: flex-start;
}

.tasknotes-plugin .tn-self-end {
    align-self: flex-end;
}

.tasknotes-plugin .tn-self-center {
    align-self: center;
}

.tasknotes-plugin .tn-self-stretch {
    align-self: stretch;
}

/* Flex Growth and Shrink */
.tasknotes-plugin .tn-flex-1 {
    flex: 1 1 0%;
}

.tasknotes-plugin .tn-flex-auto {
    flex: 1 1 auto;
}

.tasknotes-plugin .tn-flex-initial {
    flex: 0 1 auto;
}

.tasknotes-plugin .tn-flex-none {
    flex: none;
}

.tasknotes-plugin .tn-grow {
    flex-grow: 1;
}

.tasknotes-plugin .tn-grow-0 {
    flex-grow: 0;
}

.tasknotes-plugin .tn-shrink {
    flex-shrink: 1;
}

.tasknotes-plugin .tn-shrink-0 {
    flex-shrink: 0;
}

/* Common Flex Combinations */
.tasknotes-plugin .tn-flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
}

.tasknotes-plugin .tn-flex-between {
    display: flex;
    justify-content: space-between;
}

.tasknotes-plugin .tn-flex-around {
    display: flex;
    justify-content: space-around;
}

.tasknotes-plugin .tn-flex-evenly {
    display: flex;
    justify-content: space-evenly;
}

.tasknotes-plugin .tn-flex-col-center {
    display: flex;
    flex-direction: column;
    align-items: center;
}

.tasknotes-plugin .tn-flex-col-between {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

/* ================================================
   LAYOUT UTILITIES - GRID
   ================================================ */

.tasknotes-plugin .tn-grid {
    display: grid;
}

.tasknotes-plugin .tn-grid-inline {
    display: inline-grid;
}

/* Grid Template Columns */
.tasknotes-plugin .tn-grid-cols-1 {
    grid-template-columns: repeat(1, minmax(0, 1fr));
}

.tasknotes-plugin .tn-grid-cols-2 {
    grid-template-columns: repeat(2, minmax(0, 1fr));
}

.tasknotes-plugin .tn-grid-cols-3 {
    grid-template-columns: repeat(3, minmax(0, 1fr));
}

.tasknotes-plugin .tn-grid-cols-4 {
    grid-template-columns: repeat(4, minmax(0, 1fr));
}

.tasknotes-plugin .tn-grid-cols-5 {
    grid-template-columns: repeat(5, minmax(0, 1fr));
}

.tasknotes-plugin .tn-grid-cols-6 {
    grid-template-columns: repeat(6, minmax(0, 1fr));
}

.tasknotes-plugin .tn-grid-cols-7 {
    grid-template-columns: repeat(7, minmax(0, 1fr));
}

.tasknotes-plugin .tn-grid-cols-12 {
    grid-template-columns: repeat(12, minmax(0, 1fr));
}

/* Grid Template Rows */
.tasknotes-plugin .tn-grid-rows-1 {
    grid-template-rows: repeat(1, minmax(0, 1fr));
}

.tasknotes-plugin .tn-grid-rows-2 {
    grid-template-rows: repeat(2, minmax(0, 1fr));
}

.tasknotes-plugin .tn-grid-rows-3 {
    grid-template-rows: repeat(3, minmax(0, 1fr));
}

.tasknotes-plugin .tn-grid-rows-4 {
    grid-template-rows: repeat(4, minmax(0, 1fr));
}

/* Grid Column Span */
.tasknotes-plugin .tn-col-span-1 {
    grid-column: span 1 / span 1;
}

.tasknotes-plugin .tn-col-span-2 {
    grid-column: span 2 / span 2;
}

.tasknotes-plugin .tn-col-span-3 {
    grid-column: span 3 / span 3;
}

.tasknotes-plugin .tn-col-span-4 {
    grid-column: span 4 / span 4;
}

.tasknotes-plugin .tn-col-span-full {
    grid-column: 1 / -1;
}

/* Grid Row Span */
.tasknotes-plugin .tn-row-span-1 {
    grid-row: span 1 / span 1;
}

.tasknotes-plugin .tn-row-span-2 {
    grid-row: span 2 / span 2;
}

.tasknotes-plugin .tn-row-span-3 {
    grid-row: span 3 / span 3;
}

.tasknotes-plugin .tn-row-span-full {
    grid-row: 1 / -1;
}

/* ================================================
   LAYOUT UTILITIES - POSITIONING
   ================================================ */

.tasknotes-plugin .tn-static {
    position: static;
}

.tasknotes-plugin .tn-fixed {
    position: fixed;
}

.tasknotes-plugin .tn-absolute {
    position: absolute;
}

.tasknotes-plugin .tn-relative {
    position: relative;
}

.tasknotes-plugin .tn-sticky {
    position: sticky;
}

/* Positioning Values */
.tasknotes-plugin .tn-inset-0 {
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
}

.tasknotes-plugin .tn-top-0 {
    top: 0;
}

.tasknotes-plugin .tn-right-0 {
    right: 0;
}

.tasknotes-plugin .tn-bottom-0 {
    bottom: 0;
}

.tasknotes-plugin .tn-left-0 {
    left: 0;
}

.tasknotes-plugin .tn-top-auto {
    top: auto;
}

.tasknotes-plugin .tn-right-auto {
    right: auto;
}

.tasknotes-plugin .tn-bottom-auto {
    bottom: auto;
}

.tasknotes-plugin .tn-left-auto {
    left: auto;
}

/* ================================================
   SPACING UTILITIES - MARGIN
   ================================================ */

/* All sides */
.tasknotes-plugin .tn-m-0 {
    margin: 0;
}

.tasknotes-plugin .tn-m-xs {
    margin: var(--tn-spacing-xs);
}

.tasknotes-plugin .tn-m-sm {
    margin: var(--tn-spacing-sm);
}

.tasknotes-plugin .tn-m-md {
    margin: var(--tn-spacing-md);
}

.tasknotes-plugin .tn-m-lg {
    margin: var(--tn-spacing-lg);
}

.tasknotes-plugin .tn-m-xl {
    margin: var(--tn-spacing-xl);
}

.tasknotes-plugin .tn-m-auto {
    margin: auto;
}

/* Horizontal */
.tasknotes-plugin .tn-mx-0 {
    margin-left: 0;
    margin-right: 0;
}

.tasknotes-plugin .tn-mx-xs {
    margin-left: var(--tn-spacing-xs);
    margin-right: var(--tn-spacing-xs);
}

.tasknotes-plugin .tn-mx-sm {
    margin-left: var(--tn-spacing-sm);
    margin-right: var(--tn-spacing-sm);
}

.tasknotes-plugin .tn-mx-md {
    margin-left: var(--tn-spacing-md);
    margin-right: var(--tn-spacing-md);
}

.tasknotes-plugin .tn-mx-lg {
    margin-left: var(--tn-spacing-lg);
    margin-right: var(--tn-spacing-lg);
}

.tasknotes-plugin .tn-mx-xl {
    margin-left: var(--tn-spacing-xl);
    margin-right: var(--tn-spacing-xl);
}

.tasknotes-plugin .tn-mx-auto {
    margin-left: auto;
    margin-right: auto;
}

/* Vertical */
.tasknotes-plugin .tn-my-0 {
    margin-top: 0;
    margin-bottom: 0;
}

.tasknotes-plugin .tn-my-xs {
    margin-top: var(--tn-spacing-xs);
    margin-bottom: var(--tn-spacing-xs);
}

.tasknotes-plugin .tn-my-sm {
    margin-top: var(--tn-spacing-sm);
    margin-bottom: var(--tn-spacing-sm);
}

.tasknotes-plugin .tn-my-md {
    margin-top: var(--tn-spacing-md);
    margin-bottom: var(--tn-spacing-md);
}

.tasknotes-plugin .tn-my-lg {
    margin-top: var(--tn-spacing-lg);
    margin-bottom: var(--tn-spacing-lg);
}

.tasknotes-plugin .tn-my-xl {
    margin-top: var(--tn-spacing-xl);
    margin-bottom: var(--tn-spacing-xl);
}

.tasknotes-plugin .tn-my-auto {
    margin-top: auto;
    margin-bottom: auto;
}

/* Individual sides */
.tasknotes-plugin .tn-mt-0 {
    margin-top: 0;
}

.tasknotes-plugin .tn-mt-xs {
    margin-top: var(--tn-spacing-xs);
}

.tasknotes-plugin .tn-mt-sm {
    margin-top: var(--tn-spacing-sm);
}

.tasknotes-plugin .tn-mt-md {
    margin-top: var(--tn-spacing-md);
}

.tasknotes-plugin .tn-mt-lg {
    margin-top: var(--tn-spacing-lg);
}

.tasknotes-plugin .tn-mt-xl {
    margin-top: var(--tn-spacing-xl);
}

.tasknotes-plugin .tn-mt-auto {
    margin-top: auto;
}

.tasknotes-plugin .tn-mr-0 {
    margin-right: 0;
}

.tasknotes-plugin .tn-mr-xs {
    margin-right: var(--tn-spacing-xs);
}

.tasknotes-plugin .tn-mr-sm {
    margin-right: var(--tn-spacing-sm);
}

.tasknotes-plugin .tn-mr-md {
    margin-right: var(--tn-spacing-md);
}

.tasknotes-plugin .tn-mr-lg {
    margin-right: var(--tn-spacing-lg);
}

.tasknotes-plugin .tn-mr-xl {
    margin-right: var(--tn-spacing-xl);
}

.tasknotes-plugin .tn-mr-auto {
    margin-right: auto;
}

.tasknotes-plugin .tn-mb-0 {
    margin-bottom: 0;
}

.tasknotes-plugin .tn-mb-xs {
    margin-bottom: var(--tn-spacing-xs);
}

.tasknotes-plugin .tn-mb-sm {
    margin-bottom: var(--tn-spacing-sm);
}

.tasknotes-plugin .tn-mb-md {
    margin-bottom: var(--tn-spacing-md);
}

.tasknotes-plugin .tn-mb-lg {
    margin-bottom: var(--tn-spacing-lg);
}

.tasknotes-plugin .tn-mb-xl {
    margin-bottom: var(--tn-spacing-xl);
}

.tasknotes-plugin .tn-mb-auto {
    margin-bottom: auto;
}

.tasknotes-plugin .tn-ml-0 {
    margin-left: 0;
}

.tasknotes-plugin .tn-ml-xs {
    margin-left: var(--tn-spacing-xs);
}

.tasknotes-plugin .tn-ml-sm {
    margin-left: var(--tn-spacing-sm);
}

.tasknotes-plugin .tn-ml-md {
    margin-left: var(--tn-spacing-md);
}

.tasknotes-plugin .tn-ml-lg {
    margin-left: var(--tn-spacing-lg);
}

.tasknotes-plugin .tn-ml-xl {
    margin-left: var(--tn-spacing-xl);
}

.tasknotes-plugin .tn-ml-auto {
    margin-left: auto;
}

/* ================================================
   SPACING UTILITIES - PADDING
   ================================================ */

/* All sides */
.tasknotes-plugin .tn-p-0 {
    padding: 0;
}

.tasknotes-plugin .tn-p-xs {
    padding: var(--tn-spacing-xs);
}

.tasknotes-plugin .tn-p-sm {
    padding: var(--tn-spacing-sm);
}

.tasknotes-plugin .tn-p-md {
    padding: var(--tn-spacing-md);
}

.tasknotes-plugin .tn-p-lg {
    padding: var(--tn-spacing-lg);
}

.tasknotes-plugin .tn-p-xl {
    padding: var(--tn-spacing-xl);
}

/* Horizontal */
.tasknotes-plugin .tn-px-0 {
    padding-left: 0;
    padding-right: 0;
}

.tasknotes-plugin .tn-px-xs {
    padding-left: var(--tn-spacing-xs);
    padding-right: var(--tn-spacing-xs);
}

.tasknotes-plugin .tn-px-sm {
    padding-left: var(--tn-spacing-sm);
    padding-right: var(--tn-spacing-sm);
}

.tasknotes-plugin .tn-px-md {
    padding-left: var(--tn-spacing-md);
    padding-right: var(--tn-spacing-md);
}

.tasknotes-plugin .tn-px-lg {
    padding-left: var(--tn-spacing-lg);
    padding-right: var(--tn-spacing-lg);
}

.tasknotes-plugin .tn-px-xl {
    padding-left: var(--tn-spacing-xl);
    padding-right: var(--tn-spacing-xl);
}

/* Vertical */
.tasknotes-plugin .tn-py-0 {
    padding-top: 0;
    padding-bottom: 0;
}

.tasknotes-plugin .tn-py-xs {
    padding-top: var(--tn-spacing-xs);
    padding-bottom: var(--tn-spacing-xs);
}

.tasknotes-plugin .tn-py-sm {
    padding-top: var(--tn-spacing-sm);
    padding-bottom: var(--tn-spacing-sm);
}

.tasknotes-plugin .tn-py-md {
    padding-top: var(--tn-spacing-md);
    padding-bottom: var(--tn-spacing-md);
}

.tasknotes-plugin .tn-py-lg {
    padding-top: var(--tn-spacing-lg);
    padding-bottom: var(--tn-spacing-lg);
}

.tasknotes-plugin .tn-py-xl {
    padding-top: var(--tn-spacing-xl);
    padding-bottom: var(--tn-spacing-xl);
}

/* Individual sides */
.tasknotes-plugin .tn-pt-0 {
    padding-top: 0;
}

.tasknotes-plugin .tn-pt-xs {
    padding-top: var(--tn-spacing-xs);
}

.tasknotes-plugin .tn-pt-sm {
    padding-top: var(--tn-spacing-sm);
}

.tasknotes-plugin .tn-pt-md {
    padding-top: var(--tn-spacing-md);
}

.tasknotes-plugin .tn-pt-lg {
    padding-top: var(--tn-spacing-lg);
}

.tasknotes-plugin .tn-pt-xl {
    padding-top: var(--tn-spacing-xl);
}

.tasknotes-plugin .tn-pr-0 {
    padding-right: 0;
}

.tasknotes-plugin .tn-pr-xs {
    padding-right: var(--tn-spacing-xs);
}

.tasknotes-plugin .tn-pr-sm {
    padding-right: var(--tn-spacing-sm);
}

.tasknotes-plugin .tn-pr-md {
    padding-right: var(--tn-spacing-md);
}

.tasknotes-plugin .tn-pr-lg {
    padding-right: var(--tn-spacing-lg);
}

.tasknotes-plugin .tn-pr-xl {
    padding-right: var(--tn-spacing-xl);
}

.tasknotes-plugin .tn-pb-0 {
    padding-bottom: 0;
}

.tasknotes-plugin .tn-pb-xs {
    padding-bottom: var(--tn-spacing-xs);
}

.tasknotes-plugin .tn-pb-sm {
    padding-bottom: var(--tn-spacing-sm);
}

.tasknotes-plugin .tn-pb-md {
    padding-bottom: var(--tn-spacing-md);
}

.tasknotes-plugin .tn-pb-lg {
    padding-bottom: var(--tn-spacing-lg);
}

.tasknotes-plugin .tn-pb-xl {
    padding-bottom: var(--tn-spacing-xl);
}

.tasknotes-plugin .tn-pl-0 {
    padding-left: 0;
}

.tasknotes-plugin .tn-pl-xs {
    padding-left: var(--tn-spacing-xs);
}

.tasknotes-plugin .tn-pl-sm {
    padding-left: var(--tn-spacing-sm);
}

.tasknotes-plugin .tn-pl-md {
    padding-left: var(--tn-spacing-md);
}

.tasknotes-plugin .tn-pl-lg {
    padding-left: var(--tn-spacing-lg);
}

.tasknotes-plugin .tn-pl-xl {
    padding-left: var(--tn-spacing-xl);
}

/* ================================================
   SPACING UTILITIES - GAP
   ================================================ */

.tasknotes-plugin .tn-gap-0 {
    gap: 0;
}

.tasknotes-plugin .tn-gap-xs {
    gap: var(--tn-spacing-xs);
}

.tasknotes-plugin .tn-gap-sm {
    gap: var(--tn-spacing-sm);
}

.tasknotes-plugin .tn-gap-md {
    gap: var(--tn-spacing-md);
}

.tasknotes-plugin .tn-gap-lg {
    gap: var(--tn-spacing-lg);
}

.tasknotes-plugin .tn-gap-xl {
    gap: var(--tn-spacing-xl);
}

/* Column Gap */
.tasknotes-plugin .tn-gap-x-0 {
    column-gap: 0;
}

.tasknotes-plugin .tn-gap-x-xs {
    column-gap: var(--tn-spacing-xs);
}

.tasknotes-plugin .tn-gap-x-sm {
    column-gap: var(--tn-spacing-sm);
}

.tasknotes-plugin .tn-gap-x-md {
    column-gap: var(--tn-spacing-md);
}

.tasknotes-plugin .tn-gap-x-lg {
    column-gap: var(--tn-spacing-lg);
}

.tasknotes-plugin .tn-gap-x-xl {
    column-gap: var(--tn-spacing-xl);
}

/* Row Gap */
.tasknotes-plugin .tn-gap-y-0 {
    row-gap: 0;
}

.tasknotes-plugin .tn-gap-y-xs {
    row-gap: var(--tn-spacing-xs);
}

.tasknotes-plugin .tn-gap-y-sm {
    row-gap: var(--tn-spacing-sm);
}

.tasknotes-plugin .tn-gap-y-md {
    row-gap: var(--tn-spacing-md);
}

.tasknotes-plugin .tn-gap-y-lg {
    row-gap: var(--tn-spacing-lg);
}

.tasknotes-plugin .tn-gap-y-xl {
    row-gap: var(--tn-spacing-xl);
}

/* ================================================
   DISPLAY UTILITIES
   ================================================ */

.tasknotes-plugin .tn-block {
    display: block;
}

.tasknotes-plugin .tn-inline-block {
    display: inline-block;
}

.tasknotes-plugin .tn-inline {
    display: inline;
}

.tasknotes-plugin .tn-hidden {
    display: none !important;
}

.tasknotes-plugin .tn-table {
    display: table;
}

.tasknotes-plugin .tn-table-row {
    display: table-row;
}

.tasknotes-plugin .tn-table-cell {
    display: table-cell;
}

/* ================================================
   VISIBILITY UTILITIES
   ================================================ */

.tasknotes-plugin .tn-visible {
    visibility: visible;
}

.tasknotes-plugin .tn-invisible {
    visibility: hidden;
}

.tasknotes-plugin .tn-collapse {
    visibility: collapse;
}

/* ================================================
   TYPOGRAPHY UTILITIES
   ================================================ */

/* Text Alignment */
.tasknotes-plugin .tn-text-left {
    text-align: left;
}

.tasknotes-plugin .tn-text-center {
    text-align: center;
}

.tasknotes-plugin .tn-text-right {
    text-align: right;
}

.tasknotes-plugin .tn-text-justify {
    text-align: justify;
}

/* Font Weight */
.tasknotes-plugin .tn-font-thin {
    font-weight: 100;
}

.tasknotes-plugin .tn-font-light {
    font-weight: 300;
}

.tasknotes-plugin .tn-font-normal {
    font-weight: var(--tn-font-weight-normal);
}

.tasknotes-plugin .tn-font-medium {
    font-weight: var(--tn-font-weight-medium);
}

.tasknotes-plugin .tn-font-semibold {
    font-weight: var(--tn-font-weight-semibold);
}

.tasknotes-plugin .tn-font-bold {
    font-weight: var(--tn-font-weight-bold);
}

/* Font Size */
.tasknotes-plugin .tn-text-xs {
    font-size: var(--tn-font-size-xs);
}

.tasknotes-plugin .tn-text-sm {
    font-size: var(--tn-font-size-sm);
}

.tasknotes-plugin .tn-text-base {
    font-size: var(--tn-font-size-md);
}

.tasknotes-plugin .tn-text-lg {
    font-size: var(--tn-font-size-lg);
}

.tasknotes-plugin .tn-text-xl {
    font-size: var(--tn-font-size-xl);
}

.tasknotes-plugin .tn-text-2xl {
    font-size: var(--tn-font-size-2xl);
}

/* Text Transform */
.tasknotes-plugin .tn-uppercase {
    text-transform: uppercase;
}

.tasknotes-plugin .tn-lowercase {
    text-transform: lowercase;
}

.tasknotes-plugin .tn-capitalize {
    text-transform: capitalize;
}

.tasknotes-plugin .tn-normal-case {
    text-transform: none;
}

/* Text Decoration */
.tasknotes-plugin .tn-underline {
    text-decoration: underline;
}

.tasknotes-plugin .tn-line-through {
    text-decoration: line-through;
}

.tasknotes-plugin .tn-no-underline {
    text-decoration: none;
}

/* Line Height */
.tasknotes-plugin .tn-leading-none {
    line-height: 1;
}

.tasknotes-plugin .tn-leading-tight {
    line-height: 1.25;
}

.tasknotes-plugin .tn-leading-snug {
    line-height: 1.375;
}

.tasknotes-plugin .tn-leading-normal {
    line-height: 1.5;
}

.tasknotes-plugin .tn-leading-relaxed {
    line-height: 1.625;
}

.tasknotes-plugin .tn-leading-loose {
    line-height: 2;
}

/* Text Colors */
.tasknotes-plugin .tn-text-normal {
    color: var(--tn-text-normal);
}

.tasknotes-plugin .tn-text-muted {
    color: var(--tn-text-muted);
}

.tasknotes-plugin .tn-text-faint {
    color: var(--tn-text-faint);
}

.tasknotes-plugin .tn-text-accent {
    color: var(--tn-text-accent);
}

.tasknotes-plugin .tn-text-success {
    color: var(--tn-color-success);
}

.tasknotes-plugin .tn-text-warning {
    color: var(--tn-color-warning);
}

.tasknotes-plugin .tn-text-error {
    color: var(--tn-color-error);
}

.tasknotes-plugin .tn-text-info {
    color: var(--tn-color-info);
}

/* ================================================
   BACKGROUND UTILITIES
   ================================================ */

.tasknotes-plugin .tn-bg-primary {
    background-color: var(--tn-bg-primary);
}

.tasknotes-plugin .tn-bg-secondary {
    background-color: var(--tn-bg-secondary);
}

.tasknotes-plugin .tn-bg-accent {
    background-color: var(--tn-interactive-accent);
}

.tasknotes-plugin .tn-bg-success {
    background-color: var(--tn-color-success);
}

.tasknotes-plugin .tn-bg-warning {
    background-color: var(--tn-color-warning);
}

.tasknotes-plugin .tn-bg-error {
    background-color: var(--tn-color-error);
}

.tasknotes-plugin .tn-bg-info {
    background-color: var(--tn-color-info);
}

.tasknotes-plugin .tn-bg-transparent {
    background-color: transparent;
}

/* ================================================
   BORDER UTILITIES
   ================================================ */

/* Border Width */
.tasknotes-plugin .tn-border-0 {
    border-width: 0;
}

.tasknotes-plugin .tn-border {
    border-width: 1px;
}

.tasknotes-plugin .tn-border-2 {
    border-width: 2px;
}

.tasknotes-plugin .tn-border-t {
    border-top-width: 1px;
}

.tasknotes-plugin .tn-border-r {
    border-right-width: 1px;
}

.tasknotes-plugin .tn-border-b {
    border-bottom-width: 1px;
}

.tasknotes-plugin .tn-border-l {
    border-left-width: 1px;
}

/* Border Style */
.tasknotes-plugin .tn-border-solid {
    border-style: solid;
}

.tasknotes-plugin .tn-border-dashed {
    border-style: dashed;
}

.tasknotes-plugin .tn-border-dotted {
    border-style: dotted;
}

.tasknotes-plugin .tn-border-none {
    border-style: none;
}

/* Border Color */
.tasknotes-plugin .tn-border-normal {
    border-color: var(--tn-border-color);
}

.tasknotes-plugin .tn-border-hover {
    border-color: var(--tn-border-color-hover);
}

.tasknotes-plugin .tn-border-accent {
    border-color: var(--tn-interactive-accent);
}

.tasknotes-plugin .tn-border-success {
    border-color: var(--tn-color-success);
}

.tasknotes-plugin .tn-border-warning {
    border-color: var(--tn-color-warning);
}

.tasknotes-plugin .tn-border-error {
    border-color: var(--tn-color-error);
}

.tasknotes-plugin .tn-border-transparent {
    border-color: transparent;
}

/* Border Radius */
.tasknotes-plugin .tn-rounded-none {
    border-radius: 0;
}

.tasknotes-plugin .tn-rounded-xs {
    border-radius: var(--tn-radius-xs);
}

.tasknotes-plugin .tn-rounded-sm {
    border-radius: var(--tn-radius-sm);
}

.tasknotes-plugin .tn-rounded {
    border-radius: var(--tn-radius-md);
}

.tasknotes-plugin .tn-rounded-md {
    border-radius: var(--tn-radius-md);
}

.tasknotes-plugin .tn-rounded-lg {
    border-radius: var(--tn-radius-lg);
}

.tasknotes-plugin .tn-rounded-xl {
    border-radius: var(--tn-radius-xl);
}

.tasknotes-plugin .tn-rounded-full {
    border-radius: var(--tn-radius-full);
}

/* Individual corner radius */
.tasknotes-plugin .tn-rounded-t-sm {
    border-top-left-radius: var(--tn-radius-sm);
    border-top-right-radius: var(--tn-radius-sm);
}

.tasknotes-plugin .tn-rounded-r-sm {
    border-top-right-radius: var(--tn-radius-sm);
    border-bottom-right-radius: var(--tn-radius-sm);
}

.tasknotes-plugin .tn-rounded-b-sm {
    border-bottom-left-radius: var(--tn-radius-sm);
    border-bottom-right-radius: var(--tn-radius-sm);
}

.tasknotes-plugin .tn-rounded-l-sm {
    border-top-left-radius: var(--tn-radius-sm);
    border-bottom-left-radius: var(--tn-radius-sm);
}

/* ================================================
   SHADOW UTILITIES
   ================================================ */

.tasknotes-plugin .tn-shadow-none {
    box-shadow: none;
}

.tasknotes-plugin .tn-shadow-light {
    box-shadow: var(--tn-shadow-light);
}

.tasknotes-plugin .tn-shadow {
    box-shadow: var(--tn-shadow-medium);
}

.tasknotes-plugin .tn-shadow-medium {
    box-shadow: var(--tn-shadow-medium);
}

.tasknotes-plugin .tn-shadow-strong {
    box-shadow: var(--tn-shadow-strong);
}

.tasknotes-plugin .tn-shadow-hover {
    box-shadow: var(--tn-shadow-hover);
}

/* ================================================
   OVERFLOW UTILITIES
   ================================================ */

.tasknotes-plugin .tn-overflow-auto {
    overflow: auto;
}

.tasknotes-plugin .tn-overflow-hidden {
    overflow: hidden;
}

.tasknotes-plugin .tn-overflow-visible {
    overflow: visible;
}

.tasknotes-plugin .tn-overflow-scroll {
    overflow: scroll;
}

.tasknotes-plugin .tn-overflow-x-auto {
    overflow-x: auto;
}

.tasknotes-plugin .tn-overflow-x-hidden {
    overflow-x: hidden;
}

.tasknotes-plugin .tn-overflow-x-scroll {
    overflow-x: scroll;
}

.tasknotes-plugin .tn-overflow-y-auto {
    overflow-y: auto;
}

.tasknotes-plugin .tn-overflow-y-hidden {
    overflow-y: hidden;
}

.tasknotes-plugin .tn-overflow-y-scroll {
    overflow-y: scroll;
}

/* ================================================
   SIZE UTILITIES
   ================================================ */

/* Width */
.tasknotes-plugin .tn-w-auto {
    width: auto;
}

.tasknotes-plugin .tn-w-full {
    width: 100%;
}

.tasknotes-plugin .tn-w-screen {
    width: 100vw;
}

.tasknotes-plugin .tn-w-min {
    width: min-content;
}

.tasknotes-plugin .tn-w-max {
    width: max-content;
}

.tasknotes-plugin .tn-w-fit {
    width: fit-content;
}

/* Specific widths */
.tasknotes-plugin .tn-w-0 {
    width: 0;
}

.tasknotes-plugin .tn-w-px {
    width: 1px;
}

.tasknotes-plugin .tn-w-1 {
    width: 0.25rem;
}

.tasknotes-plugin .tn-w-2 {
    width: 0.5rem;
}

.tasknotes-plugin .tn-w-4 {
    width: 1rem;
}

.tasknotes-plugin .tn-w-8 {
    width: 2rem;
}

.tasknotes-plugin .tn-w-12 {
    width: 3rem;
}

.tasknotes-plugin .tn-w-16 {
    width: 4rem;
}

.tasknotes-plugin .tn-w-20 {
    width: 5rem;
}

.tasknotes-plugin .tn-w-24 {
    width: 6rem;
}

/* Height */
.tasknotes-plugin .tn-h-auto {
    height: auto;
}

.tasknotes-plugin .tn-h-full {
    height: 100%;
}

.tasknotes-plugin .tn-h-screen {
    height: 100vh;
}

.tasknotes-plugin .tn-h-min {
    height: min-content;
}

.tasknotes-plugin .tn-h-max {
    height: max-content;
}

.tasknotes-plugin .tn-h-fit {
    height: fit-content;
}

/* Specific heights */
.tasknotes-plugin .tn-h-0 {
    height: 0;
}

.tasknotes-plugin .tn-h-px {
    height: 1px;
}

.tasknotes-plugin .tn-h-1 {
    height: 0.25rem;
}

.tasknotes-plugin .tn-h-2 {
    height: 0.5rem;
}

.tasknotes-plugin .tn-h-4 {
    height: 1rem;
}

.tasknotes-plugin .tn-h-8 {
    height: 2rem;
}

.tasknotes-plugin .tn-h-12 {
    height: 3rem;
}

.tasknotes-plugin .tn-h-16 {
    height: 4rem;
}

.tasknotes-plugin .tn-h-20 {
    height: 5rem;
}

.tasknotes-plugin .tn-h-24 {
    height: 6rem;
}

/* Min/Max Width */
.tasknotes-plugin .tn-min-w-0 {
    min-width: 0;
}

.tasknotes-plugin .tn-min-w-full {
    min-width: 100%;
}

.tasknotes-plugin .tn-max-w-xs {
    max-width: 20rem;
}

.tasknotes-plugin .tn-max-w-sm {
    max-width: 24rem;
}

.tasknotes-plugin .tn-max-w-md {
    max-width: 28rem;
}

.tasknotes-plugin .tn-max-w-lg {
    max-width: 32rem;
}

.tasknotes-plugin .tn-max-w-xl {
    max-width: 36rem;
}

.tasknotes-plugin .tn-max-w-full {
    max-width: 100%;
}

.tasknotes-plugin .tn-max-w-none {
    max-width: none;
}

/* Min/Max Height */
.tasknotes-plugin .tn-min-h-0 {
    min-height: 0;
}

.tasknotes-plugin .tn-min-h-full {
    min-height: 100%;
}

.tasknotes-plugin .tn-max-h-full {
    max-height: 100%;
}

.tasknotes-plugin .tn-max-h-screen {
    max-height: 100vh;
}

/* ================================================
   Z-INDEX UTILITIES
   ================================================ */

.tasknotes-plugin .tn-z-0 {
    z-index: 0;
}

.tasknotes-plugin .tn-z-10 {
    z-index: 10;
}

.tasknotes-plugin .tn-z-20 {
    z-index: 20;
}

.tasknotes-plugin .tn-z-30 {
    z-index: 30;
}

.tasknotes-plugin .tn-z-40 {
    z-index: 40;
}

.tasknotes-plugin .tn-z-50 {
    z-index: 50;
}

.tasknotes-plugin .tn-z-auto {
    z-index: auto;
}

.tasknotes-plugin .tn-z-sticky {
    z-index: var(--tn-z-sticky);
}

.tasknotes-plugin .tn-z-dropdown {
    z-index: var(--tn-z-dropdown);
}

.tasknotes-plugin .tn-z-modal {
    z-index: var(--tn-z-modal);
}

.tasknotes-plugin .tn-z-tooltip {
    z-index: var(--tn-z-tooltip);
}

/* ================================================
   CURSOR UTILITIES
   ================================================ */

.tasknotes-plugin .tn-cursor-auto {
    cursor: auto;
}

.tasknotes-plugin .tn-cursor-default {
    cursor: default;
}

.tasknotes-plugin .tn-cursor-pointer {
    cursor: pointer;
}

.tasknotes-plugin .tn-cursor-wait {
    cursor: wait;
}

.tasknotes-plugin .tn-cursor-text {
    cursor: text;
}

.tasknotes-plugin .tn-cursor-move {
    cursor: move;
}

.tasknotes-plugin .tn-cursor-help {
    cursor: help;
}

.tasknotes-plugin .tn-cursor-not-allowed {
    cursor: not-allowed;
}

.tasknotes-plugin .tn-cursor-grab {
    cursor: grab;
}

.tasknotes-plugin .tn-cursor-grabbing {
    cursor: grabbing;
}

/* ================================================
   USER SELECT UTILITIES
   ================================================ */

.tasknotes-plugin .tn-select-none {
    user-select: none;
}

.tasknotes-plugin .tn-select-text {
    user-select: text;
}

.tasknotes-plugin .tn-select-all {
    user-select: all;
}

.tasknotes-plugin .tn-select-auto {
    user-select: auto;
}

/* ================================================
   POINTER EVENTS UTILITIES
   ================================================ */

.tasknotes-plugin .tn-pointer-events-none {
    pointer-events: none;
}

.tasknotes-plugin .tn-pointer-events-auto {
    pointer-events: auto;
}

/* ================================================
   TRANSITIONS UTILITIES
   ================================================ */

.tasknotes-plugin .tn-transition-none {
    transition: none;
}

.tasknotes-plugin .tn-transition-fast {
    transition: all var(--tn-transition-fast);
}

.tasknotes-plugin .tn-transition {
    transition: all var(--tn-transition-normal);
}

.tasknotes-plugin .tn-transition-slow {
    transition: all var(--tn-transition-slow);
}

.tasknotes-plugin .tn-transition-colors {
    transition: color var(--tn-transition-normal), background-color var(--tn-transition-normal), border-color var(--tn-transition-normal);
}

.tasknotes-plugin .tn-transition-opacity {
    transition: opacity var(--tn-transition-normal);
}

.tasknotes-plugin .tn-transition-transform {
    transition: transform var(--tn-transition-normal);
}

/* ================================================
   TRANSFORM UTILITIES
   ================================================ */

.tasknotes-plugin .tn-transform {
    transform: var(--tw-transform);
}

.tasknotes-plugin .tn-transform-none {
    transform: none;
}

/* Scale */
.tasknotes-plugin .tn-scale-0 {
    --tw-scale-x: 0;
    --tw-scale-y: 0;
    transform: scale(var(--tw-scale-x), var(--tw-scale-y));
}

.tasknotes-plugin .tn-scale-50 {
    --tw-scale-x: 0.5;
    --tw-scale-y: 0.5;
    transform: scale(var(--tw-scale-x), var(--tw-scale-y));
}

.tasknotes-plugin .tn-scale-75 {
    --tw-scale-x: 0.75;
    --tw-scale-y: 0.75;
    transform: scale(var(--tw-scale-x), var(--tw-scale-y));
}

.tasknotes-plugin .tn-scale-90 {
    --tw-scale-x: 0.9;
    --tw-scale-y: 0.9;
    transform: scale(var(--tw-scale-x), var(--tw-scale-y));
}

.tasknotes-plugin .tn-scale-95 {
    --tw-scale-x: 0.95;
    --tw-scale-y: 0.95;
    transform: scale(var(--tw-scale-x), var(--tw-scale-y));
}

.tasknotes-plugin .tn-scale-100 {
    --tw-scale-x: 1;
    --tw-scale-y: 1;
    transform: scale(var(--tw-scale-x), var(--tw-scale-y));
}

.tasknotes-plugin .tn-scale-105 {
    --tw-scale-x: 1.05;
    --tw-scale-y: 1.05;
    transform: scale(var(--tw-scale-x), var(--tw-scale-y));
}

.tasknotes-plugin .tn-scale-110 {
    --tw-scale-x: 1.1;
    --tw-scale-y: 1.1;
    transform: scale(var(--tw-scale-x), var(--tw-scale-y));
}

.tasknotes-plugin .tn-scale-125 {
    --tw-scale-x: 1.25;
    --tw-scale-y: 1.25;
    transform: scale(var(--tw-scale-x), var(--tw-scale-y));
}

/* ================================================
   OPACITY UTILITIES
   ================================================ */

.tasknotes-plugin .tn-opacity-0 {
    opacity: 0;
}

.tasknotes-plugin .tn-opacity-25 {
    opacity: 0.25;
}

.tasknotes-plugin .tn-opacity-50 {
    opacity: 0.5;
}

.tasknotes-plugin .tn-opacity-75 {
    opacity: 0.75;
}

.tasknotes-plugin .tn-opacity-100 {
    opacity: 1;
}

/* ================================================
   STATE UTILITIES
   ================================================ */

/* Loading State */
.tasknotes-plugin .tn-loading {
    opacity: 0.7;
    pointer-events: none;
    position: relative;
}

.tasknotes-plugin .tn-loading::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 16px;
    height: 16px;
    margin: -8px 0 0 -8px;
    border: 2px solid currentColor;
    border-top-color: transparent;
    border-radius: 50%;
    animation: tn-spin 0.8s linear infinite;
}

/* Disabled State */
.tasknotes-plugin .tn-disabled {
    opacity: 0.5;
    cursor: not-allowed;
    pointer-events: none;
}

/* Interactive States */
.tasknotes-plugin .tn-hover-opacity:hover {
    opacity: 0.8;
}

.tasknotes-plugin .tn-hover-scale:hover {
    transform: scale(1.05);
}

.tasknotes-plugin .tn-hover-shadow:hover {
    box-shadow: var(--tn-shadow-hover);
}

/* Focus States */
.tasknotes-plugin .tn-focus-ring:focus {
    outline: 2px solid var(--tn-interactive-accent);
    outline-offset: 2px;
}

.tasknotes-plugin .tn-focus-ring:focus-visible {
    outline: 2px solid var(--tn-interactive-accent);
    outline-offset: 2px;
}

/* ================================================
   ANIMATION UTILITIES
   ================================================ */

.tasknotes-plugin .tn-animate-spin {
    animation: tn-spin 1s linear infinite;
}

.tasknotes-plugin .tn-animate-pulse {
    animation: tn-pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.tasknotes-plugin .tn-animate-bounce {
    animation: tn-bounce 1s infinite;
}

.tasknotes-plugin .tn-animate-fade-in {
    animation: tn-fade-in 0.3s ease-out;
}

.tasknotes-plugin .tn-animate-slide-up {
    animation: tn-slide-up 0.3s ease-out;
}

/* Keyframes */
@keyframes tn-spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

@keyframes tn-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

@keyframes tn-bounce {
    0%, 100% {
        transform: translateY(-25%);
        animation-timing-function: cubic-bezier(0.8, 0, 1, 1);
    }
    50% {
        transform: translateY(0);
        animation-timing-function: cubic-bezier(0, 0, 0.2, 1);
    }
}

@keyframes tn-fade-in {
    0% { opacity: 0; }
    100% { opacity: 1; }
}

@keyframes tn-slide-up {
    0% { 
        opacity: 0; 
        transform: translateY(10px); 
    }
    100% { 
        opacity: 1; 
        transform: translateY(0); 
    }
}

/* ================================================
   ACCESSIBILITY UTILITIES
   ================================================ */

/* Screen Reader Only */
.tasknotes-plugin .tn-sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

.tasknotes-plugin .tn-not-sr-only {
    position: static;
    width: auto;
    height: auto;
    padding: 0;
    margin: 0;
    overflow: visible;
    clip: auto;
    white-space: normal;
}

/* ================================================
   RESPONSIVE UTILITIES (MOBILE-FIRST)
   ================================================ */

/* Small screens (tablets, 768px and up) */
@media (min-width: 768px) {
    .tasknotes-plugin .tn-sm-block {
        display: block;
    }
    
    .tasknotes-plugin .tn-sm-hidden {
        display: none;
    }
    
    .tasknotes-plugin .tn-sm-flex {
        display: flex;
    }
    
    .tasknotes-plugin .tn-sm-grid {
        display: grid;
    }
    
    .tasknotes-plugin .tn-sm-flex-row {
        flex-direction: row;
    }
    
    .tasknotes-plugin .tn-sm-flex-col {
        flex-direction: column;
    }
    
    .tasknotes-plugin .tn-sm-text-left {
        text-align: left;
    }
    
    .tasknotes-plugin .tn-sm-text-center {
        text-align: center;
    }
    
    .tasknotes-plugin .tn-sm-text-right {
        text-align: right;
    }
}

/* Medium screens (desktops, 992px and up) */
@media (min-width: 992px) {
    .tasknotes-plugin .tn-md-block {
        display: block;
    }
    
    .tasknotes-plugin .tn-md-hidden {
        display: none;
    }
    
    .tasknotes-plugin .tn-md-flex {
        display: flex;
    }
    
    .tasknotes-plugin .tn-md-grid {
        display: grid;
    }
    
    .tasknotes-plugin .tn-md-flex-row {
        flex-direction: row;
    }
    
    .tasknotes-plugin .tn-md-flex-col {
        flex-direction: column;
    }
    
    .tasknotes-plugin .tn-md-text-left {
        text-align: left;
    }
    
    .tasknotes-plugin .tn-md-text-center {
        text-align: center;
    }
    
    .tasknotes-plugin .tn-md-text-right {
        text-align: right;
    }
}

/* Large screens (large desktops, 1200px and up) */
@media (min-width: 1200px) {
    .tasknotes-plugin .tn-lg-block {
        display: block;
    }
    
    .tasknotes-plugin .tn-lg-hidden {
        display: none;
    }
    
    .tasknotes-plugin .tn-lg-flex {
        display: flex;
    }
    
    .tasknotes-plugin .tn-lg-grid {
        display: grid;
    }
    
    .tasknotes-plugin .tn-lg-flex-row {
        flex-direction: row;
    }
    
    .tasknotes-plugin .tn-lg-flex-col {
        flex-direction: column;
    }
    
    .tasknotes-plugin .tn-lg-text-left {
        text-align: left;
    }
    
    .tasknotes-plugin .tn-lg-text-center {
        text-align: center;
    }
    
    .tasknotes-plugin .tn-lg-text-right {
        text-align: right;
    }
}

/* ================================================
   DARK MODE SUPPORT
   ================================================ */

/* Dark mode specific utilities */
.theme-dark .tasknotes-plugin .tn-dark-bg-primary {
    background-color: var(--tn-bg-primary);
}

.theme-dark .tasknotes-plugin .tn-dark-bg-secondary {
    background-color: var(--tn-bg-secondary);
}

.theme-dark .tasknotes-plugin .tn-dark-text-normal {
    color: var(--tn-text-normal);
}

.theme-dark .tasknotes-plugin .tn-dark-text-muted {
    color: var(--tn-text-muted);
}

.theme-dark .tasknotes-plugin .tn-dark-border-normal {
    border-color: var(--tn-border-color);
}

/* ================================================
   REDUCED MOTION SUPPORT
   ================================================ */

@media (prefers-reduced-motion: reduce) {
    .tasknotes-plugin .tn-transition-fast,
    .tasknotes-plugin .tn-transition,
    .tasknotes-plugin .tn-transition-slow,
    .tasknotes-plugin .tn-transition-colors,
    .tasknotes-plugin .tn-transition-opacity,
    .tasknotes-plugin .tn-transition-transform {
        transition: none !important;
    }
    
    .tasknotes-plugin .tn-animate-spin,
    .tasknotes-plugin .tn-animate-pulse,
    .tasknotes-plugin .tn-animate-bounce,
    .tasknotes-plugin .tn-animate-fade-in,
    .tasknotes-plugin .tn-animate-slide-up {
        animation: none !important;
    }
    
    .tasknotes-plugin .tn-hover-scale:hover {
        transform: none !important;
    }
}

/* ================================================
   HIGH CONTRAST SUPPORT
   ================================================ */

@media (prefers-contrast: high) {
    .tasknotes-plugin .tn-border {
        border-width: 2px;
    }
    
    .tasknotes-plugin .tn-focus-ring:focus,
    .tasknotes-plugin .tn-focus-ring:focus-visible {
        outline-width: 3px;
    }
}

/* ===== BASE.CSS ===== */
/* Reduced motion support - scope to TaskNotes components only */
@media (prefers-reduced-motion: reduce) {
    .tasknotes-container *,
    .tasknotes-card *,
    .tasknotes-button * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Button click feedback - scope to TaskNotes buttons only */
.tasknotes-container button:active:not(:disabled),
.tasknotes-button:active:not(:disabled) {
    transform: scale(0.98);
}

/* Performance optimization animations */
@keyframes task-flash {
    0% { 
        background-color: var(--interactive-accent-hover); 
        transform: scale(1.02);
    }
    100% { 
        background-color: transparent; 
        transform: scale(1);
    }
}

@keyframes task-pulse {
    0%, 100% { 
        opacity: 1; 
        transform: scale(1);
    }
    50% { 
        opacity: 0.8; 
        transform: scale(1.01);
    }
}

@keyframes task-fade-in {
    0% { 
        opacity: 0; 
        transform: translateY(-4px);
    }
    100% { 
        opacity: 1; 
        transform: translateY(0);
    }
}

@keyframes tracking-pulse {
    0%, 100% { 
        opacity: 0.3;
        transform: scale(1);
    }
    50% { 
        opacity: 0.6;
        transform: scale(1.01);
    }
}

/* Task update animations */
.task-flash {
    animation: task-flash 1500ms ease-out;
}

.task-pulse {
    animation: task-pulse 1000ms ease-in-out;
}

.task-fade-in {
    animation: task-fade-in 300ms ease-out;
}

/* ================================================
   MATERIAL DESIGN 3 UTILITY CLASSES
   ================================================ */

/* Layout Utilities */
.cs-flex { display: flex; }
.cs-flex--column { flex-direction: column; }
.cs-flex--row { flex-direction: row; }
.cs-flex--center { align-items: center; justify-content: center; }
.cs-flex--between { justify-content: space-between; }
.cs-flex--around { justify-content: space-around; }
.cs-flex--evenly { justify-content: space-evenly; }
.cs-flex--start { justify-content: flex-start; }
.cs-flex--end { justify-content: flex-end; }
.cs-flex--wrap { flex-wrap: wrap; }
.cs-flex--nowrap { flex-wrap: nowrap; }
.cs-flex--align-center { align-items: center; }
.cs-flex--align-start { align-items: flex-start; }
.cs-flex--align-end { align-items: flex-end; }
.cs-flex--align-stretch { align-items: stretch; }

/* Gap Utilities */
.cs-gap--xs { gap: var(--cs-spacing-xs); }
.cs-gap--sm { gap: var(--cs-spacing-sm); }
.cs-gap--md { gap: var(--cs-spacing-md); }
.cs-gap--lg { gap: var(--cs-spacing-lg); }
.cs-gap--xl { gap: var(--cs-spacing-xl); }

/* Padding Utilities */
.cs-p--0 { padding: 0; }
.cs-p--xs { padding: var(--cs-spacing-xs); }
.cs-p--sm { padding: var(--cs-spacing-sm); }
.cs-p--md { padding: var(--cs-spacing-md); }
.cs-p--lg { padding: var(--cs-spacing-lg); }
.cs-p--xl { padding: var(--cs-spacing-xl); }

/* Padding directional */
.cs-px--xs { padding-left: var(--cs-spacing-xs); padding-right: var(--cs-spacing-xs); }
.cs-px--sm { padding-left: var(--cs-spacing-sm); padding-right: var(--cs-spacing-sm); }
.cs-px--md { padding-left: var(--cs-spacing-md); padding-right: var(--cs-spacing-md); }
.cs-py--xs { padding-top: var(--cs-spacing-xs); padding-bottom: var(--cs-spacing-xs); }
.cs-py--sm { padding-top: var(--cs-spacing-sm); padding-bottom: var(--cs-spacing-sm); }
.cs-py--md { padding-top: var(--cs-spacing-md); padding-bottom: var(--cs-spacing-md); }

/* Margin Utilities */
.cs-m--0 { margin: 0; }
.cs-m--xs { margin: var(--cs-spacing-xs); }
.cs-m--sm { margin: var(--cs-spacing-sm); }
.cs-m--md { margin: var(--cs-spacing-md); }
.cs-mb--xs { margin-bottom: var(--cs-spacing-xs); }
.cs-mb--sm { margin-bottom: var(--cs-spacing-sm); }
.cs-mb--md { margin-bottom: var(--cs-spacing-md); }
.cs-mt--xs { margin-top: var(--cs-spacing-xs); }
.cs-mt--sm { margin-top: var(--cs-spacing-sm); }
.cs-mt--md { margin-top: var(--cs-spacing-md); }

/* Display Utilities */
.cs-hidden { display: none; }
.cs-visible { display: block; }
.cs-inline { display: inline; }
.cs-inline-block { display: inline-block; }

/* Position Utilities */
.cs-relative { position: relative; }
.cs-absolute { position: absolute; }
.cs-fixed { position: fixed; }
.cs-sticky { position: sticky; }

/* Typography Utilities */
.cs-text--center { text-align: center; }
.cs-text--left { text-align: left; }
.cs-text--right { text-align: right; }
.cs-text--uppercase { text-transform: uppercase; }
.cs-text--lowercase { text-transform: lowercase; }
.cs-text--capitalize { text-transform: capitalize; }
.cs-text--normal { font-weight: normal; }
.cs-text--medium { font-weight: 500; }
.cs-text--semibold { font-weight: 600; }
.cs-text--bold { font-weight: bold; }

/* Color Utilities */
.cs-text--primary { color: var(--text-normal); }
.cs-text--secondary { color: var(--text-muted); }
.cs-text--accent { color: var(--interactive-accent); }
.cs-text--error { color: var(--text-error); }
.cs-text--success { color: var(--text-success); }
.cs-text--warning { color: var(--text-warning); }

/* ================================================
   MATERIAL 3 EXPRESSIVE BUTTON SYSTEM
   ================================================ */

/* Base Button - Enhanced with expressive motion and personality */
.cs-btn {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--cs-spacing-sm);
    border: none;
    border-radius: var(--cs-radius-lg);
    font-family: inherit;
    font-size: var(--cs-text-label-large);
    font-weight: 500;
    line-height: 1.25;
    text-decoration: none;
    white-space: nowrap;
    user-select: none;
    cursor: pointer;
    transition: all var(--cs-transition-normal);
    overflow: hidden;
    outline: none;
    min-height: var(--cs-button-height-md);
    padding: 0 var(--cs-spacing-lg);
    transform-origin: center;
    will-change: transform, box-shadow;
}

.cs-btn:disabled {
    opacity: var(--cs-state-disabled);
    cursor: not-allowed;
    pointer-events: none;
}

.cs-btn:focus-visible {
    outline: 2px solid var(--interactive-accent);
    outline-offset: 2px;
}

/* Filled Button - Primary actions */
.cs-btn--filled {
    background: var(--interactive-accent);
    color: var(--text-on-accent);
    box-shadow: var(--cs-elevation-1);
}

.cs-btn--filled:hover {
    background: var(--interactive-accent-hover);
    box-shadow: var(--cs-elevation-2);
    transform: translateY(-1px);
}

.cs-btn--filled:active {
    background: var(--interactive-accent);
    box-shadow: var(--cs-elevation-1);
    transform: translateY(0);
}

/* Outlined Button - Secondary actions */
.cs-btn--outlined {
    background: transparent;
    color: var(--interactive-accent);
    border: 1px solid var(--background-modifier-border);
}

.cs-btn--outlined:hover {
    background: color-mix(in srgb, var(--interactive-accent) var(--cs-state-hover), transparent);
    border-color: var(--interactive-accent);
}

.cs-btn--outlined:active {
    background: color-mix(in srgb, var(--interactive-accent) var(--cs-state-pressed), transparent);
}

/* Text Button - Tertiary actions */
.cs-btn--text {
    background: transparent;
    color: var(--interactive-accent);
    padding: 0 var(--cs-spacing-md);
}

.cs-btn--text:hover {
    background: color-mix(in srgb, var(--interactive-accent) var(--cs-state-hover), transparent);
}

.cs-btn--text:active {
    background: color-mix(in srgb, var(--interactive-accent) var(--cs-state-pressed), transparent);
}

/* Elevated Button - Subtle elevation */
.cs-btn--elevated {
    background: var(--cs-surface-container-low);
    color: var(--interactive-accent);
    box-shadow: var(--cs-elevation-1);
}

.cs-btn--elevated:hover {
    background: color-mix(in srgb, var(--interactive-accent) var(--cs-state-hover), var(--cs-surface-container-low));
    box-shadow: var(--cs-elevation-2);
    transform: translateY(-1px);
}

.cs-btn--elevated:active {
    background: color-mix(in srgb, var(--interactive-accent) var(--cs-state-pressed), var(--cs-surface-container-low));
    box-shadow: var(--cs-elevation-1);
    transform: translateY(0);
}

/* Tonal Button - Surface with tint */
.cs-btn--tonal {
    background: var(--cs-surface-container-highest);
    color: var(--text-normal);
}

.cs-btn--tonal:hover {
    background: color-mix(in srgb, var(--text-normal) var(--cs-state-hover), var(--cs-surface-container-highest));
    box-shadow: var(--cs-elevation-1);
}

.cs-btn--tonal:active {
    background: color-mix(in srgb, var(--text-normal) var(--cs-state-pressed), var(--cs-surface-container-highest));
}

/* FAB - Floating Action Button */
.cs-btn--fab {
    border-radius: var(--cs-radius-lg);
    width: 56px;
    height: 56px;
    padding: 0;
    background: var(--interactive-accent);
    color: var(--text-on-accent);
    box-shadow: var(--cs-elevation-3);
}

.cs-btn--fab:hover {
    box-shadow: var(--cs-elevation-3);
    transform: translateY(-2px);
}

.cs-btn--fab:active {
    box-shadow: var(--cs-elevation-2);
    transform: translateY(0);
}

/* Small FAB */
.cs-btn--fab-small {
    width: 40px;
    height: 40px;
    border-radius: var(--cs-radius-md);
}

/* Extended FAB */
.cs-btn--fab-extended {
    width: auto;
    padding: 0 var(--cs-spacing-md);
    border-radius: var(--cs-radius-lg);
}

/* Icon Button - For icon-only actions */
.cs-btn--icon {
    width: var(--cs-button-height-md);
    height: var(--cs-button-height-md);
    padding: 0;
    border-radius: 50%;
    background: transparent;
    color: var(--text-normal);
}

.cs-btn--icon:hover {
    background: color-mix(in srgb, var(--text-normal) var(--cs-state-hover), transparent);
}

.cs-btn--icon:active {
    background: color-mix(in srgb, var(--text-normal) var(--cs-state-pressed), transparent);
}

/* Icon Button with accent */
.cs-btn--icon-accent {
    color: var(--interactive-accent);
}

.cs-btn--icon-accent:hover {
    background: color-mix(in srgb, var(--interactive-accent) var(--cs-state-hover), transparent);
}

/* Button Size Variants */
.cs-btn--small {
    min-height: var(--cs-button-height-sm);
    padding: 0 var(--cs-spacing-md);
    font-size: var(--cs-text-label-medium);
}

.cs-btn--large {
    min-height: var(--cs-button-height-lg);
    padding: 0 var(--cs-spacing-xl);
    font-size: var(--cs-text-label-large);
}

/* Button with leading/trailing icons */
.cs-btn--leading-icon {
    padding-left: var(--cs-spacing-md);
}

.cs-btn--trailing-icon {
    padding-right: var(--cs-spacing-md);
}

/* Full width button */
.cs-btn--full {
    width: 100%;
}

/* Loading state */
.cs-btn--loading {
    pointer-events: none;
    opacity: 0.7;
}

.cs-btn--loading::after {
    content: '';
    position: absolute;
    width: 16px;
    height: 16px;
    border: 2px solid transparent;
    border-top: 2px solid currentColor;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* ================================================
   MATERIAL DESIGN 3 FORM CONTROL SYSTEM
   ================================================ */

/* Base Form Field */
.cs-form-field {
    position: relative;
    display: flex;
    flex-direction: column;
    gap: var(--cs-spacing-xs);
}

/* Input Fields */
.cs-input {
    position: relative;
    display: flex;
    align-items: center;
    padding: var(--cs-spacing-sm) var(--cs-spacing-md);
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--cs-radius-sm);
    background: var(--cs-surface-container-highest);
    color: var(--text-normal);
    font-family: inherit;
    font-size: var(--cs-text-body-large);
    font-weight: 400;
    line-height: 1.5;
    transition: all var(--cs-motion-duration-short2) var(--cs-motion-easing-standard);
    min-height: var(--cs-input-height-md);
    width: 100%;
    box-sizing: border-box;
    outline: none;
}

.cs-input::placeholder {
    color: var(--text-muted);
    opacity: 1;
}

.cs-input:hover {
    border-color: var(--text-normal);
    background: color-mix(in srgb, var(--text-normal) var(--cs-state-hover), var(--cs-surface-container-highest));
}

.cs-input:focus {
    border-color: var(--interactive-accent);
    background: color-mix(in srgb, var(--interactive-accent) var(--cs-state-focus), var(--cs-surface-container-highest));
    caret-color: var(--interactive-accent);
}

.cs-input:disabled {
    opacity: var(--cs-state-disabled);
    cursor: not-allowed;
    pointer-events: none;
}

/* Filled Input Variant */
.cs-input--filled {
    background: var(--cs-surface-container-highest);
    border: none;
    border-bottom: 1px solid var(--text-muted);
    border-radius: var(--cs-radius-xs) var(--cs-radius-xs) 0 0;
    padding-bottom: var(--cs-spacing-xs);
}

.cs-input--filled:hover {
    border-bottom-color: var(--text-normal);
    background: color-mix(in srgb, var(--text-normal) var(--cs-state-hover), var(--cs-surface-container-highest));
}

.cs-input--filled:focus {
    border-bottom: 2px solid var(--interactive-accent);
    padding-bottom: calc(var(--cs-spacing-xs) - 1px);
}

/* Outlined Input Variant */
.cs-input--outlined {
    background: transparent;
    border: 1px solid var(--text-muted);
}

.cs-input--outlined:hover {
    border-color: var(--text-normal);
    background: color-mix(in srgb, var(--text-normal) var(--cs-state-hover), transparent);
}

.cs-input--outlined:focus {
    border: 2px solid var(--interactive-accent);
    padding: calc(var(--cs-spacing-sm) - 1px) calc(var(--cs-spacing-md) - 1px);
}

/* Input Size Variants */
.cs-input--small {
    min-height: var(--cs-input-height-sm);
    padding: var(--cs-spacing-xs) var(--cs-spacing-sm);
    font-size: var(--cs-text-label-medium);
}

.cs-input--large {
    min-height: var(--cs-input-height-lg);
    padding: var(--cs-spacing-md) var(--cs-spacing-lg);
    font-size: var(--cs-text-body-large);
}

/* Textarea */
.cs-textarea {
    resize: vertical;
    min-height: 80px;
    padding: var(--cs-spacing-sm);
    line-height: 1.6;
}

/* Select Field */
.cs-select {
    appearance: none;
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    background-position: right var(--cs-spacing-sm) center;
    background-repeat: no-repeat;
    background-size: 16px;
    padding-right: var(--cs-spacing-xl);
    cursor: pointer;
}

/* Form Labels */
.cs-label {
    display: block;
    font-size: var(--cs-text-label-large);
    font-weight: 500;
    color: var(--text-normal);
    margin-bottom: var(--cs-spacing-xs);
    line-height: 1.4;
}

.cs-label--required::after {
    content: ' *';
    color: var(--text-error);
}

/* Helper Text */
.cs-helper-text {
    font-size: var(--cs-text-label-medium);
    color: var(--text-muted);
    margin-top: var(--cs-spacing-xs);
    line-height: 1.4;
}

.cs-helper-text--error {
    color: var(--text-error);
}

/* Form Field Error State */
.cs-form-field--error .cs-input {
    border-color: var(--text-error);
}

.cs-form-field--error .cs-input:focus {
    border-color: var(--text-error);
    background: color-mix(in srgb, var(--text-error) var(--cs-state-focus), var(--cs-surface-container-highest));
}

/* Removed all custom checkbox styling - let browser/theme handle checkboxes naturally */

/* ================================================
   MATERIAL DESIGN 3 BADGE SYSTEM
   ================================================ */

/* Base Badge */
.cs-badge {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: var(--cs-spacing-xs) var(--cs-spacing-sm);
    border-radius: var(--cs-radius-lg);
    font-family: inherit;
    font-size: var(--cs-text-label-small);
    font-weight: 500;
    line-height: 1.2;
    text-align: center;
    white-space: nowrap;
    min-height: 24px;
    box-sizing: border-box;
    transition: all var(--cs-motion-duration-short2) var(--cs-motion-easing-standard);
}

/* Badge Variants */
.cs-badge--primary {
    background: var(--interactive-accent);
    color: var(--text-on-accent);
}

.cs-badge--secondary {
    background: var(--cs-surface-container-high);
    color: var(--text-normal);
    border: 1px solid var(--background-modifier-border);
}

.cs-badge--success {
    background: var(--text-success);
    color: var(--background-primary);
}

.cs-badge--warning {
    background: var(--text-warning);
    color: var(--background-primary);
}

.cs-badge--error {
    background: var(--text-error);
    color: var(--background-primary);
}

.cs-badge--muted {
    background: var(--cs-surface-container-highest);
    color: var(--text-muted);
    border: 1px solid var(--background-modifier-border);
}

/* Badge Sizes */
.cs-badge--small {
    padding: 2px var(--cs-spacing-xs);
    font-size: var(--cs-text-label-small);
    min-height: 20px;
    border-radius: var(--cs-radius-sm);
}

.cs-badge--large {
    padding: var(--cs-spacing-sm) var(--cs-spacing-md);
    font-size: var(--cs-text-label-medium);
    min-height: 32px;
    border-radius: var(--cs-radius-lg);
}

/* Dot Badge - Notification style */
.cs-badge--dot {
    padding: 0;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    min-height: auto;
}

/* Badge with icon */
.cs-badge--icon {
    gap: var(--cs-spacing-xs);
    padding-left: var(--cs-spacing-xs);
}

/* Removable badge */
.cs-badge--removable {
    padding-right: var(--cs-spacing-xs);
    gap: var(--cs-spacing-xs);
}

.cs-badge__remove {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 16px;
    height: 16px;
    border-radius: 50%;
    background: transparent;
    border: none;
    color: currentColor;
    cursor: pointer;
    font-size: 12px;
    line-height: 1;
    transition: background-color var(--cs-motion-duration-short2) var(--cs-motion-easing-standard);
}

.cs-badge__remove:hover {
    background: color-mix(in srgb, currentColor var(--cs-state-hover), transparent);
}

/* Badge positioning helpers */
.cs-badge--positioned {
    position: absolute;
    top: -8px;
    right: -8px;
    z-index: var(--cs-z-sticky);
}

.cs-badge--inline {
    position: static;
    vertical-align: middle;
}

/* ================================================
   MATERIAL 3 EXPRESSIVE CARD SYSTEM
   ================================================ */

/* Base Card - Enhanced with expressive motion and personality */
.cs-card {
    position: relative;
    display: flex;
    flex-direction: column;
    background: var(--cs-surface-container-low);
    border-radius: var(--cs-radius-md);
    box-shadow: var(--cs-elevation-1);
    transition: all var(--cs-transition-normal);
    overflow: hidden;
    border: 1px solid var(--background-modifier-border);
    transform-origin: center;
    will-change: transform, box-shadow;
}

/* Card Elevation Variants */
.cs-card--elevated {
    background: var(--cs-surface-container-low);
    box-shadow: var(--cs-elevation-1);
    border: none;
}

.cs-card--elevated:hover {
    box-shadow: var(--cs-elevation-3);
    transform: translateY(-3px) scale(1.01);
}

.cs-card--filled {
    background: var(--cs-surface-container-highest);
    box-shadow: none;
    border: 1px solid var(--background-modifier-border);
}

.cs-card--outlined {
    background: var(--cs-surface-container-lowest);
    box-shadow: none;
    border: 1px solid var(--background-modifier-border);
}

/* Interactive Card States */
.cs-card--clickable {
    cursor: pointer;
    user-select: none;
}

.cs-card--clickable:hover {
    background: color-mix(in srgb, var(--text-normal) var(--cs-state-hover), var(--cs-surface-container-low));
    transform: translateY(-1px);
    box-shadow: var(--cs-elevation-2);
}

.cs-card--clickable:active {
    background: color-mix(in srgb, var(--text-normal) var(--cs-state-pressed), var(--cs-surface-container-low));
    transform: translateY(0);
    box-shadow: var(--cs-elevation-1);
}

.cs-card--clickable:focus-visible {
    outline: 2px solid var(--interactive-accent);
    outline-offset: 2px;
}

/* Card Padding Variants */
.cs-card--compact {
    padding: var(--cs-spacing-sm);
}

.cs-card--comfortable {
    padding: var(--cs-spacing-md);
}

.cs-card--spacious {
    padding: var(--cs-spacing-lg);
}

/* Card Components */
.cs-card__header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: var(--cs-spacing-sm);
    padding: var(--cs-spacing-md) var(--cs-spacing-md) 0;
}

.cs-card__title {
    font-size: var(--cs-text-title-large);
    font-weight: 500;
    color: var(--text-normal);
    line-height: 1.3;
    margin: 0;
}

.cs-card__subtitle {
    font-size: var(--cs-text-body-medium);
    color: var(--text-muted);
    line-height: 1.4;
    margin: var(--cs-spacing-xs) 0 0;
}

.cs-card__content {
    padding: var(--cs-spacing-md);
    flex: 1;
}

.cs-card__actions {
    display: flex;
    align-items: center;
    gap: var(--cs-spacing-sm);
    padding: 0 var(--cs-spacing-md) var(--cs-spacing-md);
    margin-top: auto;
}

.cs-card__actions--justify-end {
    justify-content: flex-end;
}

.cs-card__actions--justify-between {
    justify-content: space-between;
}

/* Card Media */
.cs-card__media {
    width: 100%;
    height: auto;
    display: block;
}

.cs-card__media--aspect-16-9 {
    aspect-ratio: 16 / 9;
    object-fit: cover;
}

.cs-card__media--aspect-1-1 {
    aspect-ratio: 1 / 1;
    object-fit: cover;
}

/* Card Variants */
.cs-card--horizontal {
    flex-direction: row;
    align-items: center;
}

.cs-card--horizontal .cs-card__content {
    flex: 1;
}

.cs-card--horizontal .cs-card__media {
    width: 120px;
    height: 80px;
    flex-shrink: 0;
}

/* Card Status Indicators */
.cs-card--success {
    border-left: 4px solid var(--text-success);
}

.cs-card--warning {
    border-left: 4px solid var(--text-warning);
}

.cs-card--error {
    border-left: 4px solid var(--text-error);
}

.cs-card--info {
    border-left: 4px solid var(--interactive-accent);
}

/* Card Loading State */
.cs-card--loading {
    pointer-events: none;
    opacity: 0.7;
}

.cs-card--loading::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
    animation: shimmer 1.5s infinite;
}

@keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(100%); }
}

/* ================================================
   VIEW CONTAINER SYSTEM
   ================================================ */

.tasknotes-view-container {
    padding: var(--cs-spacing-sm);
    display: flex;
    flex-direction: column;
    gap: var(--cs-spacing-sm);
    max-width: 100%;
}

.view-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--cs-spacing-sm) 0;
    border-bottom: 1px solid var(--background-modifier-border);
    margin-bottom: var(--cs-spacing-sm);
}

.view-content {
    display: flex;
    flex-direction: column;
    gap: var(--cs-spacing-sm);
}



/* ===== TASK-CARD-BEM.CSS ===== */
/* =================================================================
   TASKCARD COMPONENT - BEM NAMING CONVENTION & PROPER SCOPING
   ================================================================= */

/* All TaskCard styles are scoped under .tasknotes-plugin for proper isolation */

.tasknotes-plugin .task-card {
    /* Layout & Structure */
    display: flex;
    align-items: flex-start;
    gap: 0;
    position: relative;
    
    /* Spacing & Sizing */
    padding: var(--tn-spacing-md) var(--tn-spacing-lg);
    margin-bottom: 0;
    
    /* Visual Styling */
    background-color: var(--tn-bg-primary);
    border: none;
    border-bottom: 1px solid var(--tn-border-color);
    border-radius: 0;
    border-left: 3px solid transparent; /* For priority indication */
    
    /* Interactions */
    cursor: pointer;
    transition: background-color var(--tn-transition-fast),
                border-color var(--tn-transition-fast),
                transform var(--tn-transition-fast),
                box-shadow var(--tn-transition-fast),
                opacity var(--tn-transition-fast);
    will-change: transform, box-shadow;
}

.tasknotes-plugin .task-card:hover {
    background-color: var(--tn-interactive-hover);
    transform: translateY(-1px);
    box-shadow: var(--tn-shadow-light);
}

/* Remove border radius for cleaner list appearance */
.tasknotes-plugin .task-card:first-child,
.tasknotes-plugin .task-card:last-child,
.tasknotes-plugin .task-card:first-child:last-child {
    border-radius: 0;
}

/* =================================================================
   TASKCARD ELEMENTS (BEM __element)
   ================================================================= */

.tasknotes-plugin .task-card__content {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: var(--tn-spacing-xs);
    min-width: 0;
}

.tasknotes-plugin .task-card__title {
    font-size: var(--tn-font-size-lg);
    font-weight: var(--tn-font-weight-normal);
    line-height: 1.3;
    color: var(--tn-text-normal);
    margin: 0;
    word-wrap: break-word;
    word-break: break-word;
    white-space: normal;
    transition: color var(--tn-transition-fast);
}

.tasknotes-plugin .task-card__metadata {
    font-size: var(--tn-font-size-xs);
    color: var(--tn-text-muted);
    line-height: 1.2;
    margin: 0;
}

.tasknotes-plugin .task-card__status-dot {
    display: inline-block;
    width: 6px;
    height: 6px;
    border-radius: var(--tn-radius-full);
    margin-right: var(--tn-spacing-sm);
    margin-top: 4px;
    flex-shrink: 0;
    background-color: var(--tn-text-muted);
    transition: background-color var(--tn-transition-fast);
}

.tasknotes-plugin .task-card__recurring-indicator {
    position: absolute;
    top: var(--tn-spacing-md);
    right: 32px;
    width: 14px;
    height: 14px;
    color: var(--tn-text-muted);
    opacity: 0.7;
    z-index: 1;
    display: none; /* Hidden by default, shown via modifier */
    align-items: center;
    justify-content: center;
}

.tasknotes-plugin .task-card__recurring-indicator svg {
    width: 12px;
    height: 12px;
}

.tasknotes-plugin .task-card__context-menu {
    position: absolute;
    top: var(--tn-spacing-md);
    right: var(--tn-spacing-md);
    width: 16px;
    height: 16px;
    color: var(--tn-text-muted);
    cursor: pointer;
    opacity: 0;
    transition: all var(--tn-transition-fast);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
    border-radius: var(--tn-radius-xs);
}

.tasknotes-plugin .task-card__context-menu:hover {
    color: var(--tn-text-normal);
    background: var(--tn-interactive-hover);
    transform: scale(1.1);
}

.tasknotes-plugin .task-card__context-menu:active {
    transform: scale(0.95);
}

.tasknotes-plugin .task-card:hover .task-card__context-menu {
    opacity: 1;
}

.tasknotes-plugin .task-card__context-menu svg {
    width: 14px;
    height: 14px;
}


/* =================================================================
   TASKCARD MODIFIERS (BEM --modifier)
   ================================================================= */

/* Completion State */
.tasknotes-plugin .task-card--completed {
    opacity: 0.7;
}

.tasknotes-plugin .task-card--completed .task-card__title {
    text-decoration: line-through;
    color: var(--tn-text-muted);
}

/* Archived State */
.tasknotes-plugin .task-card--archived {
    opacity: 0.5;
    background-color: transparent;
}

/* Active Time Tracking */
.tasknotes-plugin .task-card--actively-tracked {
    position: relative;
}

.tasknotes-plugin .task-card--actively-tracked::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    border: 2px solid var(--tn-color-info);
    border-radius: var(--tn-radius-xs);
    opacity: 0.6;
    animation: pulse-tracking 2s infinite;
}

@keyframes pulse-tracking {
    0%, 100% { opacity: 0.6; }
    50% { opacity: 0.3; }
}

/* Recurring Task */
.tasknotes-plugin .task-card--recurring .task-card__recurring-indicator {
    display: flex;
}

/* Priority Modifiers */
.tasknotes-plugin .task-card--priority-high {
    border-left-color: var(--priority-high-color, var(--tn-color-error));
}

.tasknotes-plugin .task-card--priority-normal,
.tasknotes-plugin .task-card--priority-medium {
    border-left-color: var(--priority-normal-color, var(--tn-interactive-accent));
}

.tasknotes-plugin .task-card--priority-low {
    border-left-color: var(--priority-low-color, var(--tn-text-muted));
}

/* Status Modifiers - Dynamic status colors using CSS custom properties */
.tasknotes-plugin .task-card[data-status] .task-card__status-dot {
    background-color: var(--current-status-color, var(--tn-text-muted));
}

/* Specific status modifiers for common statuses */
.tasknotes-plugin .task-card--status-open .task-card__status-dot {
    background-color: var(--status-open-color, var(--tn-color-error));
}

.tasknotes-plugin .task-card--status-in-progress .task-card__status-dot {
    background-color: var(--status-in-progress-color, var(--tn-color-warning));
}

.tasknotes-plugin .task-card--status-done .task-card__status-dot {
    background-color: var(--status-done-color, var(--tn-color-success));
}

/* Update Animation */
.tasknotes-plugin .task-card--updated {
    animation: task-card-update 1.2s ease-out;
}

@keyframes task-card-update {
    0% {
        box-shadow: 0 0 0 0 color-mix(in srgb, var(--tn-interactive-accent) 40%, transparent);
        border-color: var(--tn-border-color);
    }
    50% {
        box-shadow: 0 0 0 2px color-mix(in srgb, var(--tn-interactive-accent) 30%, transparent);
        border-left-color: var(--tn-interactive-accent);
    }
    100% {
        box-shadow: 0 0 0 0 color-mix(in srgb, var(--tn-interactive-accent) 0%, transparent);
        border-color: var(--tn-border-color);
    }
}

/* =================================================================
   RESPONSIVE DESIGN
   ================================================================= */

/* Touch-specific adjustments */
@media (pointer: coarse) {
    .tasknotes-plugin .task-card {
        padding: var(--tn-spacing-lg) var(--tn-spacing-xl);
        min-height: 44px;
    }
    
    .tasknotes-plugin .task-card:hover {
        transform: none;
    }
    
    .tasknotes-plugin .task-card:active {
        transform: scale(0.98);
        transition: transform 0.1s;
    }
    
    .tasknotes-plugin .task-card__context-menu {
        width: 20px;
        height: 20px;
    }
    
    .tasknotes-plugin .task-card__context-menu svg {
        width: 16px;
        height: 16px;
    }
}

/* =================================================================
   LEGACY COMPATIBILITY - DEPRECATED
   
   Keep existing classes for backward compatibility but prefer BEM structure above.
   These will be removed in a future version.
   ================================================================= */

/* DEPRECATED - Use .task-card instead */
.tasknotes-plugin .tasknotes-card.task-card {
    /* Inherit new styles */
}

/* DEPRECATED - Use .task-card__content instead */
.tasknotes-plugin .task-card .task-content {
    /* Map to new BEM structure */
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: var(--tn-spacing-xs);
    min-width: 0;
}

/* DEPRECATED - Use .task-card__title instead */
.tasknotes-plugin .task-card .task-title {
    font-size: var(--tn-font-size-lg);
    font-weight: var(--tn-font-weight-normal);
    line-height: 1.3;
    color: var(--tn-text-normal);
    margin: 0;
    word-wrap: break-word;
}

/* DEPRECATED - Use .task-card__title.task-card--completed instead */
.tasknotes-plugin .task-card .task-title.completed {
    text-decoration: line-through;
    color: var(--tn-text-muted);
}

/* DEPRECATED - Use .task-card__metadata instead */
.tasknotes-plugin .task-card .task-metadata-line {
    font-size: var(--tn-font-size-xs);
    color: var(--tn-text-muted);
    line-height: 1.2;
    margin: 0;
}

/* DEPRECATED - Use .task-card__status-dot instead */
.tasknotes-plugin .task-card .status-dot {
    display: inline-block;
    width: 6px;
    height: 6px;
    border-radius: var(--tn-radius-full);
    margin-right: var(--tn-spacing-sm);
    margin-top: 4px;
    flex-shrink: 0;
    background-color: var(--tn-text-muted);
}

/* DEPRECATED - Use .task-card__recurring-indicator instead */
.tasknotes-plugin .task-card .recurring-indicator {
    position: absolute;
    top: var(--tn-spacing-md);
    right: 32px;
    width: 14px;
    height: 14px;
    color: var(--tn-text-muted);
    opacity: 0.7;
    z-index: 1;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* DEPRECATED - Use .task-card__context-menu instead */
.tasknotes-plugin .task-card .task-context-icon {
    position: absolute;
    top: var(--tn-spacing-md);
    right: var(--tn-spacing-md);
    width: 16px;
    height: 16px;
    color: var(--tn-text-muted);
    cursor: pointer;
    opacity: 0;
    transition: all var(--tn-transition-fast);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
    border-radius: var(--tn-radius-xs);
}

.tasknotes-plugin .task-card .task-context-icon:hover {
    color: var(--tn-text-normal);
    background: var(--tn-interactive-hover);
    transform: scale(1.1);
}

.tasknotes-plugin .task-card:hover .task-context-icon {
    opacity: 1;
}

/* =================================================================
   TASKCARD DRAG AND DROP STATES
   ================================================================= */

/* General dragging state for task cards */
.tasknotes-plugin .task-card--dragging {
    opacity: 0.5;
    transform: rotate(3deg) scale(0.95);
    cursor: grabbing;
    z-index: 1000;
    pointer-events: none;
    box-shadow: var(--tn-shadow-elevated);
}

/* Drag cursor for draggable task cards */
.tasknotes-plugin .task-card[draggable="true"]:hover {
    cursor: grab;
}

.tasknotes-plugin .task-card[draggable="true"]:active {
    cursor: grabbing;
}




/* ===== TASK-INLINE-WIDGET.CSS ===== */
/* =================================================================
   INLINE TASK WIDGET STYLES - BEM NAMING CONVENTION & PROPER SCOPING
   ================================================================= */

/* All inline task widget styles are scoped under .tasknotes-plugin for proper isolation */

/* =================================================================
   INLINE TASK PREVIEW STYLES (Editor Widgets)
   ================================================================= */

/* Standalone inline task preview widget */
.tasknotes-plugin .task-inline-preview {
    /* Layout - simple inline */
    display: inline;
    white-space: nowrap;
    
    /* Typography - match editor font */
    font-size: var(--editor-font-size, 16px);
    font-family: var(--editor-font-family, var(--font-interface));
    
    /* Visual styling - clean text appearance */
    padding: 0;
    
    /* Interactivity */
    cursor: pointer;
    
    /* Prevent text selection issues */
    user-select: none;
    -webkit-user-select: none;
}

/* Hide when cursor is on the same line */
.tasknotes-plugin .task-inline-preview.task-inline-preview--cursor-hidden {
    display: none;
}

/* Task title */
.tasknotes-plugin .task-inline-preview__title {
    margin-right: 6px;
}

/* Status indicator dot */
.tasknotes-plugin .task-inline-preview__status-dot {
    color: var(--status-color, #666);
    margin-right: 4px;
}

/* Priority indicator dot */
.tasknotes-plugin .task-inline-preview__priority-dot {
    color: var(--priority-color, #666);
    margin-right: 4px;
}

/* Date info styling */
.tasknotes-plugin .task-inline-preview__date {
    margin-right: 4px;
    opacity: 0.7;
    font-size: 0.9em;
}

/* Date icon styling */
.tasknotes-plugin .task-inline-preview__date-icon {
    display: inline-block;
    width: 12px;
    height: 12px;
    margin-right: 10px; /* Increased from 8px to 10px for better spacing */
}

/* Pencil icon styling */
.tasknotes-plugin .task-inline-preview__pencil {
    opacity: 0.4;
    cursor: pointer;
    margin-left: 4px;
    display: inline-block;
    width: 12px;
    height: 12px;
    transition: opacity 0.15s ease;
}

.tasknotes-plugin .task-inline-preview:hover .task-inline-preview__pencil {
    opacity: 0.8;
}

.tasknotes-plugin .task-inline-preview__pencil:hover {
    opacity: 1 !important;
}

/* Hover state */
.tasknotes-plugin .task-inline-preview:hover {
    background-color: var(--background-modifier-hover);
}

/* Completed task styling with maximum specificity */
span.tasknotes-plugin.task-inline-preview.task-inline-preview--completed span.task-inline-preview__title,
.tasknotes-plugin.task-inline-preview.task-inline-preview--completed .task-inline-preview__title,
.tasknotes-plugin .task-inline-preview--completed .task-inline-preview__title {
    text-decoration: line-through !important;
    opacity: 0.7 !important;
    color: var(--text-muted) !important;
}

span.tasknotes-plugin.task-inline-preview.task-inline-preview--completed,
.tasknotes-plugin.task-inline-preview.task-inline-preview--completed,
.tasknotes-plugin .task-inline-preview--completed {
    opacity: 0.8 !important;
}

/* =================================================================
   INSTANT CONVERT BUTTON STYLES
   ================================================================= */

/* Convert button for checkbox tasks - High specificity and !important to override browser defaults */
.tasknotes-plugin button.instant-convert-button {
    /* Layout */
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    
    /* Sizing */
    width: 15px !important;
    height: 15px !important;
    margin-left: 8px !important;
    padding: 0 !important;
    
    /* Visual styling */
    background: transparent !important;
    color: var(--text-muted) !important;
    border: none !important;
    border-radius: 3px !important;
    
    /* Interactivity */
    cursor: pointer !important;
    opacity: 0.6 !important;
    transition: all 0.15s ease !important;
    
    /* Reset button styles */
    font-family: inherit !important;
    font-size: inherit !important;
    line-height: 1 !important;
    box-sizing: border-box !important;
    outline: none !important;
    text-decoration: none !important;
    vertical-align: baseline !important;
}

.tasknotes-plugin button.instant-convert-button:hover {
    background: var(--interactive-accent) !important;
    color: var(--text-on-accent) !important;
    opacity: 1 !important;
    transform: scale(1.1) !important;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2) !important;
}

.tasknotes-plugin button.instant-convert-button:active {
    transform: scale(0.95) !important;
}

.tasknotes-plugin button.instant-convert-button:focus {
    outline: 2px solid var(--interactive-accent) !important;
    outline-offset: 1px !important;
}

/* Icon inside the convert button */
.tasknotes-plugin .instant-convert-button__icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 14px;
    height: 14px;
}

.tasknotes-plugin .instant-convert-button__icon svg {
    width: 12px;
    height: 12px;
}

/* =================================================================
   ADDITIONAL INLINE TASK PREVIEW ELEMENTS
   ================================================================= */

/* Status indicator dot */
.tasknotes-plugin .task-inline-preview__status-dot {
    width: 8px;
    height: 8px;
    margin-left: 3px;
    flex-shrink: 0;
}

/* Task title */
.tasknotes-plugin .task-inline-preview__title {
    flex: 1;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    color: var(--text-normal);
    font-weight: 500;
    margin: 0;
    min-width: 0; /* Allow flex shrinking */
    max-width: 300px; /* Allow longer task names */
}

/* Priority indicator */
.tasknotes-plugin .task-inline-preview__priority {
    font-weight: bold;
    font-size: 0.85em;
    flex-shrink: 0;
    margin-left: 3px;
    margin-right: 1px;
}

/* Priority border colors */
.tasknotes-plugin .task-inline-preview.task-inline-preview--priority-high {
    border-left-color: var(--color-red);
    border-left-width: 4px;
}

.tasknotes-plugin .task-inline-preview.task-inline-preview--priority-medium {
    border-left-color: var(--color-orange);
    border-left-width: 3px;
}

.tasknotes-plugin .task-inline-preview.task-inline-preview--priority-low {
    border-left-color: var(--color-blue);
}

/* Pencil menu icon */
.tasknotes-plugin .task-inline-preview__menu-icon {
    width: 10px;
    height: 10px;
    flex-shrink: 0;
    opacity: 0.4;
    transition: opacity 0.15s ease;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 1px;
    padding: 0;
    margin-left: 1px;
}

.tasknotes-plugin .task-inline-preview__menu-icon:hover {
    opacity: 1;
    background-color: var(--background-modifier-hover);
}

.tasknotes-plugin .task-inline-preview:hover .task-inline-preview__menu-icon {
    opacity: 0.8;
}

/* =================================================================
   THEME-SPECIFIC ADJUSTMENTS
   ================================================================= */

/* Theme-specific adjustments */
.theme-dark .tasknotes-plugin .task-inline-preview {
    background-color: var(--background-secondary);
    border-color: var(--background-modifier-border);
}

.theme-light .tasknotes-plugin .task-inline-preview {
    background-color: var(--background-secondary);
    border-color: var(--background-modifier-border);
}

/* =================================================================
   ANIMATIONS
   ================================================================= */

/* Animation for appearance */
.tasknotes-plugin .task-inline-preview {
    animation: tn-fadeInTaskPreview 0.2s ease-out;
}

@keyframes tn-fadeInTaskPreview {
    from {
        opacity: 0;
        transform: scale(0.95);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

/* =================================================================
   RESPONSIVE DESIGN
   ================================================================= */

/* Responsive adjustments */
@media (max-width: 768px) {
    .tasknotes-plugin .task-inline-preview {
        max-width: 200px;
        padding: 4px 8px;
        gap: 4px;
        font-size: calc(var(--editor-font-size, 16px) * 0.9);
    }
    
    .tasknotes-plugin .task-inline-preview__status-dot {
        width: 10px;
        height: 10px;
    }
    
    .tasknotes-plugin .task-inline-preview__menu-icon {
        width: 14px;
        height: 14px;
    }
}

/* =================================================================
   TASK INLINE PREVIEW DRAG AND DROP STATES
   ================================================================= */

/* Dragging state for task inline preview widgets */
.tasknotes-plugin .task-inline-preview--dragging {
    opacity: 0.6;
    transform: scale(0.95);
    cursor: grabbing;
    z-index: 1000;
    pointer-events: none;
}

/* Drag cursor for draggable task inline preview widgets */
.tasknotes-plugin .task-inline-preview[draggable="true"] {
    cursor: grab;
}

.tasknotes-plugin .task-inline-preview[draggable="true"]:active {
    cursor: grabbing;
}

/* ===== NOTE-CARD-BEM.CSS ===== */
/* =================================================================
   NOTECARD COMPONENT - BEM NAMING CONVENTION & PROPER SCOPING
   ================================================================= */

/* All NoteCard styles are scoped under .tasknotes-plugin for proper isolation */

.tasknotes-plugin .note-card {
    /* Layout & Structure */
    display: flex;
    align-items: flex-start;
    gap: 0;
    position: relative;
    
    /* Spacing & Sizing */
    padding: var(--tn-spacing-md) var(--tn-spacing-lg);
    margin-bottom: 0;
    
    /* Visual Styling */
    background-color: var(--tn-bg-primary);
    border: none;
    border-bottom: 1px solid var(--tn-border-color);
    border-radius: 0;
    border-left: 3px solid transparent; /* For potential categorization */
    
    /* Interactions */
    cursor: pointer;
    transition: background-color var(--tn-transition-fast),
                border-color var(--tn-transition-fast),
                transform var(--tn-transition-fast),
                box-shadow var(--tn-transition-fast);
    will-change: transform, box-shadow;
}

.tasknotes-plugin .note-card:hover {
    background-color: var(--tn-interactive-hover);
    transform: translateY(-1px);
    box-shadow: var(--tn-shadow-light);
}

/* Remove border radius for cleaner list appearance */
.tasknotes-plugin .note-card:first-child,
.tasknotes-plugin .note-card:last-child,
.tasknotes-plugin .note-card:first-child:last-child {
    border-radius: 0;
}

/* =================================================================
   NOTECARD ELEMENTS (BEM __element)
   ================================================================= */

.tasknotes-plugin .note-card__content {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: var(--tn-spacing-xs);
    min-width: 0;
}

.tasknotes-plugin .note-card__title {
    font-size: var(--tn-font-size-md);
    font-weight: var(--tn-font-weight-normal);
    line-height: 1.3;
    color: var(--tn-text-normal);
    margin: 0;
    word-wrap: break-word;
    word-break: break-word;
    white-space: normal;
    transition: color var(--tn-transition-fast);
}

.tasknotes-plugin .note-card__divider {
    height: 1px;
    background: var(--tn-border-color);
    margin: var(--tn-spacing-xs) 0;
    opacity: 0.6;
}

.tasknotes-plugin .note-card__tags {
    font-size: var(--tn-font-size-xs);
    color: var(--tn-text-muted);
    line-height: 1.2;
    margin: 0;
    display: flex;
    flex-wrap: wrap;
    gap: var(--tn-spacing-xs);
}

.tasknotes-plugin .note-card__tag {
    display: inline-flex;
    align-items: center;
    padding: 1px var(--tn-spacing-xs);
    border-radius: var(--tn-radius-xs);
    background: var(--tn-bg-secondary);
    font-size: var(--tn-font-size-xs);
    color: var(--tn-text-muted);
    border: 1px solid var(--tn-border-color);
    transition: all var(--tn-transition-fast);
}

.tasknotes-plugin .note-card__tag:hover {
    background: var(--tn-interactive-hover);
    color: var(--tn-text-normal);
}

.tasknotes-plugin .note-card__tags-text {
    font-size: var(--tn-font-size-xs);
    color: var(--tn-text-muted);
    line-height: 1.2;
    margin: 0;
    font-style: italic;
}

.tasknotes-plugin .note-card__metadata {
    font-size: var(--tn-font-size-xs);
    color: var(--tn-text-faint);
    line-height: 1.2;
    margin: 0;
    opacity: 0.8;
}

.tasknotes-plugin .note-card__preview {
    font-size: var(--tn-font-size-xs);
    color: var(--tn-text-muted);
    line-height: 1.3;
    margin-top: var(--tn-spacing-xs);
    max-height: 2.6em; /* Approximately 2 lines */
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
}

.tasknotes-plugin .note-card__badge {
    position: absolute;
    top: var(--tn-spacing-md);
    right: var(--tn-spacing-md);
    padding: 2px var(--tn-spacing-xs);
    border-radius: var(--tn-radius-xs);
    font-size: var(--tn-font-size-xs);
    font-weight: var(--tn-font-weight-medium);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    z-index: 2;
    opacity: 0.8;
    transition: opacity var(--tn-transition-fast);
}

.tasknotes-plugin .note-card:hover .note-card__badge {
    opacity: 1;
}

/* =================================================================
   NOTECARD MODIFIERS (BEM --modifier)
   ================================================================= */

/* Compact Layout */
.tasknotes-plugin .note-card--compact {
    padding: var(--tn-spacing-sm) var(--tn-spacing-md);
}

.tasknotes-plugin .note-card--compact .note-card__content {
    gap: 2px;
}

.tasknotes-plugin .note-card--compact .note-card__title {
    font-size: var(--tn-font-size-sm);
}

.tasknotes-plugin .note-card--compact .note-card__preview {
    display: none; /* Hide preview in compact mode */
}

/* Daily Note Variant */
.tasknotes-plugin .note-card--daily-note {
    border-left-color: var(--tn-color-daily-note);
    background: linear-gradient(
        135deg,
        var(--tn-bg-primary) 0%,
        color-mix(in srgb, var(--tn-color-daily-note) 3%, var(--tn-bg-primary)) 100%
    );
}

.tasknotes-plugin .note-card--daily-note .note-card__badge {
    background: var(--tn-color-daily-note);
    color: var(--tn-bg-primary);
}

/* Shadow Variants */
.tasknotes-plugin .note-card--shadow-light:hover {
    box-shadow: var(--tn-shadow-light);
}

.tasknotes-plugin .note-card--shadow-medium:hover {
    box-shadow: var(--tn-shadow-medium);
}

.tasknotes-plugin .note-card--shadow-strong:hover {
    box-shadow: var(--tn-shadow-strong);
}

/* Update Animation */
.tasknotes-plugin .note-card--updated {
    animation: note-card-update 1.2s ease-out;
}

@keyframes note-card-update {
    0% {
        box-shadow: 0 0 0 0 color-mix(in srgb, var(--tn-color-info) 40%, transparent);
        border-color: var(--tn-border-color);
    }
    50% {
        box-shadow: 0 0 0 2px color-mix(in srgb, var(--tn-color-info) 30%, transparent);
        border-left-color: var(--tn-color-info);
    }
    100% {
        box-shadow: 0 0 0 0 color-mix(in srgb, var(--tn-color-info) 0%, transparent);
        border-color: var(--tn-border-color);
    }
}

/* =================================================================
   SHARED BASE CARD STYLES
   ================================================================= */

/* Base card component that can be shared between TaskCard and NoteCard */
.tasknotes-plugin .tn-card {
    /* Common card styling */
    display: flex;
    align-items: flex-start;
    gap: 0;
    position: relative;
    padding: var(--tn-spacing-md) var(--tn-spacing-lg);
    margin-bottom: 0;
    background-color: var(--tn-bg-primary);
    border: none;
    border-bottom: 1px solid var(--tn-border-color);
    border-radius: 0;
    cursor: pointer;
    transition: background-color var(--tn-transition-fast),
                border-color var(--tn-transition-fast),
                transform var(--tn-transition-fast),
                box-shadow var(--tn-transition-fast);
    will-change: transform, box-shadow;
}

.tasknotes-plugin .tn-card:hover {
    background-color: var(--tn-interactive-hover);
    transform: translateY(-1px);
    box-shadow: var(--tn-shadow-light);
}

.tasknotes-plugin .tn-card__content {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: var(--tn-spacing-xs);
    min-width: 0;
}

.tasknotes-plugin .tn-card__title {
    font-size: var(--tn-font-size-md);
    font-weight: var(--tn-font-weight-normal);
    line-height: 1.3;
    color: var(--tn-text-normal);
    margin: 0;
    word-wrap: break-word;
    word-break: break-word;
    white-space: normal;
    transition: color var(--tn-transition-fast);
}

/* =================================================================
   RESPONSIVE DESIGN
   ================================================================= */

/* Touch-specific adjustments */
@media (pointer: coarse) {
    .tasknotes-plugin .note-card {
        padding: var(--tn-spacing-lg) var(--tn-spacing-xl);
        min-height: 44px;
    }
    
    .tasknotes-plugin .note-card:hover {
        transform: none;
    }
    
    .tasknotes-plugin .note-card:active {
        transform: scale(0.98);
        transition: transform 0.1s;
    }
    
    .tasknotes-plugin .note-card__badge {
        padding: var(--tn-spacing-xs) var(--tn-spacing-sm);
        font-size: var(--tn-font-size-sm);
    }
}



/* ===== FILTER-BAR-BEM.CSS ===== */
/* =================================================================
   FILTER BAR COMPONENT - BEM NAMING CONVENTION & PROPER SCOPING
   ================================================================= */

/* All FilterBar styles are scoped under .tasknotes-plugin for proper isolation */

.tasknotes-plugin .filter-bar {
    /* Layout & Structure */
    display: flex;
    flex-direction: column;
    gap: var(--tn-spacing-sm);
    
    /* Visual Styling */
    background: transparent; /* Inherit from container */
}

/* =================================================================
   FILTER BAR ELEMENTS (BEM __element)
   ================================================================= */

/* Main controls row containing search, sort, group controls */
.tasknotes-plugin .filter-bar__main {
    display: flex;
    align-items: center;
    gap: var(--tn-spacing-md);
    flex-wrap: wrap;
}

/* Search section */
.tasknotes-plugin .filter-bar__search {
    position: relative;
    flex: 1;
    min-width: 200px;
}

.tasknotes-plugin .filter-bar__search-input {
    width: 100%;
    padding: var(--tn-spacing-xs) var(--tn-spacing-md);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    background: var(--tn-bg-primary);
    color: var(--tn-text-normal);
    font-size: var(--tn-font-size-lg);
    transition: all var(--tn-transition-fast);
}

.tasknotes-plugin .filter-bar__search-input:focus {
    outline: none;
    border-color: var(--tn-interactive-accent);
    box-shadow: 0 0 0 2px color-mix(in srgb, var(--tn-interactive-accent) 20%, transparent);
}

.tasknotes-plugin .filter-bar__search-input::placeholder {
    color: var(--tn-text-muted);
}

/* Controls container for sort, group, and action buttons */
.tasknotes-plugin .filter-bar__controls {
    display: flex;
    align-items: center;
    gap: var(--tn-spacing-md);
    flex-wrap: wrap;
}

/* Individual control groups */
.tasknotes-plugin .filter-bar__sort,
.tasknotes-plugin .filter-bar__group {
    display: flex;
    align-items: center;
    gap: var(--tn-spacing-xs);
}

/* Labels for form controls */
.tasknotes-plugin .filter-bar__label {
    font-size: var(--tn-font-size-sm);
    color: var(--tn-text-muted);
    font-weight: var(--tn-font-weight-medium);
    white-space: nowrap;
}

/* Select dropdowns */
.tasknotes-plugin .filter-bar__select {
    padding: 6px 10px;
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    background: var(--tn-bg-primary);
    color: var(--tn-text-normal);
    font-size: var(--tn-font-size-md);
    min-width: 100px;
    cursor: pointer;
    transition: all var(--tn-transition-fast);
}

.tasknotes-plugin .filter-bar__select:focus {
    outline: none;
    border-color: var(--tn-interactive-accent);
    box-shadow: 0 0 0 2px color-mix(in srgb, var(--tn-interactive-accent) 20%, transparent);
}

.tasknotes-plugin .filter-bar__select:hover {
    border-color: var(--tn-border-color-hover);
}

/* Sort direction button */
.tasknotes-plugin .filter-bar__sort-direction {
    padding: 6px 8px;
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    background: var(--tn-bg-primary);
    color: var(--tn-text-normal);
    font-size: var(--tn-font-size-md);
    cursor: pointer;
    transition: all var(--tn-transition-fast);
    min-width: 32px;
    text-align: center;
}

.tasknotes-plugin .filter-bar__sort-direction:hover {
    background: var(--tn-interactive-hover);
}

.tasknotes-plugin .filter-bar__sort-direction:focus {
    outline: none;
    border-color: var(--tn-interactive-accent);
    box-shadow: 0 0 0 2px color-mix(in srgb, var(--tn-interactive-accent) 20%, transparent);
}

/* Advanced filters toggle button */
.tasknotes-plugin .filter-bar__advanced-toggle {
    padding: 6px 12px;
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    background: var(--tn-bg-primary);
    color: var(--tn-text-muted);
    font-size: var(--tn-font-size-md);
    cursor: pointer;
    transition: all var(--tn-transition-fast);
    display: flex;
    align-items: center;
    gap: var(--tn-spacing-xs);
    white-space: nowrap;
}

.tasknotes-plugin .filter-bar__advanced-toggle:hover {
    background: var(--tn-interactive-hover);
    color: var(--tn-text-normal);
}

.tasknotes-plugin .filter-bar__active-indicator {
    background: var(--tn-interactive-accent);
    color: var(--text-on-accent);
    border-radius: var(--tn-radius-full);
    padding: 1px 5px;
    font-size: 10px;
    font-weight: var(--tn-font-weight-medium);
    margin-left: 4px;
    line-height: 1;
    min-width: 14px;
    text-align: center;
}

/* =================================================================
   FILTER BAR ADVANCED PANEL SUB-COMPONENT
   ================================================================= */

/* Advanced filters panel - treated as sub-component */
.tasknotes-plugin .filter-bar__advanced {
    border-top: 1px solid var(--tn-border-color);
    padding-top: var(--tn-spacing-sm);
    margin-top: var(--tn-spacing-sm);
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--tn-spacing-md);
}

.tasknotes-plugin .filter-bar__advanced-item {
    display: flex;
    flex-direction: column;
    gap: var(--tn-spacing-xs);
}

.tasknotes-plugin .filter-bar__advanced-item .filter-bar__label {
    margin-bottom: 4px;
}

.tasknotes-plugin .filter-bar__advanced-item .filter-bar__select {
    min-width: auto;
    width: 100%;
}

/* =================================================================
   FILTER BAR FORM ELEMENTS
   ================================================================= */

/* Checkbox groups for advanced filters */
.tasknotes-plugin .filter-bar__checkbox-group {
    display: flex;
    flex-direction: column;
    gap: 2px;
    max-height: 150px;
    overflow-y: auto;
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    padding: 6px;
    background: var(--tn-bg-primary);
}

.tasknotes-plugin .filter-bar__checkbox-wrapper {
    display: flex;
    align-items: center;
}

.tasknotes-plugin .filter-bar__checkbox-label {
    display: flex;
    align-items: center;
    gap: var(--tn-spacing-xs);
    cursor: pointer;
    font-size: var(--tn-font-size-sm);
    color: var(--tn-text-normal);
    user-select: none;
    padding: 4px 6px;
    border-radius: var(--tn-radius-sm);
    transition: background-color var(--tn-transition-fast);
    width: 100%;
}

.tasknotes-plugin .filter-bar__checkbox-label:hover {
    background: var(--tn-interactive-hover);
}

/* Empty state for checkbox groups */
.tasknotes-plugin .filter-bar__checkbox-group:empty::after {
    content: "No options available";
    color: var(--tn-text-muted);
    font-style: italic;
    font-size: var(--tn-font-size-xs);
    padding: 8px;
    text-align: center;
}

/* =================================================================
   FILTER BAR DATE RANGE ELEMENTS
   ================================================================= */

/* Date range inputs container */
.tasknotes-plugin .filter-bar__date-inputs {
    display: flex;
    align-items: center;
    gap: var(--tn-spacing-sm);
    flex-wrap: wrap;
    margin-top: var(--tn-spacing-xs);
}

.tasknotes-plugin .filter-bar__date-input-container {
    display: flex;
    align-items: center;
    gap: var(--tn-spacing-xs);
}

.tasknotes-plugin .filter-bar__date-label {
    font-size: var(--tn-font-size-sm);
    color: var(--tn-text-muted);
    white-space: nowrap;
}

.tasknotes-plugin .filter-bar__date-input {
    padding: var(--tn-spacing-xs) var(--tn-spacing-sm);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    background-color: var(--tn-bg-primary);
    color: var(--tn-text-normal);
    font-size: var(--tn-font-size-sm);
    min-width: 120px;
    transition: all var(--tn-transition-fast);
}

.tasknotes-plugin .filter-bar__date-input:focus {
    outline: none;
    border-color: var(--tn-interactive-accent);
    box-shadow: 0 0 0 1px var(--tn-interactive-accent);
}

.tasknotes-plugin .filter-bar__date-clear {
    padding: var(--tn-spacing-xs) var(--tn-spacing-sm);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    background-color: var(--tn-bg-secondary);
    color: var(--tn-text-normal);
    font-size: var(--tn-font-size-sm);
    cursor: pointer;
    transition: background-color var(--tn-transition-fast);
}

.tasknotes-plugin .filter-bar__date-clear:hover {
    background-color: var(--tn-interactive-hover);
}

.tasknotes-plugin .filter-bar__date-clear:active {
    background-color: var(--tn-interactive-hover);
    transform: scale(0.98);
}

/* =================================================================
   FILTER BAR MODIFIERS (BEM --modifier)
   ================================================================= */

/* Advanced panel visibility */
.tasknotes-plugin .filter-bar__advanced--hidden {
    display: none;
}

/* Active advanced toggle state */
.tasknotes-plugin .filter-bar__advanced-toggle--active {
    background: var(--tn-interactive-accent);
    color: var(--text-on-accent);
    border-color: var(--tn-interactive-accent);
}

/* Active indicator visibility */
.tasknotes-plugin .filter-bar__active-indicator--hidden {
    display: none;
}

/* =================================================================
   FILTER BAR CONTAINER STYLES
   ================================================================= */

/* Container styles are kept separate as they're applied by views */
.tasknotes-plugin .filter-bar-container,
.tasknotes-plugin .agenda-filter-bar-container,
.tasknotes-plugin .kanban-filter-bar-container {
    margin-bottom: var(--tn-spacing-md);
    padding: var(--tn-spacing-md);
    background: var(--tn-bg-secondary);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-md);
    box-shadow: var(--tn-shadow-light);
}

/* =================================================================
   RESPONSIVE DESIGN
   ================================================================= */

/* Mobile and tablet responsiveness */
@media (max-width: 768px) {
    .tasknotes-plugin .filter-bar-container,
    .tasknotes-plugin .agenda-filter-bar-container,
    .tasknotes-plugin .kanban-filter-bar-container {
        padding: var(--tn-spacing-sm);
    }
    
    .tasknotes-plugin .filter-bar__main {
        flex-direction: column;
        align-items: stretch;
        gap: var(--tn-spacing-sm);
    }
    
    .tasknotes-plugin .filter-bar__search {
        min-width: auto;
        width: 100%;
    }
    
    .tasknotes-plugin .filter-bar__controls {
        justify-content: space-between;
        flex-wrap: wrap;
        gap: var(--tn-spacing-sm);
    }
    
    .tasknotes-plugin .filter-bar__sort,
    .tasknotes-plugin .filter-bar__group {
        flex: 1;
        min-width: 0;
    }
    
    .tasknotes-plugin .filter-bar__select {
        min-width: auto;
        width: 100%;
    }
    
    .tasknotes-plugin .filter-bar__advanced {
        grid-template-columns: 1fr;
        gap: var(--tn-spacing-sm);
    }
}

@media (max-width: 480px) {
    .tasknotes-plugin .filter-bar__controls {
        flex-direction: column;
    }
    
    .tasknotes-plugin .filter-bar__sort,
    .tasknotes-plugin .filter-bar__group {
        width: 100%;
    }
}

/* =================================================================
   VIEW-SPECIFIC INTEGRATION
   ================================================================= */

/* Agenda view specific styles */
.tasknotes-plugin .agenda-view-container .filter-bar-container {
    margin-bottom: var(--tn-spacing-sm);
}

/* Kanban view specific styles */
.tasknotes-plugin .kanban-view .filter-bar-container {
    border-radius: var(--tn-radius-md) var(--tn-radius-md) 0 0;
    border-bottom: none;
}

/* Task list view specific styles */
.tasknotes-plugin .task-list-view-container .filter-bar-container {
    margin-top: var(--tn-spacing-md);
}

/* =================================================================
   ACCESSIBILITY & MOTION
   ================================================================= */

/* Touch-specific adjustments */
@media (pointer: coarse) {
    .tasknotes-plugin .filter-bar__search-input,
    .tasknotes-plugin .filter-bar__select,
    .tasknotes-plugin .filter-bar__sort-direction,
    .tasknotes-plugin .filter-bar__advanced-toggle,
    .tasknotes-plugin .filter-bar__date-input,
    .tasknotes-plugin .filter-bar__date-clear {
        min-height: 44px;
        padding-top: var(--tn-spacing-sm);
        padding-bottom: var(--tn-spacing-sm);
    }
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .tasknotes-plugin .filter-bar-container,
    .tasknotes-plugin .agenda-filter-bar-container,
    .tasknotes-plugin .kanban-filter-bar-container {
        border-width: 2px;
    }
    
    .tasknotes-plugin .filter-bar__search-input,
    .tasknotes-plugin .filter-bar__select,
    .tasknotes-plugin .filter-bar__sort-direction,
    .tasknotes-plugin .filter-bar__advanced-toggle,
    .tasknotes-plugin .filter-bar__date-input {
        border-width: 2px;
    }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
    .tasknotes-plugin .filter-bar__search-input,
    .tasknotes-plugin .filter-bar__select,
    .tasknotes-plugin .filter-bar__sort-direction,
    .tasknotes-plugin .filter-bar__advanced-toggle,
    .tasknotes-plugin .filter-bar__date-input,
    .tasknotes-plugin .filter-bar__date-clear {
        transition: none;
    }
}



/* ===== MODAL-BEM.CSS ===== */
/* =====================================================================
   MODAL COMPONENTS - BEM with TaskNotes Plugin Scoping
   ===================================================================== */

/* =====================================================================
   BASE MODAL CONTAINER STYLES
   ===================================================================== */

.tasknotes-plugin .task-creation-modal,
.tasknotes-plugin .task-edit-modal,
.tasknotes-plugin .due-date-modal,
.tasknotes-plugin .scheduled-date-modal,
.tasknotes-plugin .task-selector-modal {
    padding: var(--tn-spacing-xl);
    max-width: 580px;
    width: 100%;
    background: var(--tn-bg-primary);
    border-radius: var(--tn-radius-md);
    box-shadow: var(--tn-shadow-strong);
}

/* =====================================================================
   MODAL HEADERS AND HEADINGS
   ===================================================================== */

.tasknotes-plugin .task-creation-modal .setting-item-heading,
.tasknotes-plugin .task-edit-modal .setting-item-heading,
.tasknotes-plugin .due-date-modal .setting-item-heading,
.tasknotes-plugin .scheduled-date-modal .setting-item-heading {
    font-size: var(--tn-font-size-xl);
    font-weight: var(--tn-font-weight-semibold);
    color: var(--tn-text-normal);
    line-height: 1.3;
    border-bottom: 1px solid var(--tn-border-color);
    margin-bottom: var(--tn-spacing-lg);
    padding-bottom: var(--tn-spacing-md);
}

/* =====================================================================
   SHARED FORM COMPONENTS (BEM)
   ===================================================================== */

/* Form Group Container */
.tasknotes-plugin .modal-form__group {
    margin-bottom: var(--tn-spacing-lg);
    position: relative;
}

/* Form Labels */
.tasknotes-plugin .modal-form__label {
    display: block;
    font-size: var(--tn-font-size-lg);
    font-weight: var(--tn-font-weight-medium);
    color: var(--tn-text-normal);
    margin-bottom: var(--tn-spacing-sm);
    line-height: 1.4;
}

/* Help Text */
.tasknotes-plugin .modal-form__help-text {
    font-size: var(--tn-font-size-sm);
    color: var(--tn-text-muted);
    margin-top: var(--tn-spacing-sm);
    line-height: 1.4;
    font-style: italic;
}

/* Input Container */
.tasknotes-plugin .modal-form__input-container {
    position: relative;
}

/* Base Input Styles */
.tasknotes-plugin .modal-form__input,
.tasknotes-plugin .modal-form__select {
    padding: var(--tn-spacing-md) var(--tn-spacing-lg);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    background: var(--tn-bg-primary);
    color: var(--tn-text-normal);
    font-family: inherit;
    font-size: var(--tn-font-size-lg);
    font-weight: var(--tn-font-weight-normal);
    line-height: 1.4;
    transition: border-color var(--tn-transition-fast);
    width: 100%;
    box-sizing: border-box;
    outline: none;
}

/* Make select elements taller to prevent dropdown option clipping */
.tasknotes-plugin .modal-form__select {
    padding: var(--tn-spacing-lg) var(--tn-spacing-lg);
    min-height: 44px;
    line-height: 1.6;
}

.tasknotes-plugin .modal-form__input:hover,
.tasknotes-plugin .modal-form__select:hover {
    border-color: var(--tn-border-color-hover);
}

.tasknotes-plugin .modal-form__input:focus,
.tasknotes-plugin .modal-form__select:focus {
    border-color: var(--tn-border-color-interactive);
    box-shadow: 0 0 0 2px rgba(var(--tn-interactive-accent), 0.15);
}

/* Input Modifiers */
.tasknotes-plugin .modal-form__input--textarea {
    min-height: 80px;
    resize: vertical;
    font-family: inherit;
}

.tasknotes-plugin .modal-form__input--title {
    font-weight: var(--tn-font-weight-medium);
}

.tasknotes-plugin .modal-form__input--number {
    width: 80px;
    flex-shrink: 0;
}

/* =====================================================================
   CHARACTER COUNTER COMPONENT
   ===================================================================== */

.tasknotes-plugin .modal-form__char-counter {
    position: absolute;
    top: calc(-1 * var(--tn-spacing-lg));
    right: 0;
    font-size: var(--tn-font-size-sm);
    color: var(--tn-text-muted);
    font-weight: var(--tn-font-weight-normal);
    line-height: 1.4;
    pointer-events: none;
}

.tasknotes-plugin .modal-form__char-counter--warning {
    color: var(--tn-color-error);
    font-weight: var(--tn-font-weight-medium);
}

/* =====================================================================
   AUTOCOMPLETE COMPONENT
   ===================================================================== */

.tasknotes-plugin .modal-form__autocomplete {
    position: relative;
}

.tasknotes-plugin .modal-form__suggestions {
    position: absolute;
    top: calc(100% + 4px);
    left: 0;
    right: 0;
    background: var(--tn-bg-primary);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    box-shadow: var(--tn-shadow-strong);
    z-index: var(--tn-z-dropdown);
    max-height: 240px;
    overflow-y: auto;
    padding: var(--tn-spacing-sm) 0;
}

.tasknotes-plugin .modal-form__suggestion {
    padding: var(--tn-spacing-sm) var(--tn-spacing-lg);
    cursor: pointer;
    font-size: var(--tn-font-size-md);
    color: var(--tn-text-normal);
    line-height: 1.5;
    transition: background-color var(--tn-transition-fast);
    border: none;
    background: none;
    width: 100%;
    text-align: left;
}

.tasknotes-plugin .modal-form__suggestion:hover,
.tasknotes-plugin .modal-form__suggestion--selected {
    background: var(--tn-interactive-hover);
}

/* =====================================================================
   DATE/TIME INPUT COMPONENTS
   ===================================================================== */

/* DateTime Container */
.tasknotes-plugin .modal-form__datetime-container {
    display: flex;
    align-items: center;
    gap: var(--tn-spacing-sm);
    flex-wrap: wrap;
}

/* Date and Time Input Modifiers */
.tasknotes-plugin .modal-form__input--date {
    flex: 1;
    min-width: 140px;
}

.tasknotes-plugin .modal-form__input--time {
    width: 120px;
    font-family: var(--tn-font-mono);
    flex-shrink: 0;
}

/* =====================================================================
   TIME ESTIMATE COMPONENT
   ===================================================================== */

.tasknotes-plugin .modal-form__time-estimate {
    display: flex;
    align-items: center;
    gap: var(--tn-spacing-md);
}

.tasknotes-plugin .modal-form__time-label {
    font-size: var(--tn-font-size-md);
    color: var(--tn-text-muted);
    white-space: nowrap;
}

/* =====================================================================
   RECURRENCE COMPONENTS
   ===================================================================== */

.tasknotes-plugin .modal-form__recurrence {
    position: relative;
}

.tasknotes-plugin .modal-form__recurrence-options {
    margin-top: var(--tn-spacing-lg);
    padding: var(--tn-spacing-lg);
    background: var(--tn-bg-secondary);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-md);
}

.tasknotes-plugin .modal-form__recurrence-label {
    font-size: var(--tn-font-size-md);
    font-weight: var(--tn-font-weight-medium);
    color: var(--tn-text-normal);
    margin-bottom: var(--tn-spacing-md);
}

/* Days of Week Grid */
.tasknotes-plugin .modal-form__days-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: var(--tn-spacing-md);
    margin-top: var(--tn-spacing-md);
    padding: var(--tn-spacing-lg);
    background: var(--tn-bg-primary);
    border-radius: var(--tn-radius-sm);
    border: 1px solid var(--tn-border-color);
}

.tasknotes-plugin .modal-form__day-checkbox {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--tn-spacing-sm);
    cursor: pointer;
}

.tasknotes-plugin .modal-form__day-input {
    margin: 0;
    cursor: pointer;
}

.tasknotes-plugin .modal-form__day-label {
    font-size: var(--tn-font-size-sm);
    font-weight: var(--tn-font-weight-medium);
    color: var(--tn-text-normal);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    cursor: pointer;
    user-select: none;
    line-height: 1;
}

/* =====================================================================
   BUTTON COMPONENTS
   ===================================================================== */

.tasknotes-plugin .modal-form__buttons {
    display: flex;
    gap: var(--tn-spacing-lg);
    justify-content: flex-end;
    align-items: center;
    margin-top: var(--tn-spacing-xxl);
    padding-top: var(--tn-spacing-lg);
    border-top: 1px solid var(--tn-border-color);
}

/* Base Button */
.tasknotes-plugin .modal-form__button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--tn-spacing-sm);
    padding: var(--tn-spacing-md) var(--tn-spacing-lg);
    border-radius: var(--tn-radius-md);
    font-family: inherit;
    font-size: var(--tn-font-size-lg);
    font-weight: var(--tn-font-weight-medium);
    cursor: pointer;
    user-select: none;
    transition: all var(--tn-transition-fast);
    border: none;
    outline: none;
    min-height: var(--tn-button-height-md);
}

/* Primary Button (Submit actions) */
.tasknotes-plugin .modal-form__button--primary {
    background: var(--tn-interactive-accent);
    color: var(--text-on-accent);
    border: 1px solid var(--tn-interactive-accent);
}

.tasknotes-plugin .modal-form__button--primary:hover {
    background: var(--tn-interactive-accent-hover);
    border-color: var(--tn-interactive-accent-hover);
    transform: translateY(-1px);
    box-shadow: var(--tn-shadow-hover);
}

.tasknotes-plugin .modal-form__button--primary:active {
    transform: translateY(0);
    box-shadow: var(--tn-shadow-light);
}

/* Secondary Button (Cancel, etc.) */
.tasknotes-plugin .modal-form__button--secondary {
    background: transparent;
    color: var(--tn-text-normal);
    border: 1px solid var(--tn-border-color);
}

.tasknotes-plugin .modal-form__button--secondary:hover {
    background: var(--tn-interactive-hover);
    border-color: var(--tn-border-color-hover);
    transform: translateY(-1px);
}

.tasknotes-plugin .modal-form__button--secondary:active {
    transform: translateY(0);
}

/* Tertiary Button (Open note, etc.) */
.tasknotes-plugin .modal-form__button--tertiary {
    background: transparent;
    color: var(--tn-interactive-accent);
    border: none;
    padding: var(--tn-spacing-md);
}

.tasknotes-plugin .modal-form__button--tertiary:hover {
    background: var(--tn-interactive-hover);
    color: var(--tn-interactive-accent-hover);
}

/* Quick Date Buttons */
.tasknotes-plugin .modal-form__quick-actions {
    display: flex;
    gap: var(--tn-spacing-md);
    flex-wrap: wrap;
    margin-top: var(--tn-spacing-md);
}

.tasknotes-plugin .modal-form__button--quick-date {
    flex: 1;
    min-width: 0;
    padding: var(--tn-spacing-sm) var(--tn-spacing-md);
    background: var(--tn-bg-secondary);
    color: var(--tn-text-normal);
    border: 1px solid var(--tn-border-color);
    font-size: var(--tn-font-size-sm);
}

.tasknotes-plugin .modal-form__button--quick-date:hover {
    background: var(--tn-interactive-hover);
    border-color: var(--tn-border-color-hover);
}

.tasknotes-plugin .modal-form__button--quick-date--clear {
    background: var(--tn-bg-primary);
    color: var(--tn-text-muted);
}

.tasknotes-plugin .modal-form__button--quick-date--clear:hover {
    background: var(--tn-interactive-hover);
    color: var(--tn-text-normal);
}

/* =====================================================================
   TASK CREATION MODAL SPECIFIC
   ===================================================================== */

.tasknotes-plugin .task-creation-modal__preview {
    padding: var(--tn-spacing-md) var(--tn-spacing-lg);
    background: var(--tn-bg-secondary);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    font-size: var(--tn-font-size-sm);
    font-family: var(--font-monospace);
    color: var(--tn-text-muted);
    margin-top: var(--tn-spacing-md);
    word-break: break-all;
}

.tasknotes-plugin .task-creation-modal__preview--valid {
    background: rgba(var(--tn-interactive-success), 0.1);
    border-color: var(--tn-interactive-success);
    color: var(--tn-text-normal);
}

.tasknotes-plugin .task-creation-modal__preview--error {
    background: rgba(var(--tn-color-error), 0.1);
    border-color: var(--tn-color-error);
    color: var(--tn-color-error);
}

/* =====================================================================
   TASK EDIT MODAL SPECIFIC
   ===================================================================== */

.tasknotes-plugin .task-edit-modal__metadata {
    margin-top: var(--tn-spacing-xxl);
    padding-top: var(--tn-spacing-lg);
    border-top: 1px solid var(--tn-border-color);
}

.tasknotes-plugin .task-edit-modal__metadata-container {
    display: flex;
    flex-direction: column;
    gap: var(--tn-spacing-md);
}

.tasknotes-plugin .task-edit-modal__metadata-item {
    font-size: var(--tn-font-size-sm);
    color: var(--tn-text-muted);
    line-height: 1.4;
    padding: var(--tn-spacing-md) var(--tn-spacing-lg);
    background: var(--tn-bg-secondary);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    font-weight: var(--tn-font-weight-normal);
}

/* =====================================================================
   QUICK DATE MODALS SPECIFIC
   ===================================================================== */

.tasknotes-plugin .due-date-modal__task-title,
.tasknotes-plugin .scheduled-date-modal__task-title {
    font-size: var(--tn-font-size-md);
    color: var(--tn-text-normal);
    margin-bottom: var(--tn-spacing-lg);
    padding: var(--tn-spacing-md) var(--tn-spacing-lg);
    background: var(--tn-bg-secondary);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    font-weight: var(--tn-font-weight-medium);
}

/* =====================================================================
   TASK SELECTOR MODAL SPECIFIC
   ===================================================================== */

.tasknotes-plugin .task-selector-modal__suggestion {
    padding: var(--tn-spacing-md);
    border-radius: var(--tn-radius-sm);
    border-left: 3px solid transparent;
    transition: all var(--tn-transition-fast);
}

.tasknotes-plugin .task-selector-modal__suggestion:hover {
    background: var(--tn-interactive-hover);
}

.tasknotes-plugin .task-selector-modal__title {
    margin-bottom: var(--tn-spacing-xs);
}

.tasknotes-plugin .task-selector-modal__task-title {
    font-weight: var(--tn-font-weight-medium);
    color: var(--tn-text-normal);
    font-size: var(--tn-font-size-md);
}

.tasknotes-plugin .task-selector-modal__task-title--completed {
    text-decoration: line-through;
    color: var(--tn-text-muted);
}

.tasknotes-plugin .task-selector-modal__task-title--high-priority {
    color: var(--tn-color-error);
    border-left-color: var(--tn-color-error);
}

.tasknotes-plugin .task-selector-modal__task-title--low-priority {
    color: var(--tn-text-muted);
}

.tasknotes-plugin .task-selector-modal__meta {
    display: flex;
    align-items: center;
    gap: var(--tn-spacing-sm);
    font-size: var(--tn-font-size-sm);
    color: var(--tn-text-muted);
}

.tasknotes-plugin .task-selector-modal__due-date {
    padding: 2px var(--tn-spacing-xs);
    border-radius: var(--tn-radius-sm);
    background: var(--tn-bg-secondary);
    font-size: var(--tn-font-size-xs);
}

.tasknotes-plugin .task-selector-modal__due-date--overdue {
    background: rgba(var(--tn-color-error), 0.1);
    color: var(--tn-color-error);
}

.tasknotes-plugin .task-selector-modal__due-date--today {
    background: rgba(var(--tn-color-warning), 0.1);
    color: var(--tn-color-warning);
}

.tasknotes-plugin .task-selector-modal__contexts {
    display: flex;
    align-items: center;
    gap: var(--tn-spacing-xs);
}

.tasknotes-plugin .task-selector-modal__context-tag {
    padding: 1px var(--tn-spacing-xs);
    border-radius: var(--tn-radius-sm);
    background: var(--tn-bg-secondary);
    font-size: var(--tn-font-size-xs);
    color: var(--tn-text-muted);
}

.tasknotes-plugin .task-selector-modal__status {
    padding: 2px var(--tn-spacing-xs);
    border-radius: var(--tn-radius-sm);
    font-size: var(--tn-font-size-xs);
    text-transform: capitalize;
    background: var(--tn-bg-secondary);
    color: var(--tn-text-normal);
}

/* =====================================================================
   ERROR STATES
   ===================================================================== */

.tasknotes-plugin .modal-form__error {
    padding: var(--tn-spacing-md) var(--tn-spacing-lg);
    margin: var(--tn-spacing-md) 0;
    background: rgba(var(--tn-color-error), 0.1);
    border: 1px solid var(--tn-color-error);
    border-radius: var(--tn-radius-sm);
    color: var(--tn-color-error);
    font-size: var(--tn-font-size-sm);
    font-weight: var(--tn-font-weight-medium);
}

/* =====================================================================
   RESPONSIVE DESIGN
   ===================================================================== */

@media (max-width: 768px) {
    .tasknotes-plugin .task-creation-modal,
    .tasknotes-plugin .task-edit-modal,
    .tasknotes-plugin .due-date-modal,
    .tasknotes-plugin .scheduled-date-modal {
        padding: var(--tn-spacing-lg);
        max-width: 92vw;
    }
    
    .tasknotes-plugin .modal-form__buttons {
        flex-direction: column;
        gap: var(--tn-spacing-md);
    }
    
    .tasknotes-plugin .modal-form__button {
        width: 100%;
        justify-content: center;
    }
    
    .tasknotes-plugin .modal-form__days-grid {
        grid-template-columns: repeat(4, 1fr);
        gap: var(--tn-spacing-sm);
    }
    
    .tasknotes-plugin .modal-form__quick-actions {
        flex-direction: column;
    }
    
    .tasknotes-plugin .modal-form__button--quick-date {
        flex: none;
    }
}

/* =====================================================================
   ACCESSIBILITY ENHANCEMENTS
   ===================================================================== */

.tasknotes-plugin .modal-form__input:focus,
.tasknotes-plugin .modal-form__select:focus,
.tasknotes-plugin .modal-form__button:focus {
    outline: 2px solid var(--tn-interactive-accent);
    outline-offset: 2px;
}

.tasknotes-plugin .modal-form__day-input:focus {
    outline: 2px solid var(--tn-interactive-accent);
    outline-offset: 2px;
}

/* Screen reader only text */
.tasknotes-plugin .modal-form__sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

/* =====================================================================
   LEGACY CLASS COMPATIBILITY (Temporary)
   ===================================================================== */

/* Map old classes to new BEM classes for transition period */
.tasknotes-plugin .form-group {
    /* Fallback for old class usage during transition */
    margin-bottom: var(--tn-spacing-lg);
}

.tasknotes-plugin .form-label {
    /* Fallback for old class usage during transition */
    display: block;
    font-size: var(--tn-font-size-md);
    font-weight: var(--tn-font-weight-medium);
    color: var(--tn-text-normal);
    margin-bottom: var(--tn-spacing-sm);
}

.tasknotes-plugin .form-input-container {
    /* Fallback for old class usage during transition */
    position: relative;
}

.tasknotes-plugin .form-input,
.tasknotes-plugin .form-select {
    /* Fallback for old class usage during transition */
    padding: var(--tn-spacing-md) var(--tn-spacing-lg);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    background: var(--tn-bg-primary);
    color: var(--tn-text-normal);
    font-family: inherit;
    font-size: var(--tn-font-size-md);
    width: 100%;
    box-sizing: border-box;
    outline: none;
    transition: border-color var(--tn-transition-fast);
}

.tasknotes-plugin .form-input:focus,
.tasknotes-plugin .form-select:focus {
    border-color: var(--tn-border-color-interactive);
    box-shadow: 0 0 0 2px rgba(var(--tn-interactive-accent), 0.15);
}

/* ===== TASK-SELECTOR-MODAL.CSS ===== */
/* ================================================
   TASK SELECTOR - TASK STYLING ONLY
   ================================================ */

/* ================================================
   TITLE SECTION
   ================================================ */

/* Title Container */
.task-selector-modal__title {
    margin-bottom: var(--tn-spacing-xs);
}

/* Task Title Text */
.task-selector-modal__task-title {
    font-weight: 500;
    font-size: var(--tn-font-size-sm);
    color: var(--text-normal);
    line-height: 1.4;
}

/* Priority Modifiers */
.task-selector-modal__task-title--high-priority {
    color: var(--tn-color-priority-high);
    font-weight: 600;
}

.task-selector-modal__task-title--low-priority {
    color: var(--tn-color-priority-low);
    font-weight: 400;
    opacity: 0.8;
}

/* ================================================
   METADATA SECTION
   ================================================ */

/* Meta Container */
.task-selector-modal__meta {
    display: flex;
    align-items: center;
    gap: var(--tn-spacing-sm);
    flex-wrap: wrap;
    font-size: var(--tn-font-size-xs);
    color: var(--text-muted);
    line-height: 1.3;
}

/* ================================================
   DUE DATE DISPLAY
   ================================================ */

/* Base Due Date */
.task-selector-modal__due-date {
    padding: 2px 6px;
    border-radius: var(--tn-border-radius-sm);
    background-color: var(--background-modifier-border);
    color: var(--text-muted);
    font-size: var(--tn-font-size-xs);
    font-weight: 500;
    white-space: nowrap;
}

/* Due Date Modifiers */
.task-selector-modal__due-date--overdue {
    background-color: var(--tn-color-status-error-bg);
    color: var(--tn-color-status-error);
    border: 1px solid var(--tn-color-status-error);
}

.task-selector-modal__due-date--today {
    background-color: var(--tn-color-status-warning-bg);
    color: var(--tn-color-status-warning);
    border: 1px solid var(--tn-color-status-warning);
}

/* ================================================
   CONTEXTS SECTION
   ================================================ */

/* Contexts Container */
.task-selector-modal__contexts {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 2px;
}

/* Individual Context Tags */
.task-selector-modal__context-tag {
    padding: 2px 4px;
    border-radius: var(--tn-border-radius-sm);
    background-color: var(--tn-color-context-bg);
    color: var(--tn-color-context);
    font-size: var(--tn-font-size-xs);
    font-weight: 500;
    white-space: nowrap;
}

.task-selector-modal__context-tag::before {
    content: '@';
    opacity: 0.7;
    margin-right: 1px;
}

/* ================================================
   STATUS DISPLAY
   ================================================ */

/* Status Badge */
.task-selector-modal__status {
    padding: 2px 6px;
    border-radius: var(--tn-border-radius-sm);
    background-color: var(--background-modifier-border);
    color: var(--text-muted);
    font-size: var(--tn-font-size-xs);
    font-weight: 500;
    text-transform: capitalize;
    white-space: nowrap;
}

/* ================================================
   THEME ADJUSTMENTS
   ================================================ */

/* Improve contrast in dark themes */
.theme-dark .task-selector-modal__due-date {
    background-color: var(--background-modifier-form-field);
}

.theme-dark .task-selector-modal__context-tag {
    background-color: var(--background-modifier-form-field);
}

.theme-dark .task-selector-modal__status {
    background-color: var(--background-modifier-form-field);
}

/* ===== UNSCHEDULED-TASKS-SELECTOR-MODAL.CSS ===== */
/* Unscheduled Tasks Selector - Task Styling Only */
.unscheduled-tasks-selector__content {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    gap: 1rem;
}

.unscheduled-tasks-selector__title {
    font-weight: 500;
    color: var(--text-normal);
    margin-bottom: 0.5rem;
    line-height: 1.3;
    flex: 1;
}

.unscheduled-tasks-selector__title mark {
    background: var(--text-selection);
    color: var(--text-normal);
    padding: 0.1em 0.2em;
    border-radius: 2px;
}

.unscheduled-tasks-selector__meta {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    align-items: center;
    margin-bottom: 0.25rem;
}

.unscheduled-tasks-selector__priority {
    display: inline-block;
    padding: 0.125rem 0.5rem;
    border-radius: 12px;
    font-size: 0.7rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.unscheduled-tasks-selector__priority.priority-high {
    background: var(--color-red);
    color: white;
}

.unscheduled-tasks-selector__priority.priority-normal {
    background: var(--color-yellow);
    color: var(--text-normal);
}

.unscheduled-tasks-selector__priority.priority-low {
    background: var(--color-green);
    color: white;
}

.unscheduled-tasks-selector__due {
    font-size: 0.8rem;
    color: var(--text-muted);
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

.unscheduled-tasks-selector__due.overdue {
    color: var(--color-red);
    font-weight: 500;
}

.unscheduled-tasks-selector__due.due-today {
    color: var(--color-orange);
    font-weight: 500;
}

.unscheduled-tasks-selector__time-estimate {
    font-size: 0.75rem;
    color: var(--text-muted);
    background: var(--background-modifier-border);
    padding: 0.125rem 0.375rem;
    border-radius: 8px;
}

.unscheduled-tasks-selector__schedule-icon {
    color: var(--text-muted);
    opacity: 0.7;
    transition: opacity 0.2s ease;
    flex-shrink: 0;
}

/* ===== TASK-LIST-VIEW.CSS ===== */
/* ================================================
   TASK LIST VIEW - BEM STRUCTURE
   ================================================ */

/* Task List View Container - Root Block */
.tasknotes-plugin .task-list-view {
    padding: var(--tn-spacing-sm);
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow-y: auto;
    gap: var(--tn-spacing-sm);
    max-width: 100%;
}

/* Task List View Header */
.tasknotes-plugin .task-list-view__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--tn-spacing-sm) 0;
    border-bottom: 1px solid var(--tn-border-color);
    margin-bottom: var(--tn-spacing-sm);
}

.tasknotes-plugin .task-list-view__title {
    font-size: var(--tn-font-size-xl);
    font-weight: var(--tn-font-weight-semibold);
    color: var(--tn-text-normal);
    margin: 0;
}

.tasknotes-plugin .task-list-view__actions {
    display: flex;
    align-items: center;
    gap: var(--tn-spacing-sm);
}

.tasknotes-plugin .task-list-view__add-button {
    padding: var(--tn-spacing-xs) var(--tn-spacing-md);
    background: var(--tn-interactive-accent);
    color: var(--tn-bg-primary);
    border: none;
    border-radius: var(--tn-radius-sm);
    font-size: var(--tn-font-size-md);
    font-weight: var(--tn-font-weight-medium);
    cursor: pointer;
    transition: all var(--tn-transition-fast);
    min-height: var(--tn-button-height-md);
}

.tasknotes-plugin .task-list-view__add-button:hover {
    background: var(--tn-interactive-accent-hover);
    transform: translateY(-1px);
    box-shadow: var(--tn-shadow-medium);
}

.tasknotes-plugin .task-list-view__add-button:active {
    transform: translateY(0);
    box-shadow: var(--tn-shadow-light);
}

/* Filter Bar Container */
.tasknotes-plugin .task-list-view__filter-container {
    margin-bottom: var(--tn-spacing-md);
}

/* Task List Container */
.tasknotes-plugin .task-list-view__tasks {
    display: flex;
    flex-direction: column;
    gap: var(--tn-spacing-xs);
    flex: 1;
    min-height: 0;
}

.tasknotes-plugin .task-list {
    display: flex;
    flex-direction: column;
    gap: var(--tn-spacing-xs);
    flex: 1;
    min-height: 0;
}

/* Ensure task cards in task list have proper spacing */
.tasknotes-plugin .task-list .task-card {
    margin-bottom: var(--tn-spacing-xs);
}

.tasknotes-plugin .task-list .task-card:last-child {
    margin-bottom: 0;
}

/* Loading Indicator */
.tasknotes-plugin .task-list-view__loading {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--tn-spacing-sm);
    padding: var(--tn-spacing-lg);
    color: var(--tn-text-muted);
    font-size: var(--tn-font-size-md);
    font-style: italic;
    font-weight: 400;
    background: var(--tn-bg-secondary);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-md);
    margin-bottom: var(--tn-spacing-md);
}

.tasknotes-plugin .task-list-view__loading.is-hidden {
    display: none;
}

.tasknotes-plugin .task-list-view__loading::before {
    content: '';
    width: 16px;
    height: 16px;
    border: 2px solid color-mix(in srgb, var(--tn-text-muted) 0.3, transparent);
    border-top: 2px solid var(--tn-text-muted);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    flex-shrink: 0;
}

/* Task Group Section */
.tasknotes-plugin .task-list-view__group {
    margin-bottom: var(--tn-spacing-md);
}

.tasknotes-plugin .task-list-view__group-header {
    padding: var(--tn-spacing-xs) var(--tn-spacing-sm);
    margin: var(--tn-spacing-sm) 0 var(--tn-spacing-xs);
    background: var(--tn-bg-secondary);
    border-radius: var(--tn-radius-md);
    font-weight: var(--tn-font-weight-medium);
    font-size: var(--tn-font-size-md);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--tn-text-normal);
    border: 1px solid var(--tn-border-color);
    line-height: 1.4;
}

.tasknotes-plugin .task-list-view__group-content {
    display: flex;
    flex-direction: column;
    gap: var(--tn-spacing-xs);
}

/* Empty State */
.tasknotes-plugin .task-list-view__empty {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: var(--tn-spacing-xl);
    text-align: center;
    color: var(--tn-text-muted);
    background: var(--tn-bg-secondary);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-md);
    margin: var(--tn-spacing-lg) 0;
}

.tasknotes-plugin .task-list-view__empty-title {
    font-size: var(--tn-font-size-lg);
    font-weight: var(--tn-font-weight-medium);
    margin-bottom: var(--tn-spacing-sm);
    color: var(--tn-text-normal);
}

.tasknotes-plugin .task-list-view__empty-description {
    font-size: var(--tn-font-size-lg);
    line-height: 1.6;
    max-width: 400px;
}

/* Task Item Container (wraps task cards) */
.tasknotes-plugin .task-list-view__task-item {
    position: relative;
    background: var(--tn-bg-primary);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    transition: all var(--tn-transition-fast);
    overflow: hidden;
}

.tasknotes-plugin .task-list-view__task-item:hover {
    background: var(--tn-interactive-hover);
    border-color: var(--tn-border-color-hover);
    transform: translateY(-1px);
    box-shadow: var(--tn-shadow-medium);
}

.tasknotes-plugin .task-list-view__task-item:focus-within {
    border-color: var(--tn-interactive-accent);
    box-shadow: 0 0 0 2px color-mix(in srgb, var(--tn-interactive-accent) 0.2, transparent);
}

/* Task Item States */
.tasknotes-plugin .task-list-view__task-item--completed {
    opacity: 0.7;
    background: var(--tn-bg-secondary);
}

.tasknotes-plugin .task-list-view__task-item--overdue {
    border-left: 4px solid var(--tn-color-error);
    background: color-mix(in srgb, var(--tn-color-error) 0.05, var(--tn-bg-primary));
}

.tasknotes-plugin .task-list-view__task-item--due-today {
    border-left: 4px solid var(--tn-interactive-accent);
    background: color-mix(in srgb, var(--tn-interactive-accent) 0.05, var(--tn-bg-primary));
}

.tasknotes-plugin .task-list-view__task-item--archived {
    opacity: 0.5;
    background: transparent;
}

/* Task Item Priority Indicators */
.tasknotes-plugin .task-list-view__task-item--priority-high {
    border-left: 3px solid var(--tn-color-error);
}

.tasknotes-plugin .task-list-view__task-item--priority-normal {
    border-left: 3px solid var(--tn-interactive-accent);
}

.tasknotes-plugin .task-list-view__task-item--priority-low {
    border-left: 3px solid var(--tn-text-muted);
}

/* Task Update Animation */
.tasknotes-plugin .task-list-view__task-item--updating {
    animation: task-update 1.5s ease;
}

@keyframes task-update {
    0% { 
        background-color: var(--tn-bg-primary);
        transform: scale(1);
    }
    20% { 
        background-color: var(--tn-interactive-accent-hover);
        transform: scale(1.02);
    }
    100% { 
        background-color: var(--tn-bg-primary);
        transform: scale(1);
    }
}


/* Responsive Design */
@media (max-width: 768px) {
    .tasknotes-plugin .task-list-view {
        padding: var(--tn-spacing-xs);
        gap: var(--tn-spacing-xs);
    }
    
    .tasknotes-plugin .task-list-view__header {
        flex-direction: column;
        align-items: stretch;
        gap: var(--tn-spacing-sm);
    }
    
    .tasknotes-plugin .task-list-view__actions {
        justify-content: center;
    }
    
    .tasknotes-plugin .task-list-view__add-button {
        width: 100%;
        max-width: 200px;
    }
}

@media (max-width: 480px) {
    .tasknotes-plugin .task-list-view__group-header {
        font-size: var(--tn-font-size-xs);
        padding: var(--tn-spacing-xs);
    }
    
    .tasknotes-plugin .task-list-view__empty {
        padding: var(--tn-spacing-lg);
    }
    
    .tasknotes-plugin .task-list-view__empty-title {
        font-size: var(--tn-font-size-md);
    }
    
    .tasknotes-plugin .task-list-view__empty-description {
        font-size: var(--tn-font-size-sm);
    }
}


/* ===== CALENDAR-VIEW.CSS ===== */
/* ================================================
   CALENDAR VIEW & MINI-CALENDAR VIEW - BEM STRUCTURE
   ================================================ */

/* Calendar View Container - Root Block */
.tasknotes-plugin .calendar-view,
.tasknotes-plugin .mini-calendar-view {
    padding: var(--tn-spacing-sm);
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow-y: auto;
    gap: var(--tn-spacing-sm);
    max-width: 100%;
}

/* Calendar Controls Container */
.tasknotes-plugin .calendar-view__controls,
.tasknotes-plugin .mini-calendar-view__controls {
    display: flex;
    flex-direction: column;
    margin-bottom: var(--tn-spacing-sm);
    padding: var(--tn-spacing-xs);
    background: var(--tn-bg-secondary);
    border-radius: var(--tn-radius-sm);
    gap: var(--tn-spacing-xs);
    border: 1px solid var(--tn-border-color);
}

/* Calendar Header */
.tasknotes-plugin .calendar-view__header,
.tasknotes-plugin .mini-calendar-view__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--tn-spacing-md);
    padding: var(--tn-spacing-sm) 0;
    gap: var(--tn-spacing-md);
}

/* Calendar View Type Select */
.tasknotes-plugin .calendar-view__view-selector,
.tasknotes-plugin .mini-calendar-view__view-selector {
    margin-right: var(--tn-spacing-md);
    min-width: 120px;
    padding: 4px 8px;
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    background: var(--tn-bg-primary);
    color: var(--tn-text-normal);
    font-size: var(--tn-font-size-sm);
    cursor: pointer;
    transition: all var(--tn-transition-fast);
}

.tasknotes-plugin .calendar-view__view-selector:hover,
.tasknotes-plugin .mini-calendar-view__view-selector:hover {
    background: var(--tn-interactive-hover);
    border-color: var(--tn-border-color-hover);
}

.tasknotes-plugin .calendar-view__view-selector:focus,
.tasknotes-plugin .mini-calendar-view__view-selector:focus {
    border-color: var(--tn-interactive-accent);
    outline: none;
}

/* Calendar Navigation Section */
.tasknotes-plugin .calendar-view__navigation,
.tasknotes-plugin .mini-calendar-view__navigation {
    display: flex;
    align-items: center;
    gap: var(--tn-spacing-sm);
}

/* Calendar Month Display */
.tasknotes-plugin .calendar-view__month-display,
.tasknotes-plugin .mini-calendar-view__month-display {
    font-weight: 500;
    font-size: var(--tn-font-size-lg);
    min-width: 140px;
    text-align: center;
    color: var(--tn-text-normal);
}

/* Calendar Navigation Buttons */
.tasknotes-plugin .calendar-view__nav-button,
.tasknotes-plugin .mini-calendar-view__nav-button {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    background: var(--tn-bg-primary);
    color: var(--tn-text-normal);
    cursor: pointer;
    font-size: 16px;
    font-weight: 500;
    transition: all var(--tn-transition-fast);
}

.tasknotes-plugin .calendar-view__nav-button:hover,
.tasknotes-plugin .mini-calendar-view__nav-button:hover {
    background: var(--tn-interactive-hover);
    border-color: var(--tn-border-color-hover);
}

.tasknotes-plugin .calendar-view__nav-button:active,
.tasknotes-plugin .mini-calendar-view__nav-button:active {
    background: var(--tn-interactive-accent);
    color: var(--tn-bg-primary);
}

.tasknotes-plugin .calendar-view__nav-button--prev,
.tasknotes-plugin .mini-calendar-view__nav-button--prev {
    /* Specific styling for previous button if needed */
}

.tasknotes-plugin .calendar-view__nav-button--next,
.tasknotes-plugin .mini-calendar-view__nav-button--next {
    /* Specific styling for next button if needed */
}

/* Today Button */
.tasknotes-plugin .calendar-view__today-button,
.tasknotes-plugin .mini-calendar-view__today-button {
    margin-left: auto;
    background: transparent;
    color: var(--tn-text-muted);
    padding: 4px 12px;
    font-size: var(--tn-font-size-xs);
    min-height: 24px;
    border: none;
    font-weight: normal;
    opacity: 0.7;
    transition: opacity var(--tn-transition-fast);
    cursor: pointer;
    border-radius: var(--tn-radius-sm);
}

.tasknotes-plugin .calendar-view__today-button:hover,
.tasknotes-plugin .mini-calendar-view__today-button:hover {
    background-color: var(--tn-interactive-hover);
    color: var(--tn-text-normal);
    opacity: 1;
}

/* Loading Indicator */
.tasknotes-plugin .calendar-view__loading,
.tasknotes-plugin .mini-calendar-view__loading {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--tn-spacing-sm);
    padding: var(--tn-spacing-lg);
    color: var(--tn-text-muted);
    font-size: var(--tn-font-size-md);
    font-style: italic;
    font-weight: 400;
    background: var(--tn-bg-secondary);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-md);
    margin-bottom: var(--tn-spacing-md);
}

.tasknotes-plugin .calendar-view__loading::before,
.tasknotes-plugin .mini-calendar-view__loading::before {
    content: '';
    width: 16px;
    height: 16px;
    border: 2px solid color-mix(in srgb, var(--tn-text-muted) 0.3, transparent);
    border-top: 2px solid var(--tn-text-muted);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    flex-shrink: 0;
}

/* Calendar Grid Container */
.tasknotes-plugin .calendar-view__grid-container,
.tasknotes-plugin .mini-calendar-view__grid-container {
    margin-bottom: var(--tn-spacing-md);
    background: transparent;
    border-radius: 0;
    padding: 0;
    box-shadow: none;
}

/* Calendar Grid */
.tasknotes-plugin .calendar-view__grid,
.tasknotes-plugin .mini-calendar-view__grid {
    display: flex;
    flex-direction: column;
    gap: 1px;
    margin-bottom: var(--tn-spacing-sm);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    overflow: hidden;
    role: grid;
}

/* Calendar Grid Header Row */
.tasknotes-plugin .calendar-view__grid-header,
.tasknotes-plugin .mini-calendar-view__grid-header {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 1px;
    background: var(--tn-bg-secondary);
    role: row;
}

/* Calendar Week Row */
.tasknotes-plugin .calendar-view__week,
.tasknotes-plugin .mini-calendar-view__week {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 1px;
    role: row;
}

/* Calendar Day Header (Sun, Mon, etc.) */
.tasknotes-plugin .calendar-view__day-header,
.tasknotes-plugin .mini-calendar-view__day-header {
    text-align: center;
    font-weight: 500;
    font-size: var(--tn-font-size-xs);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    padding: var(--tn-spacing-xs);
    color: var(--tn-text-muted);
    background: var(--tn-bg-secondary);
    border-bottom: 1px solid var(--tn-border-color);
    role: columnheader;
}

/* Calendar Day Cell */
.tasknotes-plugin .calendar-view__day,
.tasknotes-plugin .mini-calendar-view__day {
    position: relative;
    min-height: 2rem;
    padding: var(--tn-spacing-xs);
    text-align: center;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    background: var(--tn-bg-primary);
    border-bottom: 1px solid var(--tn-border-color);
    transition: all var(--tn-transition-fast);
    font-size: var(--tn-font-size-sm);
    font-weight: 500;
    role: gridcell;
}

.tasknotes-plugin .calendar-view__day:hover,
.tasknotes-plugin .mini-calendar-view__day:hover {
    background-color: var(--tn-interactive-hover);
    border-color: transparent;
    transform: none;
    box-shadow: none;
}

/* Calendar Day - Today State */
.tasknotes-plugin .calendar-view__day--today,
.tasknotes-plugin .mini-calendar-view__day--today {
    background: color-mix(in srgb, var(--tn-interactive-accent) 8%, transparent) !important;
    color: var(--tn-interactive-accent);
    font-weight: 600;
    box-shadow: none;
    position: relative;
}

.tasknotes-plugin .calendar-view__day--today::after,
.tasknotes-plugin .mini-calendar-view__day--today::after {
    content: '';
    position: absolute;
    bottom: 2px;
    left: 50%;
    transform: translateX(-50%);
    width: 4px;
    height: 4px;
    border-radius: 50%;
    background: var(--tn-interactive-accent);
}

/* Calendar Day - Selected State */
.tasknotes-plugin .calendar-view__day--selected,
.tasknotes-plugin .mini-calendar-view__day--selected {
    border: 1px solid var(--tn-interactive-accent);
    font-weight: 500;
    background-color: transparent;
    box-shadow: none;
}

/* Selected but not today */
.tasknotes-plugin .calendar-view__day--selected:not(.calendar-view__day--today),
.tasknotes-plugin .mini-calendar-view__day--selected:not(.mini-calendar-view__day--today) {
    background-color: var(--tn-bg-secondary);
}

/* Selected and today */
.tasknotes-plugin .calendar-view__day--today.calendar-view__day--selected,
.tasknotes-plugin .mini-calendar-view__day--today.mini-calendar-view__day--selected {
    box-shadow: 0 0 0 2px var(--tn-interactive-accent);
}

/* Calendar Day - Outside Month */
.tasknotes-plugin .calendar-view__day--outside-month,
.tasknotes-plugin .mini-calendar-view__day--outside-month {
    color: var(--tn-text-faint);
    background-color: transparent;
    opacity: 0.3;
}

/* Selected state overrides content indicator borders */
.tasknotes-plugin .calendar-view__day--selected.calendar-view__day--has-notes,
.tasknotes-plugin .calendar-view__day--selected.calendar-view__day--has-tasks,
.tasknotes-plugin .calendar-view__day--selected.calendar-view__day--has-daily-note,
.tasknotes-plugin .mini-calendar-view__day--selected.mini-calendar-view__day--has-notes,
.tasknotes-plugin .mini-calendar-view__day--selected.mini-calendar-view__day--has-tasks,
.tasknotes-plugin .mini-calendar-view__day--selected.mini-calendar-view__day--has-daily-note {
    border: 1px solid var(--tn-interactive-accent);
}

/* Day Indicators Container (for dots/markers) */
.tasknotes-plugin .calendar-view__day-indicators,
.tasknotes-plugin .mini-calendar-view__day-indicators {
    display: flex;
    justify-content: center;
    gap: 2px;
    margin-top: 2px;
}

/* Individual Day Indicator */
.tasknotes-plugin .calendar-view__day-indicator,
.tasknotes-plugin .mini-calendar-view__day-indicator {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    display: inline-block;
    margin: 2px;
}

.tasknotes-plugin .calendar-view__day-indicator--notes,
.tasknotes-plugin .mini-calendar-view__day-indicator--notes {
    background-color: var(--tn-interactive-accent);
}

.tasknotes-plugin .calendar-view__day-indicator--tasks,
.tasknotes-plugin .mini-calendar-view__day-indicator--tasks {
    background-color: var(--tn-color-error);
}

.tasknotes-plugin .calendar-view__day-indicator--important,
.tasknotes-plugin .mini-calendar-view__day-indicator--important {
    background-color: var(--tn-color-warning);
}

/* Content Indicators (Notes, Tasks, Daily Notes) */
.tasknotes-plugin .calendar-view__content-indicator,
.tasknotes-plugin .mini-calendar-view__content-indicator {
    position: absolute;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    transition: all var(--tn-transition-fast);
}

.tasknotes-plugin .calendar-view__content-indicator--notes,
.tasknotes-plugin .mini-calendar-view__content-indicator--notes {
    bottom: 4px;
    left: 30%;
    transform: translateX(-50%);
}

.tasknotes-plugin .calendar-view__content-indicator--tasks,
.tasknotes-plugin .mini-calendar-view__content-indicator--tasks {
    bottom: 4px;
    left: 50%;
    transform: translateX(-50%);
}

.tasknotes-plugin .calendar-view__content-indicator--daily-note,
.tasknotes-plugin .mini-calendar-view__content-indicator--daily-note {
    bottom: 4px;
    left: 70%;
    transform: translateX(-50%);
}

/* Hover effects for content indicators */
.tasknotes-plugin .calendar-view__day:hover .calendar-view__content-indicator,
.tasknotes-plugin .mini-calendar-view__day:hover .mini-calendar-view__content-indicator {
    transform: translateX(-50%) scale(1.2);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

/* Notes Indicators - Different intensities */
.tasknotes-plugin .calendar-view__content-indicator--notes-few,
.tasknotes-plugin .mini-calendar-view__content-indicator--notes-few {
    background: var(--tn-color-notes-light);
    width: 6px;
    height: 6px;
}

.tasknotes-plugin .calendar-view__content-indicator--notes-some,
.tasknotes-plugin .mini-calendar-view__content-indicator--notes-some {
    background: var(--tn-color-notes-medium);
    width: 8px;
    height: 8px;
}

.tasknotes-plugin .calendar-view__content-indicator--notes-many,
.tasknotes-plugin .mini-calendar-view__content-indicator--notes-many {
    background: var(--tn-color-notes-heavy);
    width: 10px;
    height: 10px;
}

/* Task Indicators - Different states */
.tasknotes-plugin .calendar-view__content-indicator--tasks-due,
.tasknotes-plugin .mini-calendar-view__content-indicator--tasks-due {
    background: var(--tn-color-error);
    width: 8px;
    height: 8px;
}

.tasknotes-plugin .calendar-view__content-indicator--tasks-completed,
.tasknotes-plugin .mini-calendar-view__content-indicator--tasks-completed {
    background: var(--tn-color-success);
    width: 8px;
    height: 8px;
}

.tasknotes-plugin .calendar-view__content-indicator--tasks-scheduled,
.tasknotes-plugin .mini-calendar-view__content-indicator--tasks-scheduled {
    background: var(--tn-interactive-accent);
    width: 8px;
    height: 8px;
}

.tasknotes-plugin .calendar-view__content-indicator--tasks-archived,
.tasknotes-plugin .mini-calendar-view__content-indicator--tasks-archived {
    background: var(--tn-color-archived);
    width: 8px;
    height: 8px;
    opacity: 0.8;
}

/* Daily Note Indicator */
.tasknotes-plugin .calendar-view__content-indicator--daily-note,
.tasknotes-plugin .mini-calendar-view__content-indicator--daily-note {
    background-color: var(--tn-color-daily-note);
    width: 7px;
    height: 7px;
    border: 1px solid rgba(0, 0, 0, 0.2);
}

/* Hover tooltip for indicators */
.tasknotes-plugin .calendar-view__content-indicator:hover::after,
.tasknotes-plugin .mini-calendar-view__content-indicator:hover::after {
    content: attr(aria-label);
    position: absolute;
    background: var(--tn-bg-primary);
    color: var(--tn-text-normal);
    padding: 4px 8px;
    border-radius: var(--tn-radius-sm);
    font-size: var(--tn-font-size-xs);
    white-space: nowrap;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    z-index: var(--tn-z-tooltip);
    box-shadow: var(--tn-shadow-medium);
    pointer-events: none;
    border: 1px solid var(--tn-border-color);
}

/* Day Content State Modifiers */
.tasknotes-plugin .calendar-view__day--has-content,
.tasknotes-plugin .mini-calendar-view__day--has-content {
    font-weight: 500;
    background-color: transparent;
    border-top: 1px solid transparent;
    border-right: 1px solid transparent;
    border-bottom: 1px solid var(--tn-border-color);
    border-left: 1px solid transparent;
}

/* Notes Content Indicators */
.tasknotes-plugin .calendar-view__day--has-notes-few,
.tasknotes-plugin .mini-calendar-view__day--has-notes-few {
    border-left: var(--tn-spacing-xs) solid var(--tn-color-notes-light);
    background: linear-gradient(to right, var(--cs-blue-100), transparent);
}

.tasknotes-plugin .calendar-view__day--has-notes-some,
.tasknotes-plugin .mini-calendar-view__day--has-notes-some {
    border-left: var(--tn-spacing-xs) solid var(--tn-color-notes-medium);
    background: linear-gradient(to right, var(--cs-blue-100), transparent);
}

.tasknotes-plugin .calendar-view__day--has-notes-many,
.tasknotes-plugin .mini-calendar-view__day--has-notes-many {
    border-left: var(--tn-spacing-xs) solid var(--tn-color-notes-heavy);
    background: linear-gradient(to right, var(--cs-blue-100), transparent);
}

/* Tasks Content Indicators */
.tasknotes-plugin .calendar-view__day--has-tasks,
.tasknotes-plugin .mini-calendar-view__day--has-tasks {
    border-left: var(--tn-spacing-xs) solid var(--tn-color-error);
    background: linear-gradient(to right, var(--cs-red-100), transparent);
}

.tasknotes-plugin .calendar-view__day--has-scheduled-tasks,
.tasknotes-plugin .mini-calendar-view__day--has-scheduled-tasks {
    border-left: var(--tn-spacing-xs) solid var(--tn-interactive-accent);
    background: linear-gradient(to right, var(--cs-blue-100), transparent);
}

.tasknotes-plugin .calendar-view__day--has-completed-tasks,
.tasknotes-plugin .mini-calendar-view__day--has-completed-tasks {
    border-left: var(--tn-spacing-xs) solid var(--tn-color-success);
    background: linear-gradient(to right, var(--cs-green-100), transparent);
}

.tasknotes-plugin .calendar-view__day--has-archived-tasks,
.tasknotes-plugin .mini-calendar-view__day--has-archived-tasks {
    border-left: var(--tn-spacing-xs) solid var(--tn-color-archived);
    background: linear-gradient(to right, var(--cs-gray-100), transparent);
}

/* Daily Note Content Indicator */
.tasknotes-plugin .calendar-view__day--has-daily-note,
.tasknotes-plugin .mini-calendar-view__day--has-daily-note {
    border-left: var(--tn-spacing-xs) solid var(--tn-color-daily-note);
    background: linear-gradient(to right, var(--cs-purple-100), transparent);
}

/* Enhanced hover effects for content indicators */
.tasknotes-plugin .calendar-view__day--has-content:hover,
.tasknotes-plugin .mini-calendar-view__day--has-content:hover {
    border-left-width: var(--tn-spacing-sm);
    transform: translateX(1px);
}

/* Responsive Design */
@media (max-width: 768px) {
    .tasknotes-plugin .calendar-view,
    .tasknotes-plugin .mini-calendar-view {
        padding: var(--tn-spacing-xs);
        gap: var(--tn-spacing-xs);
    }
    
    .tasknotes-plugin .calendar-view__controls,
    .tasknotes-plugin .mini-calendar-view__controls {
        padding: var(--tn-spacing-xs);
    }
    
    .tasknotes-plugin .calendar-view__nav-button,
    .tasknotes-plugin .mini-calendar-view__nav-button {
        width: 28px;
        height: 28px;
        font-size: 14px;
    }
    
    .tasknotes-plugin .calendar-view__day,
    .tasknotes-plugin .mini-calendar-view__day {
        min-height: 1.8rem;
        font-size: var(--tn-font-size-xs);
    }
}

@media (max-width: 480px) {
    .tasknotes-plugin .calendar-view__header,
    .tasknotes-plugin .mini-calendar-view__header {
        flex-direction: column;
        gap: var(--tn-spacing-sm);
        align-items: stretch;
    }
    
    .tasknotes-plugin .calendar-view__navigation,
    .tasknotes-plugin .mini-calendar-view__navigation {
        justify-content: center;
    }
    
    .tasknotes-plugin .calendar-view__month-display,
    .tasknotes-plugin .mini-calendar-view__month-display {
        font-size: var(--tn-font-size-md);
        min-width: auto;
    }
    
    .tasknotes-plugin .calendar-view__day,
    .tasknotes-plugin .mini-calendar-view__day {
        min-height: 1.5rem;
        padding: 2px;
    }
    
    .tasknotes-plugin .calendar-view__content-indicator,
    .tasknotes-plugin .mini-calendar-view__content-indicator {
        width: 6px;
        height: 6px;
    }
}

/* Mini Calendar Specific Indicators */
.tasknotes-plugin .note-indicator,
.tasknotes-plugin .task-indicator,
.tasknotes-plugin .daily-note-indicator {
    position: absolute;
    bottom: 2px;
    right: 2px;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    display: inline-block;
}

.tasknotes-plugin .note-indicator.few-notes {
    background-color: var(--tn-color-notes-light);
}

.tasknotes-plugin .note-indicator.some-notes {
    background-color: var(--tn-color-notes-medium);
}

.tasknotes-plugin .note-indicator.many-notes {
    background-color: var(--tn-color-notes-heavy);
}

.tasknotes-plugin .task-indicator.due-tasks {
    background-color: var(--tn-color-error);
}

.tasknotes-plugin .task-indicator.completed-tasks {
    background-color: var(--tn-color-success);
}

.tasknotes-plugin .task-indicator.scheduled-tasks {
    background-color: var(--tn-interactive-accent);
}

.tasknotes-plugin .task-indicator.archived-tasks {
    background-color: var(--tn-color-archived);
    opacity: 0.8;
}

.tasknotes-plugin .daily-note-indicator {
    background-color: var(--tn-color-daily-note);
}

/* Cache Loading Indicator */
.tasknotes-plugin .cache-loading-indicator {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--tn-spacing-sm);
    padding: var(--tn-spacing-lg);
    color: var(--tn-text-muted);
    font-size: var(--tn-font-size-md);
    font-style: italic;
    font-weight: 400;
    background: var(--tn-bg-secondary);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-md);
    margin-bottom: var(--tn-spacing-md);
}

.tasknotes-plugin .cache-loading-indicator::before {
    content: '';
    width: 16px;
    height: 16px;
    border: 2px solid color-mix(in srgb, var(--tn-text-muted) 0.3, transparent);
    border-top: 2px solid var(--tn-text-muted);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    flex-shrink: 0;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* ================================================
   MINI CALENDAR DRAG AND DROP STATES
   ================================================ */

/* Drag over state for mini calendar days */
.tasknotes-plugin .mini-calendar-view__day--dragover {
    background-color: var(--tn-interactive-accent-hover) !important;
    border-color: var(--tn-interactive-accent) !important;
    color: var(--tn-text-on-accent) !important;
    transform: scale(1.1);
    box-shadow: var(--tn-shadow-light);
    z-index: 10;
    border: 2px solid var(--tn-interactive-accent);
    border-radius: var(--tn-radius-sm);
}

/* ===== ADVANCED-CALENDAR-VIEW.CSS ===== */
/* Advanced Calendar View Styles */
.advanced-calendar-view {
    height: 100vh;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.advanced-calendar-view__container {
    height: 100%;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.advanced-calendar-view__header {
    padding: 0.5rem 1rem;
    background: var(--background-primary);
    flex-shrink: 0;
}

.advanced-calendar-view__main-row {
    display: flex;
    align-items: center;
    gap: 1.5rem;
    flex-wrap: wrap;
}

.advanced-calendar-view__main-row .filter-bar-container {
    flex: 1;
    min-width: 300px;
}

.advanced-calendar-view__controls {
    display: flex;
    align-items: center;
    gap: 1rem;
    flex-shrink: 0;
}

.advanced-calendar-view__toggles {
    display: flex;
    gap: 1.25rem;
    align-items: center;
}

.advanced-calendar-view__toggle {
    display: flex;
    align-items: center;
    gap: 0.4rem;
}

.advanced-calendar-view__toggle-input {
    margin: 0;
    accent-color: var(--interactive-accent);
}

.advanced-calendar-view__toggle-label {
    font-size: 0.85rem;
    color: var(--text-normal);
    cursor: pointer;
    font-weight: 400;
}

.advanced-calendar-view__schedule-tasks-btn {
    padding: 0.4rem 0.8rem;
    background: var(--interactive-accent);
    color: var(--text-on-accent);
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.85rem;
    font-weight: 500;
    transition: background-color 0.2s ease;
}

.advanced-calendar-view__schedule-tasks-btn:hover {
    background: var(--interactive-accent-hover);
}

.advanced-calendar-view__calendar-container {
    flex: 1;
    overflow: auto;
    min-height: 0;
}

/* FullCalendar overrides - Minimalist & Clean */
.advanced-calendar-view .fc {
    height: 100%;
    font-family: var(--font-interface);
}

/* Remove outer borders only */
.advanced-calendar-view .fc-theme-standard .fc-scrollgrid {
    border: none;
}

/* Light dividers for clean look */
.advanced-calendar-view .fc-col-header-cell {
    border-bottom: 1px solid var(--background-modifier-border);
}

.advanced-calendar-view .fc-daygrid-day {
    border-right: 1px solid var(--background-modifier-border-hover);
    border-bottom: 1px solid var(--background-modifier-border-hover);
}

.advanced-calendar-view .fc-timegrid-slot {
    border-bottom: 1px solid var(--background-modifier-border-hover);
}

.advanced-calendar-view .fc-timegrid-col {
    border-right: 1px solid var(--background-modifier-border-hover);
}

/* Header toolbar styling */
.advanced-calendar-view .fc-header-toolbar {
    margin-bottom: 0.5rem;
    padding: 0;
    border: none;
    background: transparent;
}

.advanced-calendar-view .fc-toolbar-chunk {
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

/* Minimal button styling */
.advanced-calendar-view .fc-button-primary {
    background: transparent;
    border: none;
    color: var(--text-muted);
    font-size: 0.8rem;
    font-weight: 400;
    padding: 0.3rem 0.6rem;
    border-radius: 4px;
    transition: all 0.2s ease;
}

.advanced-calendar-view .fc-button-primary:hover:not(:disabled) {
    background: var(--background-modifier-hover);
    color: var(--text-normal);
}

.advanced-calendar-view .fc-button-primary:disabled {
    background: transparent;
    color: var(--text-faint);
    opacity: 0.5;
}

.advanced-calendar-view .fc-button-active {
    background: var(--interactive-accent) !important;
    border-color: var(--interactive-accent) !important;
    color: var(--text-on-accent) !important;
}

.advanced-calendar-view .fc-today-button {
    background: var(--interactive-accent);
    border-color: var(--interactive-accent);
    color: var(--text-on-accent);
}

.advanced-calendar-view .fc-today-button:hover:not(:disabled) {
    background: var(--interactive-accent-hover);
    border-color: var(--interactive-accent-hover);
}

/* Clean today styling */
.advanced-calendar-view .fc-daygrid-day.fc-day-today {
    background: color-mix(in srgb, var(--interactive-accent) 8%, transparent) !important;
    border: 2px solid var(--interactive-accent);
    position: relative;
}

.advanced-calendar-view .fc-daygrid-day.fc-day-today .fc-daygrid-day-number {
    font-weight: 600;
    color: var(--interactive-accent);
}

.advanced-calendar-view .fc-daygrid-day.fc-day-today::before {
    content: '';
    position: absolute;
    top: 2px;
    right: 2px;
    width: 6px;
    height: 6px;
    background: var(--interactive-accent);
    border-radius: 50%;
    z-index: 1;
}

/* Header cells */
.advanced-calendar-view .fc-col-header-cell {
    background: var(--background-primary);
    color: var(--text-muted);
    font-weight: 400;
    font-size: 0.75rem;
    text-transform: lowercase;
    letter-spacing: 0;
    padding: 0.5rem 0.5rem;
}

/* Day numbers */
.advanced-calendar-view .fc-daygrid-day-number {
    color: var(--text-normal);
    font-weight: 400;
    font-size: 0.9rem;
    padding: 0.5rem;
}

/* Clean event styling */
.advanced-calendar-view .fc-event {
    border-radius: 6px;
    border: 1px solid;
    font-size: 0.8rem;
    font-weight: 500;
    padding: 0.2rem 0.5rem;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    transition: all 0.2s ease;
    cursor: pointer;
}

.advanced-calendar-view .fc-event:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

.advanced-calendar-view .fc-event-title {
    font-weight: 500;
    line-height: 1.3;
}

/* Time grid specific styles */
.advanced-calendar-view .fc-timegrid-slot {
    height: 3rem;
}

.advanced-calendar-view .fc-timegrid-slot-label {
    font-size: 0.8rem;
    color: var(--text-muted);
    padding: 0.5rem;
}

.advanced-calendar-view .fc-timegrid-axis {
    width: 4rem;
}

/* Scrollbar styling */
.advanced-calendar-view .fc-scroller {
    scrollbar-width: thin;
    scrollbar-color: var(--scrollbar-thumb-bg) var(--scrollbar-bg);
}

.advanced-calendar-view .fc-scroller::-webkit-scrollbar {
    width: 8px;
}

.advanced-calendar-view .fc-scroller::-webkit-scrollbar-track {
    background: var(--scrollbar-bg);
}

.advanced-calendar-view .fc-scroller::-webkit-scrollbar-thumb {
    background: var(--scrollbar-thumb-bg);
    border-radius: 4px;
}

.advanced-calendar-view .fc-scroller::-webkit-scrollbar-thumb:hover {
    background: var(--scrollbar-thumb-bg-hover);
}

/* More events link */
.advanced-calendar-view .fc-more-link {
    color: var(--interactive-accent);
    font-size: 0.75rem;
    font-weight: 500;
}

.advanced-calendar-view .fc-more-link:hover {
    color: var(--interactive-accent-hover);
}

/* Current time indicator (red line) */
.advanced-calendar-view .fc-timegrid-now-indicator-line {
    border-color: #ff0000;
    border-width: 1px;
}

.advanced-calendar-view .fc-timegrid-now-indicator-arrow {
    border-color: #ff0000;
}

/* Responsive design */
@media (max-width: 1200px) {
    .advanced-calendar-view__main-row {
        flex-direction: column;
        align-items: stretch;
        gap: 0.75rem;
    }
    
    .advanced-calendar-view__main-row .filter-bar-container {
        min-width: unset;
    }
    
    .advanced-calendar-view__controls {
        justify-content: space-between;
    }
}

@media (max-width: 768px) {
    .advanced-calendar-view__controls {
        flex-direction: column;
        align-items: stretch;
        gap: 0.75rem;
    }
    
    .advanced-calendar-view__toggles {
        flex-wrap: wrap;
        gap: 0.75rem;
        justify-content: center;
    }
    
    .advanced-calendar-view__schedule-tasks-btn {
        align-self: center;
    }
    
    .advanced-calendar-view__calendar-container {
        padding: 0.5rem;
    }
}

/* ===== KANBAN-VIEW.CSS ===== */
/* ================================================
   KANBAN VIEW - BEM STRUCTURE
   ================================================ */

/* Kanban View Container - Root Block */
.tasknotes-plugin .kanban-view {
    padding: var(--tn-spacing-sm);
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: hidden;
    gap: var(--tn-spacing-sm);
    max-width: 100%;
}

/* Kanban Header */
.tasknotes-plugin .kanban-view__header {
    display: flex;
    flex-direction: column;
    gap: var(--tn-spacing-md);
    padding-bottom: var(--tn-spacing-md);
    border-bottom: 1px solid var(--tn-border-color);
    flex-shrink: 0;
}

.tasknotes-plugin .kanban-view__filter-container {
    margin-bottom: var(--tn-spacing-sm);
}

.tasknotes-plugin .kanban-view__actions {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--tn-spacing-md);
    flex-wrap: wrap;
}

.tasknotes-plugin .kanban-view__actions-left {
    display: flex;
    align-items: center;
    gap: var(--tn-spacing-sm);
}

.tasknotes-plugin .kanban-view__actions-right {
    display: flex;
    align-items: center;
    gap: var(--tn-spacing-sm);
}

/* New Task Button */
.tasknotes-plugin .kanban-view__new-task-button {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--tn-spacing-sm);
    padding: 0 var(--tn-spacing-lg);
    border: none;
    border-radius: var(--tn-radius-md);
    background: var(--tn-interactive-accent);
    color: var(--tn-text-on-accent);
    font-family: inherit;
    font-size: var(--tn-font-size-md);
    font-weight: var(--tn-font-weight-medium);
    line-height: 1.25;
    min-height: var(--tn-button-height-md);
    cursor: pointer;
    user-select: none;
    text-decoration: none;
    white-space: nowrap;
    transition: all var(--tn-transition-fast);
    overflow: hidden;
}

.tasknotes-plugin .kanban-view__new-task-button:hover {
    background: var(--tn-interactive-accent-hover);
    transform: translateY(-1px);
    box-shadow: var(--tn-shadow-medium);
}

.tasknotes-plugin .kanban-view__new-task-button:focus-visible {
    outline: 2px solid color-mix(in srgb, var(--tn-interactive-accent) 0.5, transparent);
    outline-offset: 2px;
}

.tasknotes-plugin .kanban-view__new-task-button:active {
    background: var(--tn-interactive-accent);
    transform: translateY(0);
    box-shadow: var(--tn-shadow-light);
}

/* Stats Container */
.tasknotes-plugin .kanban-view__stats {
    display: flex;
    align-items: center;
    gap: var(--tn-spacing-sm);
    padding: var(--tn-spacing-sm) var(--tn-spacing-md);
    background: var(--tn-bg-secondary);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    font-size: var(--tn-font-size-md);
    color: var(--tn-text-muted);
    font-weight: 400;
}

.tasknotes-plugin .kanban-view__stats-simple {
    font-size: var(--tn-font-size-sm);
    color: var(--tn-text-muted);
    font-weight: 400;
}

/* Board Container */
.tasknotes-plugin .kanban-view__board-container {
    flex: 1;
    overflow: hidden;
    background: var(--tn-bg-secondary);
    border-radius: var(--tn-radius-md);
    min-height: 0;
}

/* Board */
.tasknotes-plugin .kanban-view__board {
    display: flex;
    height: 100%;
    overflow-x: auto;
    padding: var(--tn-spacing-md);
    gap: var(--tn-spacing-md);
    min-height: 0;
    flex-wrap: nowrap;
}

/* Board Scrollbar */
.tasknotes-plugin .kanban-view__board::-webkit-scrollbar {
    height: 8px;
}

.tasknotes-plugin .kanban-view__board::-webkit-scrollbar-track {
    background: var(--tn-bg-secondary);
}

.tasknotes-plugin .kanban-view__board::-webkit-scrollbar-thumb {
    background: var(--tn-border-color);
    border-radius: 4px;
}

.tasknotes-plugin .kanban-view__board::-webkit-scrollbar-thumb:hover {
    background: var(--tn-text-muted);
}

/* Loading Indicator */
.tasknotes-plugin .kanban-view__loading {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--tn-spacing-sm);
    padding: var(--tn-spacing-lg);
    color: var(--tn-text-muted);
    font-size: var(--tn-font-size-md);
    font-style: italic;
    font-weight: 400;
    background: var(--tn-bg-secondary);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-md);
    margin: var(--tn-spacing-md);
}

.tasknotes-plugin .kanban-view__loading::before {
    content: '';
    width: 16px;
    height: 16px;
    border: 2px solid color-mix(in srgb, var(--tn-text-muted) 0.3, transparent);
    border-top: 2px solid var(--tn-text-muted);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    flex-shrink: 0;
}

/* Error State */
.tasknotes-plugin .kanban-view__error {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--tn-spacing-lg);
    color: var(--tn-color-error);
    background: color-mix(in srgb, var(--tn-color-error) 0.05, var(--tn-bg-secondary));
    border: 1px solid color-mix(in srgb, var(--tn-color-error) 0.3, transparent);
    border-radius: var(--tn-radius-md);
    font-size: var(--tn-font-size-md);
    font-weight: var(--tn-font-weight-medium);
    margin: var(--tn-spacing-md);
}

/* ================================================
   KANBAN COLUMNS
   ================================================ */

/* Column */
.tasknotes-plugin .kanban-view__column {
    min-width: 280px;
    max-width: 350px;
    flex-shrink: 0;
    background: var(--tn-bg-primary);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-md);
    display: flex;
    flex-direction: column;
    height: fit-content;
    max-height: calc(100vh - 200px);
    transition: all var(--tn-transition-fast);
}

.tasknotes-plugin .kanban-view__column--dragover {
    border-color: var(--tn-interactive-accent);
    box-shadow: 0 0 0 2px color-mix(in srgb, var(--tn-interactive-accent) 0.2, transparent);
    transform: scale(1.02);
    box-shadow: var(--tn-shadow-medium);
}

.tasknotes-plugin .kanban-view__column--uncategorized {
    opacity: 0.8;
    border: 1px dashed var(--tn-text-muted);
}

.tasknotes-plugin .kanban-view__column--uncategorized .kanban-view__column-header {
    background: var(--tn-border-color);
}

.tasknotes-plugin .kanban-view__column--column-drop-target {
    background: var(--tn-interactive-hover);
    border: 2px dashed var(--tn-interactive-accent);
    transform: scale(1.02);
    transition: all var(--tn-transition-medium);
    box-shadow: var(--tn-shadow-medium);
    position: relative;
}

.tasknotes-plugin .kanban-view__column--column-drop-target .kanban-view__column-header {
    background: transparent;
    border: none;
}

.tasknotes-plugin .kanban-view__column--column-drop-target::before {
    content: "Drop here to reorder column";
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: var(--tn-interactive-accent);
    color: var(--tn-text-on-accent);
    padding: var(--tn-spacing-xs) var(--tn-spacing-md);
    border-radius: var(--tn-radius-sm);
    font-size: var(--tn-font-size-sm);
    font-weight: var(--tn-font-weight-medium);
    z-index: 1000;
    pointer-events: none;
    white-space: nowrap;
}

/* Column Header */
.tasknotes-plugin .kanban-view__column-header {
    display: flex;
    flex-direction: column;
    gap: var(--tn-spacing-xs);
    padding: var(--tn-spacing-sm) var(--tn-spacing-md);
    border-bottom: 1px solid var(--tn-border-color);
    background: var(--tn-bg-secondary);
    border-radius: var(--tn-radius-md) var(--tn-radius-md) 0 0;
    cursor: grab;
    user-select: none;
    transition: all var(--tn-transition-fast);
}

.tasknotes-plugin .kanban-view__column-header:active {
    cursor: grabbing;
}

.tasknotes-plugin .kanban-view__column-header--dragging {
    opacity: 0.5;
    transform: rotate(2deg);
    box-shadow: var(--tn-shadow-medium);
}

.tasknotes-plugin .kanban-view__column-title {
    font-weight: var(--tn-font-weight-semibold);
    font-size: var(--tn-font-size-lg);
    color: var(--tn-text-normal);
    line-height: 1.2;
    margin: 0;
}

.tasknotes-plugin .kanban-view__column-count {
    color: var(--tn-text-muted);
    font-size: var(--tn-font-size-xs);
    line-height: 1.2;
    font-weight: 400;
    margin: 0;
}

/* Column Body */
.tasknotes-plugin .kanban-view__column-body {
    padding: var(--tn-spacing-sm);
    min-height: 100px;
    max-height: calc(100vh - 300px);
    overflow-y: auto;
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: var(--tn-spacing-xs);
}

.tasknotes-plugin .kanban-view__column-body--dragover {
    background: var(--tn-interactive-hover);
    position: relative;
}

.tasknotes-plugin .kanban-view__column-body--dragover::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: color-mix(in srgb, var(--tn-interactive-accent) 0.1, transparent);
    border: 2px dashed var(--tn-interactive-accent);
    border-radius: var(--tn-radius-md);
    pointer-events: none;
}

/* Column Body Scrollbar */
.tasknotes-plugin .kanban-view__column-body::-webkit-scrollbar {
    width: 6px;
}

.tasknotes-plugin .kanban-view__column-body::-webkit-scrollbar-track {
    background: var(--tn-bg-secondary);
    border-radius: 3px;
}

.tasknotes-plugin .kanban-view__column-body::-webkit-scrollbar-thumb {
    background: var(--tn-border-color);
    border-radius: 3px;
}

.tasknotes-plugin .kanban-view__column-body::-webkit-scrollbar-thumb:hover {
    background: var(--tn-text-muted);
}

/* Empty Column */
.tasknotes-plugin .kanban-view__column-empty {
    text-align: center;
    color: var(--tn-text-muted);
    font-style: italic;
    font-size: var(--tn-font-size-sm);
    padding: var(--tn-spacing-lg);
    border: 2px dashed var(--tn-border-color);
    border-radius: var(--tn-radius-md);
    background: var(--tn-bg-secondary);
    transition: all var(--tn-transition-fast);
    margin: var(--tn-spacing-xs);
}

.tasknotes-plugin .kanban-view__column-empty:hover {
    border-color: var(--tn-interactive-accent);
    background: var(--tn-interactive-hover);
}

.tasknotes-plugin .kanban-view__column--dragover .kanban-view__column-empty {
    border-color: var(--tn-interactive-accent);
    background: var(--tn-interactive-accent-hover);
    color: var(--tn-text-on-accent);
}

/* ================================================
   KANBAN TASK CARDS
   ================================================ */

/* Task Card Container in Kanban */
.tasknotes-plugin .kanban-view__column-body .task-card {
    margin-bottom: 0;
    transition: all var(--tn-transition-fast);
}

.tasknotes-plugin .kanban-view__column-body .task-card:last-child {
    margin-bottom: 0;
}

.tasknotes-plugin .kanban-view__column-body .task-card--dragging {
    opacity: 0.5;
    transform: rotate(5deg);
    cursor: grabbing;
    z-index: 1000;
    pointer-events: none;
}

.tasknotes-plugin .kanban-view__column-body .task-card--updated {
    animation: taskUpdated 1s ease-out;
}

@keyframes taskUpdated {
    0% {
        background: color-mix(in srgb, var(--tn-interactive-accent) 0.2, var(--tn-bg-primary));
        transform: scale(1.02);
    }
    100% {
        background: var(--tn-bg-primary);
        transform: scale(1);
    }
}

/* ================================================
   RESPONSIVE DESIGN
   ================================================ */

@media (max-width: 768px) {
    .tasknotes-plugin .kanban-view {
        padding: var(--tn-spacing-xs);
        gap: var(--tn-spacing-xs);
    }
    
    .tasknotes-plugin .kanban-view__header {
        padding-bottom: var(--tn-spacing-sm);
        gap: var(--tn-spacing-sm);
    }
    
    .tasknotes-plugin .kanban-view__actions {
        flex-direction: column;
        align-items: stretch;
        gap: var(--tn-spacing-sm);
    }
    
    .tasknotes-plugin .kanban-view__actions-left,
    .tasknotes-plugin .kanban-view__actions-right {
        justify-content: center;
        width: 100%;
    }
    
    .tasknotes-plugin .kanban-view__new-task-button {
        width: 100%;
        max-width: 300px;
    }
    
    .tasknotes-plugin .kanban-view__board {
        padding: var(--tn-spacing-sm);
        gap: var(--tn-spacing-sm);
    }
    
    .tasknotes-plugin .kanban-view__column {
        min-width: 240px;
        max-width: 280px;
    }
}

@media (max-width: 480px) {
    .tasknotes-plugin .kanban-view {
        padding: var(--tn-spacing-xs);
    }
    
    .tasknotes-plugin .kanban-view__board {
        padding: var(--tn-spacing-xs);
        gap: var(--tn-spacing-xs);
    }
    
    .tasknotes-plugin .kanban-view__column {
        min-width: 200px;
        max-width: 240px;
    }
    
    .tasknotes-plugin .kanban-view__column-header {
        padding: var(--tn-spacing-xs) var(--tn-spacing-sm);
    }
    
    .tasknotes-plugin .kanban-view__column-body {
        padding: var(--tn-spacing-xs);
    }
    
    .tasknotes-plugin .kanban-view__new-task-button {
        font-size: var(--tn-font-size-xs);
        padding: 0 var(--tn-spacing-md);
    }
}

/* ===== AGENDA-VIEW.CSS ===== */
/* ================================================
   AGENDA VIEW - BEM STRUCTURE
   ================================================ */

/* Agenda View Container - Root Block */
.tasknotes-plugin .agenda-view {
    padding: var(--tn-spacing-sm);
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow-y: auto;
    gap: var(--tn-spacing-sm);
    max-width: 100%;
}

/* Agenda View Controls */
.tasknotes-plugin .agenda-view__controls {
    display: flex;
    flex-direction: column;
    gap: var(--tn-spacing-md);
    margin-bottom: var(--tn-spacing-md);
}

/* Header Section */
.tasknotes-plugin .agenda-view__header {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--tn-spacing-md) 0;
    border-bottom: 1px solid var(--tn-border-color);
    margin-bottom: var(--tn-spacing-md);
    position: relative;
}

.tasknotes-plugin .agenda-view__header-content {
    display: flex;
    align-items: center;
    gap: var(--tn-spacing-lg);
}

.tasknotes-plugin .agenda-view__period-title {
    font-size: var(--tn-font-size-xl);
    font-weight: var(--tn-font-weight-medium);
    color: var(--tn-text-normal);
    text-align: center;
    min-width: 240px;
    padding: var(--tn-spacing-sm) var(--tn-spacing-md);
    letter-spacing: 0.01em;
    line-height: 1.3;
}

/* Navigation Buttons */
.tasknotes-plugin .agenda-view__nav-button {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: var(--tn-button-height-lg);
    height: var(--tn-button-height-lg);
    padding: 0;
    border: none;
    border-radius: 50%;
    background: transparent;
    color: var(--tn-text-normal);
    font-size: 1.25rem;
    font-weight: var(--tn-font-weight-medium);
    cursor: pointer;
    user-select: none;
    transition: all var(--tn-transition-fast);
    overflow: hidden;
}

.tasknotes-plugin .agenda-view__nav-button::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: currentColor;
    opacity: 0;
    transition: opacity var(--tn-transition-fast);
}

.tasknotes-plugin .agenda-view__nav-button:hover::before {
    opacity: 0.1;
}

.tasknotes-plugin .agenda-view__nav-button:focus-visible {
    outline: 2px solid var(--tn-interactive-accent);
    outline-offset: 2px;
}

.tasknotes-plugin .agenda-view__nav-button:active {
    transform: scale(0.95);
}

.tasknotes-plugin .agenda-view__nav-button:active::before {
    opacity: 0.15;
}

.tasknotes-plugin .agenda-view__nav-button--prev {
    /* Specific styling for previous button if needed */
}

.tasknotes-plugin .agenda-view__nav-button--next {
    /* Specific styling for next button if needed */
}

/* Filter Bar Container */
.tasknotes-plugin .agenda-view__filter-container {
    margin-bottom: var(--tn-spacing-md);
}

/* Settings Section */
.tasknotes-plugin .agenda-view__settings {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--tn-spacing-md);
    background: var(--tn-bg-secondary);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-md);
    gap: var(--tn-spacing-md);
    flex-wrap: wrap;
    margin-bottom: var(--tn-spacing-md);
    box-shadow: var(--tn-shadow-light);
}

.tasknotes-plugin .agenda-view__settings-left {
    display: flex;
    align-items: center;
    gap: var(--tn-spacing-sm);
}

.tasknotes-plugin .agenda-view__settings-right {
    display: flex;
    align-items: center;
    gap: var(--tn-spacing-md);
}

/* Period Selector */
.tasknotes-plugin .agenda-view__period-select {
    appearance: none;
    padding: var(--tn-spacing-sm) var(--tn-spacing-xl) var(--tn-spacing-sm) var(--tn-spacing-md);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    background: var(--tn-bg-primary);
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
    background-position: right var(--tn-spacing-sm) center;
    background-repeat: no-repeat;
    background-size: 16px;
    color: var(--tn-text-normal);
    font-family: inherit;
    font-size: var(--tn-font-size-md);
    font-weight: 400;
    min-width: 120px;
    min-height: var(--tn-input-height-md);
    cursor: pointer;
    transition: all var(--tn-transition-fast);
}

.tasknotes-plugin .agenda-view__period-select:hover {
    border-color: var(--tn-border-color-hover);
    background-color: var(--tn-interactive-hover);
}

.tasknotes-plugin .agenda-view__period-select:focus {
    outline: none;
    border-color: var(--tn-interactive-accent);
    background-color: color-mix(in srgb, var(--tn-interactive-accent) 0.1, var(--tn-bg-primary));
}

/* Today Button */
.tasknotes-plugin .agenda-view__today-button {
    position: relative;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--tn-spacing-xs);
    padding: 0 var(--tn-spacing-lg);
    border: none;
    border-radius: var(--tn-radius-md);
    background: var(--tn-bg-primary);
    color: var(--tn-text-normal);
    font-family: inherit;
    font-size: var(--tn-font-size-sm);
    font-weight: var(--tn-font-weight-medium);
    line-height: 1.25;
    min-height: var(--tn-button-height-md);
    cursor: pointer;
    user-select: none;
    text-decoration: none;
    white-space: nowrap;
    transition: all var(--tn-transition-fast);
    overflow: hidden;
    border: 1px solid var(--tn-border-color);
}

.tasknotes-plugin .agenda-view__today-button:hover {
    background: var(--tn-interactive-hover);
    border-color: var(--tn-border-color-hover);
    box-shadow: var(--tn-shadow-light);
}

.tasknotes-plugin .agenda-view__today-button:focus-visible {
    outline: 2px solid var(--tn-interactive-accent);
    outline-offset: 2px;
}

.tasknotes-plugin .agenda-view__today-button:active {
    background: var(--tn-interactive-hover);
    transform: scale(0.98);
}

/* Toggle Controls */
.tasknotes-plugin .agenda-view__toggle {
    display: flex;
    align-items: center;
    gap: var(--tn-spacing-sm);
    cursor: pointer;
    user-select: none;
    font-size: var(--tn-font-size-md);
    color: var(--tn-text-normal);
    padding: var(--tn-spacing-sm);
    border-radius: var(--tn-radius-sm);
    transition: background-color var(--tn-transition-fast);
}

.tasknotes-plugin .agenda-view__toggle:hover {
    background: var(--tn-interactive-hover);
}


/* Content Area */
.tasknotes-plugin .agenda-view__content {
    display: flex;
    flex-direction: column;
    gap: var(--tn-spacing-sm);
    flex: 1;
    min-height: 0;
}

/* Loading Indicator */
.tasknotes-plugin .agenda-view__loading {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--tn-spacing-sm);
    padding: var(--tn-spacing-lg);
    color: var(--tn-text-muted);
    font-size: var(--tn-font-size-md);
    font-style: italic;
    font-weight: 400;
    background: var(--tn-bg-secondary);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-md);
    margin-bottom: var(--tn-spacing-md);
    box-shadow: var(--tn-shadow-light);
}

.tasknotes-plugin .agenda-view__loading::before {
    content: '';
    width: 16px;
    height: 16px;
    border: 2px solid color-mix(in srgb, var(--tn-text-muted) 0.3, transparent);
    border-top: 2px solid var(--tn-text-muted);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    flex-shrink: 0;
}

/* Day Section */
.tasknotes-plugin .agenda-view__day {
    margin-bottom: var(--tn-spacing-md);
}

.tasknotes-plugin .agenda-view__day-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--tn-spacing-md) 0 var(--tn-spacing-sm);
    margin-bottom: var(--tn-spacing-sm);
    border-bottom: 1px solid var(--tn-border-color);
    position: relative;
}

.tasknotes-plugin .agenda-view__day-header-text {
    display: flex;
    align-items: center;
    gap: var(--tn-spacing-sm);
}

.tasknotes-plugin .agenda-view__day-name {
    font-size: var(--tn-font-size-lg);
    font-weight: var(--tn-font-weight-medium);
    color: var(--tn-text-normal);
    letter-spacing: 0.01em;
    line-height: 1.4;
}

.tasknotes-plugin .agenda-view__day-name--today {
    background: var(--tn-interactive-accent);
    color: var(--tn-bg-primary);
    padding: var(--tn-spacing-xs) var(--tn-spacing-md);
    border-radius: var(--tn-radius-md);
    font-size: var(--tn-font-size-sm);
    font-weight: var(--tn-font-weight-medium);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    line-height: 1.2;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 60px;
    min-height: 28px;
    box-shadow: var(--tn-shadow-light);
}

.tasknotes-plugin .agenda-view__day-date {
    font-size: var(--tn-font-size-md);
    color: var(--tn-text-muted);
    font-weight: 400;
    letter-spacing: 0.01em;
}

.tasknotes-plugin .agenda-view__item-count {
    background: var(--tn-bg-secondary);
    color: var(--tn-text-normal);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-md);
    padding: var(--tn-spacing-xs) var(--tn-spacing-sm);
    font-size: var(--tn-font-size-xs);
    font-weight: var(--tn-font-weight-medium);
    line-height: 1.2;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    min-width: 24px;
    min-height: 24px;
    text-align: center;
}

/* Day Content */
.tasknotes-plugin .agenda-view__day-content {
    display: flex;
    flex-direction: column;
    gap: var(--tn-spacing-xs);
}

.tasknotes-plugin .agenda-view__day-content--flat {
    gap: var(--tn-spacing-xs);
}

.tasknotes-plugin .agenda-view__day-content--flat .task-card,
.tasknotes-plugin .agenda-view__day-content--flat .note-card {
    border-left: 3px solid var(--tn-interactive-accent);
    padding-left: var(--tn-spacing-sm);
}

/* Empty States */
.tasknotes-plugin .agenda-view__empty {
    padding: var(--tn-spacing-xl) var(--tn-spacing-lg);
    text-align: center;
    background: var(--tn-bg-secondary);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-md);
    margin: var(--tn-spacing-lg) 0;
    box-shadow: var(--tn-shadow-light);
}

.tasknotes-plugin .agenda-view__empty-title {
    margin: 0 0 var(--tn-spacing-md) 0;
    color: var(--tn-text-normal);
    font-size: var(--tn-font-size-lg);
    font-weight: var(--tn-font-weight-medium);
    line-height: 1.3;
}

.tasknotes-plugin .agenda-view__empty-description {
    margin: 0 0 var(--tn-spacing-md) 0;
    color: var(--tn-text-muted);
    font-size: var(--tn-font-size-md);
    line-height: 1.5;
    font-weight: 400;
}

.tasknotes-plugin .agenda-view__empty-description:last-child {
    margin-bottom: 0;
}

.tasknotes-plugin .agenda-view__empty-tip {
    font-style: italic;
    font-size: var(--tn-font-size-md);
    color: var(--tn-text-muted);
    margin-top: var(--tn-spacing-sm);
}

.tasknotes-plugin .agenda-view__empty-tip span {
    font-weight: var(--tn-font-weight-medium);
    color: var(--tn-text-normal);
    font-style: normal;
}

/* Error States */
.tasknotes-plugin .agenda-view__error {
    padding: var(--tn-spacing-lg);
    text-align: center;
    color: var(--tn-color-error);
    background: color-mix(in srgb, var(--tn-color-error) 0.05, var(--tn-bg-secondary));
    border: 1px solid color-mix(in srgb, var(--tn-color-error) 0.3, transparent);
    border-radius: var(--tn-radius-md);
    font-size: var(--tn-font-size-md);
    font-weight: var(--tn-font-weight-medium);
    line-height: 1.5;
    box-shadow: var(--tn-shadow-light);
}

/* Agenda View Specific Card Overrides */
.tasknotes-plugin .agenda-view .task-card,
.tasknotes-plugin .agenda-view .note-card {
    margin-bottom: 0;
}

.tasknotes-plugin .agenda-view .tasks-container {
    margin-bottom: var(--tn-spacing-xs);
}

/* Note Date Display in Flat List */
.tasknotes-plugin .agenda-view__note-date {
    display: inline-block;
    margin-left: var(--tn-spacing-sm);
    padding: var(--tn-spacing-xs) var(--tn-spacing-sm);
    background: var(--tn-bg-secondary);
    border-radius: var(--tn-radius-sm);
    font-size: var(--tn-font-size-xs);
    color: var(--tn-text-muted);
    font-weight: var(--tn-font-weight-medium);
}

/* Responsive Design */
@media (max-width: 768px) {
    .tasknotes-plugin .agenda-view {
        padding: var(--tn-spacing-xs);
    }
    
    .tasknotes-plugin .agenda-view__header-content {
        gap: var(--tn-spacing-sm);
    }
    
    .tasknotes-plugin .agenda-view__period-title {
        font-size: var(--tn-font-size-lg);
        min-width: 150px;
    }
    
    .tasknotes-plugin .agenda-view__nav-button {
        width: 36px;
        height: 36px;
        font-size: 1.1rem;
    }
    
    .tasknotes-plugin .agenda-view__settings {
        flex-direction: column;
        align-items: stretch;
        gap: var(--tn-spacing-sm);
    }
    
    .tasknotes-plugin .agenda-view__settings-left,
    .tasknotes-plugin .agenda-view__settings-right {
        justify-content: space-between;
        width: 100%;
    }
    
    .tasknotes-plugin .agenda-view__settings-right {
        gap: var(--tn-spacing-sm);
    }
    
    .tasknotes-plugin .agenda-view__day-header {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--tn-spacing-xs);
    }
    
    .tasknotes-plugin .agenda-view__day-header-text {
        width: 100%;
        justify-content: space-between;
    }
    
    .tasknotes-plugin .agenda-view__item-count {
        align-self: flex-end;
    }
}

@media (max-width: 480px) {
    .tasknotes-plugin .agenda-view__header-content {
        gap: var(--tn-spacing-xs);
    }
    
    .tasknotes-plugin .agenda-view__period-title {
        font-size: var(--tn-font-size-md);
        min-width: 120px;
    }
    
    .tasknotes-plugin .agenda-view__nav-button {
        width: 32px;
        height: 32px;
        font-size: 1rem;
    }
    
    .tasknotes-plugin .agenda-view__settings-left,
    .tasknotes-plugin .agenda-view__settings-right {
        flex-direction: column;
        align-items: stretch;
    }
    
    .tasknotes-plugin .agenda-view__toggle {
        justify-content: space-between;
    }
}

/* ===== NOTES-VIEW.CSS ===== */
/* ================================================
   NOTES VIEW - BEM STRUCTURE
   ================================================ */

/* Notes View Container - Root Block */
.tasknotes-plugin .notes-view {
    padding: var(--tn-spacing-sm);
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow-y: auto;
    gap: var(--tn-spacing-sm);
    max-width: 100%;
}

/* Notes View Header */
.tasknotes-plugin .notes-view__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: var(--tn-spacing-sm) 0;
    border-bottom: 1px solid var(--tn-border-color);
    margin-bottom: var(--tn-spacing-sm);
}

.tasknotes-plugin .notes-view__title {
    font-size: var(--tn-font-size-xl);
    font-weight: var(--tn-font-weight-semibold);
    color: var(--tn-text-normal);
    margin: 0;
    line-height: 1.3;
}

.tasknotes-plugin .notes-view__date {
    font-size: var(--tn-font-size-md);
    color: var(--tn-text-muted);
    font-weight: var(--tn-font-weight-normal);
}

.tasknotes-plugin .notes-view__actions {
    display: flex;
    align-items: center;
    gap: var(--tn-spacing-sm);
}

.tasknotes-plugin .notes-view__refresh-button {
    padding: var(--tn-spacing-xs) var(--tn-spacing-md);
    background: var(--tn-bg-secondary);
    color: var(--tn-text-normal);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    font-size: var(--tn-font-size-sm);
    font-weight: var(--tn-font-weight-medium);
    cursor: pointer;
    transition: all var(--tn-transition-fast);
    min-height: var(--tn-button-height-md);
}

.tasknotes-plugin .notes-view__refresh-button:hover {
    background: var(--tn-interactive-hover);
    border-color: var(--tn-border-color-hover);
    transform: translateY(-1px);
    box-shadow: var(--tn-shadow-light);
}

.tasknotes-plugin .notes-view__refresh-button:active {
    transform: translateY(0);
    box-shadow: none;
}

.tasknotes-plugin .notes-view__refresh-button:disabled {
    opacity: 0.6;
    cursor: not-allowed;
    transform: none;
    box-shadow: none;
}

.tasknotes-plugin .notes-view__refresh-button.is-loading {
    opacity: 0.7;
    cursor: progress;
}

/* Notes List Container */
.tasknotes-plugin .notes-view__list {
    display: flex;
    flex-direction: column;
    gap: var(--tn-spacing-sm);
    flex: 1;
    min-height: 0;
    overflow-y: auto;
}

/* Loading Indicator */
.tasknotes-plugin .notes-view__loading {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: var(--tn-spacing-sm);
    padding: var(--tn-spacing-lg);
    color: var(--tn-text-muted);
    font-size: var(--tn-font-size-md);
    font-style: italic;
    font-weight: 400;
    background: var(--tn-bg-secondary);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-md);
    margin-bottom: var(--tn-spacing-md);
}

.tasknotes-plugin .notes-view__loading.is-hidden {
    display: none;
}

.tasknotes-plugin .notes-view__loading::before {
    content: '';
    width: 16px;
    height: 16px;
    border: 2px solid color-mix(in srgb, var(--tn-text-muted) 0.3, transparent);
    border-top: 2px solid var(--tn-text-muted);
    border-radius: 50%;
    animation: spin 1s linear infinite;
    flex-shrink: 0;
}

/* Notes Container */
.tasknotes-plugin .notes-view__container {
    display: flex;
    flex-direction: column;
    gap: var(--tn-spacing-xs);
}

/* Empty State */
.tasknotes-plugin .notes-view__empty {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: var(--tn-spacing-xl);
    text-align: center;
    color: var(--tn-text-muted);
    background: var(--tn-bg-secondary);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-md);
    margin: var(--tn-spacing-lg) 0;
}

.tasknotes-plugin .notes-view__empty-icon {
    font-size: 2rem;
    margin-bottom: var(--tn-spacing-md);
    opacity: 0.6;
}

.tasknotes-plugin .notes-view__empty-title {
    font-size: var(--tn-font-size-lg);
    font-weight: var(--tn-font-weight-medium);
    margin-bottom: var(--tn-spacing-sm);
    color: var(--tn-text-normal);
}

.tasknotes-plugin .notes-view__empty-description {
    font-size: var(--tn-font-size-md);
    line-height: 1.6;
    max-width: 400px;
}

/* Note Item Container (wraps note cards) */
.tasknotes-plugin .notes-view__note-item {
    position: relative;
    background: var(--tn-bg-primary);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    transition: all var(--tn-transition-fast);
    overflow: hidden;
}

.tasknotes-plugin .notes-view__note-item:hover {
    background: var(--tn-interactive-hover);
    border-color: var(--tn-border-color-hover);
    transform: translateY(-1px);
    box-shadow: var(--tn-shadow-medium);
}

.tasknotes-plugin .notes-view__note-item:focus-within {
    border-color: var(--tn-interactive-accent);
    box-shadow: 0 0 0 2px color-mix(in srgb, var(--tn-interactive-accent) 0.2, transparent);
}

/* Note Item Types */
.tasknotes-plugin .notes-view__note-item--daily-note {
    border-left: 4px solid var(--tn-color-daily-note);
    background: color-mix(in srgb, var(--tn-color-daily-note) 0.05, var(--tn-bg-primary));
}

.tasknotes-plugin .notes-view__note-item--has-tasks {
    border-left: 4px solid var(--tn-color-warning);
    background: color-mix(in srgb, var(--tn-color-warning) 0.05, var(--tn-bg-primary));
}

.tasknotes-plugin .notes-view__note-item--recently-modified {
    border-left: 4px solid var(--tn-interactive-accent);
    background: color-mix(in srgb, var(--tn-interactive-accent) 0.05, var(--tn-bg-primary));
}

/* Notes View Specific NoteCard Overrides */
.tasknotes-plugin .notes-view .note-card {
    border: none;
    border-radius: 0;
    box-shadow: none;
    margin: 0;
}

.tasknotes-plugin .notes-view .note-card:hover {
    transform: none;
    box-shadow: none;
}

/* Stats Summary */
.tasknotes-plugin .notes-view__stats {
    display: flex;
    align-items: center;
    gap: var(--tn-spacing-md);
    padding: var(--tn-spacing-sm);
    background: var(--tn-bg-secondary);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    margin-bottom: var(--tn-spacing-md);
    font-size: var(--tn-font-size-sm);
    color: var(--tn-text-muted);
}

.tasknotes-plugin .notes-view__stats-item {
    display: flex;
    align-items: center;
    gap: var(--tn-spacing-xs);
}

.tasknotes-plugin .notes-view__stats-count {
    font-weight: var(--tn-font-weight-semibold);
    color: var(--tn-text-normal);
}

/* Responsive Design */
@media (max-width: 768px) {
    .tasknotes-plugin .notes-view {
        padding: var(--tn-spacing-xs);
        gap: var(--tn-spacing-xs);
    }
    
    .tasknotes-plugin .notes-view__header {
        flex-direction: column;
        align-items: stretch;
        gap: var(--tn-spacing-sm);
    }
    
    .tasknotes-plugin .notes-view__actions {
        justify-content: center;
    }
    
    .tasknotes-plugin .notes-view__refresh-button {
        width: 100%;
        max-width: 200px;
    }
    
    .tasknotes-plugin .notes-view__stats {
        flex-direction: column;
        align-items: stretch;
        gap: var(--tn-spacing-sm);
    }
}

@media (max-width: 480px) {
    .tasknotes-plugin .notes-view__title {
        font-size: var(--tn-font-size-lg);
    }
    
    .tasknotes-plugin .notes-view__date {
        font-size: var(--tn-font-size-sm);
    }
    
    .tasknotes-plugin .notes-view__empty {
        padding: var(--tn-spacing-lg);
    }
    
    .tasknotes-plugin .notes-view__empty-title {
        font-size: var(--tn-font-size-md);
    }
    
    .tasknotes-plugin .notes-view__empty-description {
        font-size: var(--tn-font-size-sm);
    }
}

/* ===== POMODORO-VIEW.CSS ===== */
/* ================================================
   POMODORO VIEW - BEM STRUCTURE
   ================================================ */

/* Pomodoro View Container - Root Block */
.tasknotes-plugin .pomodoro-view {
    padding: var(--tn-spacing-md);
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow-y: auto;
    gap: var(--tn-spacing-lg);
    max-width: 100%;
    align-items: center;
    justify-content: flex-start;
}

/* ================================================
   TIMER SECTION - Main Timer Display
   ================================================ */

/* Timer Section Container */
.tasknotes-plugin .pomodoro-view__timer-section {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: var(--tn-spacing-md);
    padding: var(--tn-spacing-lg) 0;
    width: 100%;
    max-width: 500px;
    margin: 0 auto;
}

/* Progress Circle Container */
.tasknotes-plugin .pomodoro-view__progress-container {
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 240px;
    height: 240px;
    margin: 0 auto var(--tn-spacing-sm) auto;
}

/* Progress SVG */
.tasknotes-plugin .pomodoro-view__progress-svg {
    width: 100%;
    height: 100%;
    transform: rotate(-90deg);
    overflow: visible;
}

/* Progress Circle Elements */
.tasknotes-plugin .pomodoro-view__progress-circle {
    transition: stroke-dashoffset 0.5s ease;
    stroke: var(--tn-interactive-accent);
    stroke-width: 6;
    fill: none;
}

.tasknotes-plugin .pomodoro-view__progress-circle--work {
    stroke: var(--tn-status-in-progress-color, var(--tn-interactive-accent));
}

.tasknotes-plugin .pomodoro-view__progress-circle--short-break {
    stroke: var(--tn-priority-medium-color, #10B981);
}

.tasknotes-plugin .pomodoro-view__progress-circle--long-break {
    stroke: var(--tn-priority-high-color, #3B82F6);
}

.tasknotes-plugin .pomodoro-view__progress-circle--warning {
    stroke: var(--tn-color-error) !important;
    animation: tn-progress-pulse 1s infinite;
}

@keyframes tn-progress-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.6; }
}

/* Timer Display Overlay */
.tasknotes-plugin .pomodoro-view__timer-overlay {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--tn-spacing-xs);
    pointer-events: none;
}

/* Timer Display */
.tasknotes-plugin .pomodoro-view__timer-display {
    font-size: 2.5rem;
    color: var(--tn-text-normal);
    text-align: center;
    font-family: var(--tn-font-mono);
    letter-spacing: 0.05em;
    transition: color var(--tn-transition-fast);
    font-weight: var(--tn-font-weight-bold);
}

.tasknotes-plugin .pomodoro-view__timer-display--warning {
    color: var(--tn-color-error);
    animation: tn-timer-pulse 2s infinite;
}

@keyframes tn-timer-pulse {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

/* Status Display */
.tasknotes-plugin .pomodoro-view__status {
    font-size: var(--tn-font-size-lg);
    font-weight: var(--tn-font-weight-medium);
    text-align: center;
    color: var(--tn-text-muted);
    text-transform: capitalize;
    margin-top: var(--tn-spacing-sm);
}

.tasknotes-plugin .pomodoro-view__status--work {
    color: var(--tn-status-in-progress-color, var(--tn-interactive-accent));
}

.tasknotes-plugin .pomodoro-view__status--short-break {
    color: var(--tn-priority-medium-color, #10B981);
}

.tasknotes-plugin .pomodoro-view__status--long-break {
    color: var(--tn-priority-high-color, #3B82F6);
}

.tasknotes-plugin .pomodoro-view__status--paused {
    color: var(--tn-color-warning);
}

/* ================================================
   TASK DISPLAY SECTION
   ================================================ */

/* Task Display Container */
.tasknotes-plugin .pomodoro-view__task-display {
    min-height: 60px;
    min-width: 300px;
    width: auto;
    max-width: 500px;
    margin: 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: var(--tn-spacing-md);
    background: var(--tn-bg-secondary);
    border-radius: var(--tn-radius-md);
    border: 1px solid var(--tn-border-color);
    overflow: hidden;
    max-height: 200px;
    opacity: 1;
    transform: translateY(0);
    transition: all var(--tn-transition-medium);
}

/* Hide task display when empty with slide animation */
.tasknotes-plugin .pomodoro-view__task-display:empty {
    max-height: 0;
    opacity: 0;
    transform: translateY(-20px);
    margin: 0 auto;
    padding: 0 var(--tn-spacing-md);
    min-height: 0;
}

.tasknotes-plugin .pomodoro-view__task-display--no-task {
    max-height: 0;
    opacity: 0;
    transform: translateY(-20px);
    margin: 0 auto;
    padding: 0 var(--tn-spacing-md);
    min-height: 0;
}

/* Current Task Content */
.tasknotes-plugin .pomodoro-view__current-task {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--tn-spacing-xs);
    text-align: center;
}

.tasknotes-plugin .pomodoro-view__task-label {
    font-size: var(--tn-font-size-md);
    color: var(--tn-text-muted);
    font-weight: var(--tn-font-weight-medium);
}

.tasknotes-plugin .pomodoro-view__task-title {
    font-size: var(--tn-font-size-lg);
    color: var(--tn-text-normal);
    font-weight: var(--tn-font-weight-semibold);
    max-width: 300px;
    word-wrap: break-word;
}

/* ================================================
   TASK SELECTOR SECTION
   ================================================ */

/* Task Selector Container */
.tasknotes-plugin .pomodoro-view__task-selector {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--tn-spacing-md);
    max-width: 500px;
    width: 100%;
    margin: 0 auto;
    padding: var(--tn-spacing-md) 0;
}

.tasknotes-plugin .pomodoro-view__task-selector-label {
    font-size: var(--tn-font-size-md);
    font-weight: var(--tn-font-weight-medium);
    color: var(--tn-text-normal);
}

.tasknotes-plugin .pomodoro-view__task-selector-container {
    display: flex;
    gap: var(--tn-spacing-sm);
    align-items: center;
}

/* Task Select Button */
.tasknotes-plugin .pomodoro-view__task-select-button {
    display: flex;
    align-items: center;
    flex: 1;
    text-align: left;
    padding: var(--tn-spacing-sm) var(--tn-spacing-md);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    background: var(--tn-bg-primary);
    color: var(--tn-text-normal);
    cursor: pointer;
    font-size: var(--tn-font-size-lg);
    font-weight: var(--tn-font-weight-normal);
    transition: all var(--tn-transition-fast);
    min-height: var(--tn-button-height-md);
}

.tasknotes-plugin .pomodoro-view__task-select-button:hover {
    background: var(--tn-interactive-hover);
    border-color: var(--tn-border-color-hover);
}

.tasknotes-plugin .pomodoro-view__task-select-button--no-task {
    color: var(--tn-text-muted);
    font-style: italic;
}

/* Task Clear Button */
.tasknotes-plugin .pomodoro-view__task-clear-button {
    padding: var(--tn-spacing-sm) var(--tn-spacing-md);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    background: var(--tn-bg-secondary);
    color: var(--tn-text-normal);
    cursor: pointer;
    font-size: var(--tn-font-size-md);
    font-weight: var(--tn-font-weight-medium);
    transition: all var(--tn-transition-fast);
    min-height: var(--tn-button-height-md);
}

.tasknotes-plugin .pomodoro-view__task-clear-button:hover {
    background: var(--tn-interactive-hover);
    border-color: var(--tn-border-color-hover);
}

/* ================================================
   CONTROL SECTION - Main Controls Container
   ================================================ */

/* Control Section Container */
.tasknotes-plugin .pomodoro-view__control-section {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: var(--tn-spacing-lg);
    padding: var(--tn-spacing-lg) var(--tn-spacing-md);
    border-top: 1px solid var(--tn-border-color);
    border-bottom: 1px solid var(--tn-border-color);
    margin: var(--tn-spacing-md) auto;
    width: 100%;
    max-width: 500px;
}

/* Primary Controls Container */
.tasknotes-plugin .pomodoro-view__primary-controls {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: var(--tn-spacing-md);
    padding: var(--tn-spacing-sm) 0;
    min-height: var(--tn-button-height-lg);
    width: 100%;
    flex-wrap: wrap;
}

/* Primary Control Buttons */
.tasknotes-plugin .pomodoro-view__start-button {
    min-width: 120px;
    padding: var(--tn-spacing-md) var(--tn-spacing-lg);
    background: var(--tn-interactive-accent);
    color: var(--tn-bg-primary);
    border: 1px solid var(--tn-interactive-accent);
    border-radius: var(--tn-radius-md);
    font-size: var(--tn-font-size-lg);
    font-weight: var(--tn-font-weight-semibold);
    cursor: pointer;
    transition: all var(--tn-transition-fast);
    min-height: var(--tn-button-height-lg);
}

.tasknotes-plugin .pomodoro-view__start-button:hover {
    background: var(--tn-interactive-accent-hover);
    transform: translateY(-1px);
    box-shadow: var(--tn-shadow-medium);
}

.tasknotes-plugin .pomodoro-view__pause-button {
    min-width: 120px;
    padding: var(--tn-spacing-md) var(--tn-spacing-lg);
    background: var(--tn-color-warning);
    color: var(--tn-bg-primary);
    border: 1px solid var(--tn-color-warning);
    border-radius: var(--tn-radius-md);
    font-size: var(--tn-font-size-lg);
    font-weight: var(--tn-font-weight-semibold);
    cursor: pointer;
    transition: all var(--tn-transition-fast);
    min-height: var(--tn-button-height-lg);
}

.tasknotes-plugin .pomodoro-view__pause-button:hover {
    background: var(--tn-color-warning);
    opacity: 0.9;
    transform: translateY(-1px);
    box-shadow: var(--tn-shadow-medium);
}

.tasknotes-plugin .pomodoro-view__stop-button {
    min-width: 120px;
    padding: var(--tn-spacing-md) var(--tn-spacing-lg);
    background: var(--tn-color-error);
    color: var(--tn-bg-primary);
    border: 1px solid var(--tn-color-error);
    border-radius: var(--tn-radius-md);
    font-size: var(--tn-font-size-lg);
    font-weight: var(--tn-font-weight-semibold);
    cursor: pointer;
    transition: all var(--tn-transition-fast);
    min-height: var(--tn-button-height-lg);
}

.tasknotes-plugin .pomodoro-view__stop-button:hover {
    background: var(--tn-color-error);
    opacity: 0.9;
    transform: translateY(-1px);
    box-shadow: var(--tn-shadow-medium);
}

/* Button States */
.tasknotes-plugin .pomodoro-view__start-button--loading {
    opacity: 0.7;
    cursor: not-allowed;
}

.tasknotes-plugin .pomodoro-view__start-button--hidden,
.tasknotes-plugin .pomodoro-view__pause-button--hidden,
.tasknotes-plugin .pomodoro-view__stop-button--hidden {
    display: none;
}

/* ================================================
   QUICK START SECTION
   ================================================ */

/* Quick Start Container */
.tasknotes-plugin .pomodoro-view__quick-start-section {
    display: flex;
    flex-direction: column;
    gap: var(--tn-spacing-sm);
    align-items: center;
    justify-content: center;
    width: 100%;
}

.tasknotes-plugin .pomodoro-view__section-label {
    font-size: var(--tn-font-size-md);
    font-weight: var(--tn-font-weight-semibold);
    color: var(--tn-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    text-align: center;
    margin-bottom: var(--tn-spacing-xs);
}

/* Quick Actions Container */
.tasknotes-plugin .pomodoro-view__quick-actions {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: var(--tn-spacing-sm);
    flex-wrap: wrap;
    max-width: 400px;
    margin: 0 auto;
    width: 100%;
}

/* Quick Action Buttons */
.tasknotes-plugin .pomodoro-view__quick-button {
    flex: 1;
    min-width: 120px;
    padding: var(--tn-spacing-sm) var(--tn-spacing-md);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-md);
    background: var(--tn-bg-secondary);
    color: var(--tn-text-normal);
    font-size: var(--tn-font-size-md);
    font-weight: var(--tn-font-weight-medium);
    cursor: pointer;
    transition: all var(--tn-transition-fast);
    min-height: var(--tn-button-height-md);
}

.tasknotes-plugin .pomodoro-view__quick-button:hover {
    background: var(--tn-interactive-hover);
    border-color: var(--tn-interactive-accent);
    transform: translateY(-1px);
}

.tasknotes-plugin .pomodoro-view__work-button {
    background: var(--tn-status-in-progress-color, var(--tn-interactive-accent));
    color: var(--tn-bg-primary);
    border-color: var(--tn-status-in-progress-color, var(--tn-interactive-accent));
}

.tasknotes-plugin .pomodoro-view__work-button:hover {
    background: var(--tn-status-in-progress-color, var(--tn-interactive-accent));
    color: var(--tn-bg-primary);
    opacity: 0.9;
    transform: translateY(-1px);
    box-shadow: var(--tn-shadow-medium);
}

.tasknotes-plugin .pomodoro-view__short-break-button {
    background: var(--tn-priority-medium-color, #10B981);
    color: var(--tn-bg-primary);
    border-color: var(--tn-priority-medium-color, #10B981);
}

.tasknotes-plugin .pomodoro-view__short-break-button:hover {
    background: var(--tn-priority-medium-color, #10B981);
    color: var(--tn-bg-primary);
    opacity: 0.9;
    transform: translateY(-1px);
    box-shadow: var(--tn-shadow-medium);
}

.tasknotes-plugin .pomodoro-view__long-break-button {
    background: var(--tn-priority-high-color, #3B82F6);
    color: var(--tn-bg-primary);
    border-color: var(--tn-priority-high-color, #3B82F6);
}

.tasknotes-plugin .pomodoro-view__long-break-button:hover {
    background: var(--tn-priority-high-color, #3B82F6);
    color: var(--tn-bg-primary);
    opacity: 0.9;
    transform: translateY(-1px);
    box-shadow: var(--tn-shadow-medium);
}

/* ================================================
   STATISTICS SECTION
   ================================================ */

/* Statistics Section Container */
.tasknotes-plugin .pomodoro-view__stats-section {
    border-top: 1px solid var(--tn-border-color);
    padding: var(--tn-spacing-xl) var(--tn-spacing-md) 0;
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
    box-sizing: border-box;
}

/* Statistics Header */
.tasknotes-plugin .pomodoro-view__stats-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: var(--tn-spacing-md);
}

/* Statistics Title */
.tasknotes-plugin .pomodoro-view__stats-title {
    font-size: var(--tn-font-size-lg);
    font-weight: var(--tn-font-weight-semibold);
    color: var(--tn-text-normal);
    margin: 0;
}

.tasknotes-plugin .pomodoro-view__view-stats-button {
    padding: var(--tn-spacing-xs) var(--tn-spacing-sm);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    background: var(--tn-bg-primary);
    color: var(--tn-text-normal);
    cursor: pointer;
    font-size: var(--tn-font-size-sm);
    font-weight: var(--tn-font-weight-medium);
    transition: all var(--tn-transition-fast);
}

.tasknotes-plugin .pomodoro-view__view-stats-button:hover {
    background: var(--tn-interactive-hover);
    border-color: var(--tn-interactive-accent);
}

/* Statistics Grid */
.tasknotes-plugin .pomodoro-view__stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: var(--tn-spacing-md);
}

/* Individual Stat */
.tasknotes-plugin .pomodoro-view__stat {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: var(--tn-spacing-md);
    background: var(--tn-bg-secondary);
    border-radius: var(--tn-radius-md);
    border: 1px solid var(--tn-border-color);
    text-align: center;
}

.tasknotes-plugin .pomodoro-view__stat-value {
    font-size: var(--tn-font-size-2xl);
    font-weight: var(--tn-font-weight-bold);
    color: var(--tn-interactive-accent);
    margin-bottom: var(--tn-spacing-xs);
}

.tasknotes-plugin .pomodoro-view__stat-label {
    font-size: var(--tn-font-size-md);
    color: var(--tn-text-muted);
    font-weight: var(--tn-font-weight-medium);
}

/* ================================================
   RESPONSIVE DESIGN
   ================================================ */

@media (max-width: 768px) {
    .tasknotes-plugin .pomodoro-view {
        padding: var(--tn-spacing-md);
        gap: var(--tn-spacing-md);
    }
    
    .tasknotes-plugin .pomodoro-view__progress-container {
        width: 200px;
        height: 200px;
    }
    
    .tasknotes-plugin .pomodoro-view__timer-display {
        font-size: 2rem;
    }
    
    .tasknotes-plugin .pomodoro-view__control-section {
        gap: var(--tn-spacing-md);
        padding: var(--tn-spacing-md);
        max-width: 100%;
    }
    
    .tasknotes-plugin .pomodoro-view__primary-controls {
        flex-direction: column;
        align-items: center;
        gap: var(--tn-spacing-sm);
    }
    
    .tasknotes-plugin .pomodoro-view__start-button,
    .tasknotes-plugin .pomodoro-view__pause-button,
    .tasknotes-plugin .pomodoro-view__stop-button {
        width: 100%;
        max-width: 250px;
    }
    
    .tasknotes-plugin .pomodoro-view__quick-actions {
        flex-direction: column;
        align-items: center;
        gap: var(--tn-spacing-sm);
        max-width: 250px;
    }
    
    .tasknotes-plugin .pomodoro-view__quick-button {
        width: 100%;
        min-width: auto;
    }
    
    .tasknotes-plugin .pomodoro-view__stats {
        grid-template-columns: 1fr;
    }
    
    .tasknotes-plugin .pomodoro-view__task-selector-container {
        flex-direction: column;
        align-items: stretch;
    }
    
    .tasknotes-plugin .pomodoro-view__task-clear-button {
        align-self: center;
        max-width: 100px;
    }
}

@media (max-width: 480px) {
    .tasknotes-plugin .pomodoro-view__progress-container {
        width: 180px;
        height: 180px;
    }
    
    .tasknotes-plugin .pomodoro-view__timer-display {
        font-size: 1.8rem;
    }
}

/* ================================================
   ACCESSIBILITY & REDUCED MOTION
   ================================================ */

@media (prefers-reduced-motion: reduce) {
    .tasknotes-plugin .pomodoro-view__progress-circle,
    .tasknotes-plugin .pomodoro-view__timer-display,
    .tasknotes-plugin .pomodoro-view__task-display {
        transition: none;
    }
    
    .tasknotes-plugin .pomodoro-view__progress-circle--warning,
    .tasknotes-plugin .pomodoro-view__timer-display--warning {
        animation: none;
    }
}

/* Focus indicators for keyboard navigation */
.tasknotes-plugin .pomodoro-view__start-button:focus,
.tasknotes-plugin .pomodoro-view__pause-button:focus,
.tasknotes-plugin .pomodoro-view__stop-button:focus,
.tasknotes-plugin .pomodoro-view__quick-button:focus,
.tasknotes-plugin .pomodoro-view__task-select-button:focus,
.tasknotes-plugin .pomodoro-view__task-clear-button:focus,
.tasknotes-plugin .pomodoro-view__view-stats-button:focus {
    outline: 2px solid var(--tn-interactive-accent);
    outline-offset: 2px;
}


/* ===== POMODORO-STATS-VIEW.CSS ===== */
/* ================================================
   POMODORO STATS VIEW - BEM STRUCTURE
   ================================================ */

/* Pomodoro Stats View Container - Root Block */
.tasknotes-plugin .pomodoro-stats-view {
    padding: var(--tn-spacing-lg);
    max-width: 100%;
    display: flex;
    flex-direction: column;
    gap: var(--tn-spacing-xl);
    height: 100%;
    overflow-y: auto;
}

/* ================================================
   STATS VIEW HEADER
   ================================================ */

/* Stats Header Container */
.tasknotes-plugin .pomodoro-stats-view__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    border-bottom: 1px solid var(--tn-border-color);
    padding-bottom: var(--tn-spacing-md);
}

.tasknotes-plugin .pomodoro-stats-view__title {
    font-size: var(--tn-font-size-xl);
    font-weight: var(--tn-font-weight-semibold);
    color: var(--tn-text-normal);
    margin: 0;
}

/* Refresh Button */
.tasknotes-plugin .pomodoro-stats-view__refresh-button {
    padding: var(--tn-spacing-xs) var(--tn-spacing-md);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    background: var(--tn-bg-primary);
    color: var(--tn-text-normal);
    cursor: pointer;
    font-size: var(--tn-font-size-sm);
    font-weight: var(--tn-font-weight-medium);
    transition: all var(--tn-transition-fast);
    min-height: var(--tn-button-height-md);
}

.tasknotes-plugin .pomodoro-stats-view__refresh-button:hover {
    background: var(--tn-interactive-hover);
    border-color: var(--tn-interactive-accent);
}

/* ================================================
   STATS SECTIONS
   ================================================ */

/* Stats Section Container */
.tasknotes-plugin .pomodoro-stats-view__section {
    display: flex;
    flex-direction: column;
    gap: var(--tn-spacing-md);
}

.tasknotes-plugin .pomodoro-stats-view__section-title {
    font-size: var(--tn-font-size-lg);
    font-weight: var(--tn-font-weight-semibold);
    color: var(--tn-text-normal);
    margin: 0;
    padding-bottom: var(--tn-spacing-xs);
    border-bottom: 1px solid var(--tn-border-color);
}

/* ================================================
   STATS GRID
   ================================================ */

/* Stats Grid Container */
.tasknotes-plugin .pomodoro-stats-view__stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
    gap: var(--tn-spacing-md);
}

/* Individual Stat Card */
.tasknotes-plugin .pomodoro-stats-view__stat-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: var(--tn-spacing-lg);
    background: var(--tn-bg-secondary);
    border-radius: var(--tn-radius-lg);
    border: 1px solid var(--tn-border-color);
    text-align: center;
    transition: all var(--tn-transition-fast);
}

.tasknotes-plugin .pomodoro-stats-view__stat-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--tn-shadow-medium);
}

/* Stat Card Elements */
.tasknotes-plugin .pomodoro-stats-view__stat-value {
    font-size: 2rem;
    font-weight: var(--tn-font-weight-bold);
    color: var(--tn-interactive-accent);
    margin-bottom: var(--tn-spacing-sm);
    line-height: 1;
}

.tasknotes-plugin .pomodoro-stats-view__stat-label {
    font-size: var(--tn-font-size-sm);
    color: var(--tn-text-muted);
    font-weight: var(--tn-font-weight-medium);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    line-height: 1.2;
}

/* ================================================
   RECENT SESSIONS
   ================================================ */

/* Recent Sessions Container */
.tasknotes-plugin .pomodoro-stats-view__recent-sessions {
    display: flex;
    flex-direction: column;
    gap: var(--tn-spacing-sm);
    max-height: 400px;
    overflow-y: auto;
}

/* No Sessions State */
.tasknotes-plugin .pomodoro-stats-view__no-sessions {
    padding: var(--tn-spacing-xl);
    text-align: center;
    color: var(--tn-text-muted);
    font-style: italic;
    background: var(--tn-bg-secondary);
    border-radius: var(--tn-radius-md);
    border: 1px solid var(--tn-border-color);
}

/* ================================================
   SESSION ITEM
   ================================================ */

/* Session Item Container */
.tasknotes-plugin .pomodoro-stats-view__session-item {
    display: grid;
    grid-template-columns: auto auto auto 1fr;
    gap: var(--tn-spacing-md);
    align-items: center;
    padding: var(--tn-spacing-md);
    background: var(--tn-bg-secondary);
    border-radius: var(--tn-radius-sm);
    border: 1px solid var(--tn-border-color);
    transition: background-color var(--tn-transition-fast);
}

.tasknotes-plugin .pomodoro-stats-view__session-item:hover {
    background: var(--tn-interactive-hover);
}

/* Session Item Elements */
.tasknotes-plugin .pomodoro-stats-view__session-date {
    font-size: var(--tn-font-size-sm);
    color: var(--tn-text-muted);
    font-weight: var(--tn-font-weight-medium);
    min-width: 100px;
    font-family: var(--tn-font-mono);
}

.tasknotes-plugin .pomodoro-stats-view__session-duration {
    font-size: var(--tn-font-size-sm);
    color: var(--tn-text-normal);
    font-weight: var(--tn-font-weight-semibold);
    font-family: var(--tn-font-mono);
    min-width: 60px;
}

/* Session Status Badge */
.tasknotes-plugin .pomodoro-stats-view__session-status {
    font-size: var(--tn-font-size-xs);
    font-weight: var(--tn-font-weight-semibold);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    padding: var(--tn-spacing-xs) var(--tn-spacing-sm);
    border-radius: var(--tn-radius-sm);
    min-width: 80px;
    text-align: center;
}

.tasknotes-plugin .pomodoro-stats-view__session-status--completed {
    background: var(--tn-status-done-color, #10B981);
    color: var(--tn-bg-primary);
}

.tasknotes-plugin .pomodoro-stats-view__session-status--interrupted {
    background: var(--tn-text-error);
    color: var(--tn-bg-primary);
}

/* Session Task */
.tasknotes-plugin .pomodoro-stats-view__session-task {
    font-size: var(--tn-font-size-sm);
    color: var(--tn-text-normal);
    font-weight: var(--tn-font-weight-medium);
    text-align: right;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* ================================================
   RESPONSIVE DESIGN
   ================================================ */

@media (max-width: 768px) {
    .tasknotes-plugin .pomodoro-stats-view {
        padding: var(--tn-spacing-md);
        gap: var(--tn-spacing-md);
    }
    
    .tasknotes-plugin .pomodoro-stats-view__header {
        flex-direction: column;
        align-items: flex-start;
        gap: var(--tn-spacing-sm);
    }
    
    .tasknotes-plugin .pomodoro-stats-view__refresh-button {
        align-self: flex-end;
    }
    
    .tasknotes-plugin .pomodoro-stats-view__stats-grid {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .tasknotes-plugin .pomodoro-stats-view__session-item {
        grid-template-columns: 1fr;
        gap: var(--tn-spacing-sm);
        text-align: center;
    }
    
    .tasknotes-plugin .pomodoro-stats-view__session-date,
    .tasknotes-plugin .pomodoro-stats-view__session-duration,
    .tasknotes-plugin .pomodoro-stats-view__session-task {
        min-width: auto;
        text-align: center;
    }
    
    .tasknotes-plugin .pomodoro-stats-view__session-status {
        justify-self: center;
    }
}

@media (max-width: 480px) {
    .tasknotes-plugin .pomodoro-stats-view {
        padding: var(--tn-spacing-sm);
    }
    
    .tasknotes-plugin .pomodoro-stats-view__stats-grid {
        grid-template-columns: 1fr;
    }
    
    .tasknotes-plugin .pomodoro-stats-view__stat-card {
        padding: var(--tn-spacing-md);
    }
    
    .tasknotes-plugin .pomodoro-stats-view__stat-value {
        font-size: 1.5rem;
    }
    
    .tasknotes-plugin .pomodoro-stats-view__session-item {
        padding: var(--tn-spacing-sm);
    }
}

/* ================================================
   ACCESSIBILITY & REDUCED MOTION
   ================================================ */

@media (prefers-reduced-motion: reduce) {
    .tasknotes-plugin .pomodoro-stats-view__stat-card,
    .tasknotes-plugin .pomodoro-stats-view__session-item,
    .tasknotes-plugin .pomodoro-stats-view__refresh-button {
        transition: none;
    }
    
    .tasknotes-plugin .pomodoro-stats-view__stat-card:hover {
        transform: none;
    }
}

/* Focus indicators for keyboard navigation */
.tasknotes-plugin .pomodoro-stats-view__refresh-button:focus {
    outline: 2px solid var(--tn-interactive-accent);
    outline-offset: 2px;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .tasknotes-plugin .pomodoro-stats-view__stat-card,
    .tasknotes-plugin .pomodoro-stats-view__session-item {
        border-width: 2px;
    }
    
    .tasknotes-plugin .pomodoro-stats-view__session-status {
        border: 2px solid currentColor;
    }
}

/* ===== SETTINGS-VIEW.CSS ===== */
/* ================================================
   SETTINGS VIEW - BEM STRUCTURE
   ================================================ */

/* Settings Container - Root Block */
.tasknotes-plugin .settings-view {
    padding: var(--tn-spacing-md);
    height: 100%;
    overflow-y: auto;
    background: var(--tn-bg-primary);
}

/* ================================================
   TAB NAVIGATION
   ================================================ */

/* Tab Navigation Container */
.tasknotes-plugin .settings-view__tab-nav {
    display: flex;
    gap: var(--tn-spacing-xs);
    margin-bottom: var(--tn-spacing-lg);
    border-bottom: 1px solid var(--tn-border-color);
    padding-bottom: var(--tn-spacing-sm);
    overflow-x: auto;
    white-space: nowrap;
}

/* Tab Button */
.tasknotes-plugin .settings-view__tab-button {
    padding: var(--tn-spacing-sm) var(--tn-spacing-md);
    background: var(--tn-bg-secondary);
    color: var(--tn-text-muted);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    cursor: pointer;
    font-size: var(--tn-font-size-sm);
    font-weight: var(--tn-font-weight-medium);
    transition: all var(--tn-transition-fast);
    white-space: nowrap;
    flex-shrink: 0;
    min-height: var(--tn-button-height-md);
}

.tasknotes-plugin .settings-view__tab-button:hover {
    background: var(--tn-interactive-hover);
    color: var(--tn-text-normal);
    border-color: var(--tn-interactive-accent);
}

.tasknotes-plugin .settings-view__tab-button--active {
    background: var(--tn-interactive-accent);
    color: var(--tn-bg-primary);
    border-color: var(--tn-interactive-accent);
}

/* ================================================
   TAB CONTENT
   ================================================ */

/* Tab Contents Container */
.tasknotes-plugin .settings-view__tab-contents {
    position: relative;
    min-height: 400px;
}

/* Tab Content Panel */
.tasknotes-plugin .settings-view__tab-content {
    display: none;
}

.tasknotes-plugin .settings-view__tab-content--active {
    display: block;
    animation: tn-settings-fade-in 0.2s ease-in-out;
}

@keyframes tn-settings-fade-in {
    from {
        opacity: 0;
        transform: translateY(8px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

/* ================================================
   WARNING AND HELP SECTIONS
   ================================================ */

/* Warning Box */
.tasknotes-plugin .settings-view__warning {
    background: var(--tn-bg-error);
    border: 1px solid var(--tn-text-error);
    border-radius: var(--tn-radius-sm);
    padding: var(--tn-spacing-md);
    margin-bottom: var(--tn-spacing-lg);
    color: var(--tn-text-error);
    font-size: var(--tn-font-size-sm);
    line-height: 1.4;
}

.tasknotes-plugin .settings-view__warning-icon {
    font-weight: var(--tn-font-weight-bold);
    margin-right: var(--tn-spacing-xs);
}

/* Help Section */
.tasknotes-plugin .settings-view__help-section {
    background: var(--tn-bg-secondary);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    padding: var(--tn-spacing-md);
    margin-bottom: var(--tn-spacing-lg);
}

.tasknotes-plugin .settings-view__help-title {
    margin: 0 0 var(--tn-spacing-sm) 0;
    color: var(--tn-text-normal);
    font-size: var(--tn-font-size-sm);
    font-weight: var(--tn-font-weight-semibold);
}

.tasknotes-plugin .settings-view__help-list {
    margin: 0;
    padding-left: var(--tn-spacing-md);
    color: var(--tn-text-muted);
    font-size: var(--tn-font-size-sm);
    line-height: 1.4;
}

.tasknotes-plugin .settings-view__help-item {
    margin-bottom: var(--tn-spacing-xs);
}

.tasknotes-plugin .settings-view__help-note {
    margin: var(--tn-spacing-sm) 0 0 0;
    font-size: var(--tn-font-size-xs);
    color: var(--tn-text-muted);
    font-style: italic;
}

/* Validation Note */
.tasknotes-plugin .settings-view__validation-note {
    margin: var(--tn-spacing-md) 0 0 0;
    font-size: var(--tn-font-size-xs);
    color: var(--tn-text-muted);
    font-style: italic;
    padding: var(--tn-spacing-sm);
    background: var(--tn-bg-secondary);
    border-radius: var(--tn-radius-sm);
    border-left: 3px solid var(--tn-interactive-accent);
}

/* ================================================
   FIELD MAPPING TABLE
   ================================================ */

/* Field Mapping Table */
.tasknotes-plugin .settings-view__table {
    width: 100%;
    border-collapse: collapse;
    margin: var(--tn-spacing-md) 0;
    background: var(--tn-bg-primary);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    overflow: hidden;
}

.tasknotes-plugin .settings-view__table-header {
    background: var(--tn-bg-secondary);
    color: var(--tn-text-normal);
    font-weight: var(--tn-font-weight-semibold);
    font-size: var(--tn-font-size-sm);
    padding: var(--tn-spacing-sm) var(--tn-spacing-md);
    text-align: left;
    border-bottom: 1px solid var(--tn-border-color);
}

.tasknotes-plugin .settings-view__table-cell {
    padding: var(--tn-spacing-sm) var(--tn-spacing-md);
    border-bottom: 1px solid var(--tn-border-color-hover);
    vertical-align: middle;
}

.tasknotes-plugin .settings-view__table-row:last-child .settings-view__table-cell {
    border-bottom: none;
}

.tasknotes-plugin .settings-view__table-row:hover {
    background: var(--tn-interactive-hover);
}

.tasknotes-plugin .settings-view__table-input {
    width: 100%;
    padding: var(--tn-spacing-xs) var(--tn-spacing-sm);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-xs);
    background: var(--tn-bg-primary);
    color: var(--tn-text-normal);
    font-size: var(--tn-font-size-sm);
    transition: border-color var(--tn-transition-fast);
}

.tasknotes-plugin .settings-view__table-input:focus {
    outline: none;
    border-color: var(--tn-interactive-accent);
    box-shadow: 0 0 0 2px rgba(var(--tn-interactive-accent-rgb, 66, 165, 245), 0.2);
}

/* ================================================
   STATUS AND PRIORITY LISTS
   ================================================ */

/* List Headers Row */
.tasknotes-plugin .settings-view__list-headers {
    display: grid;
    grid-template-columns: 24px 1fr 1fr 80px 1fr 40px;
    gap: var(--tn-spacing-sm);
    padding: var(--tn-spacing-sm) 0;
    margin-bottom: var(--tn-spacing-xs);
    align-items: center;
    font-weight: var(--tn-font-weight-semibold);
    font-size: var(--tn-font-size-xs);
    color: var(--tn-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.tasknotes-plugin .settings-view__column-header {
    text-align: center;
}

.tasknotes-plugin .settings-view__header-spacer {
    /* Empty spacer for alignment */
}

/* List Container */
.tasknotes-plugin .settings-view__list {
    display: flex;
    flex-direction: column;
    gap: var(--tn-spacing-xs);
    margin-bottom: var(--tn-spacing-lg);
}

/* ================================================
   LIST ITEM ROW
   ================================================ */

/* Item Row Container */
.tasknotes-plugin .settings-view__item-row {
    display: grid;
    grid-template-columns: 24px 1fr 1fr 80px 1fr 40px;
    gap: var(--tn-spacing-sm);
    align-items: center;
    padding: var(--tn-spacing-sm);
    background: var(--tn-bg-primary);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-sm);
    transition: all var(--tn-transition-fast);
}

.tasknotes-plugin .settings-view__item-row:hover {
    background: var(--tn-interactive-hover);
    border-color: var(--tn-interactive-accent);
}

/* Color Indicator */
.tasknotes-plugin .settings-view__color-indicator {
    width: 16px;
    height: 16px;
    border-radius: 50%;
    background: var(--indicator-color, var(--tn-text-muted));
    border: 2px solid var(--tn-bg-primary);
    box-shadow: 0 0 0 1px var(--tn-border-color);
    flex-shrink: 0;
}

/* ================================================
   FORM INPUTS
   ================================================ */

/* General Input Styling */
.tasknotes-plugin .settings-view__input {
    padding: var(--tn-spacing-xs) var(--tn-spacing-sm);
    border: 1px solid var(--tn-border-color);
    border-radius: var(--tn-radius-xs);
    background: var(--tn-bg-primary);
    color: var(--tn-text-normal);
    font-size: var(--tn-font-size-sm);
    transition: border-color var(--tn-transition-fast);
    min-height: var(--tn-input-height-sm);
}

.tasknotes-plugin .settings-view__input:focus {
    outline: none;
    border-color: var(--tn-interactive-accent);
    box-shadow: 0 0 0 2px rgba(var(--tn-interactive-accent-rgb, 66, 165, 245), 0.2);
}

/* Specific Input Types */
.tasknotes-plugin .settings-view__input--value,
.tasknotes-plugin .settings-view__input--label {
    width: 100%;
}

.tasknotes-plugin .settings-view__input--color {
    width: 60px;
    height: 32px;
    padding: 2px;
    cursor: pointer;
    border-radius: var(--tn-radius-xs);
}

.tasknotes-plugin .settings-view__input--weight {
    width: 70px;
    text-align: center;
}

/* ================================================
   CHECKBOX - removed custom styling
   ================================================ */

/* ================================================
   BUTTONS
   ================================================ */

/* Delete Button */
.tasknotes-plugin .settings-view__delete-button {
    padding: var(--tn-spacing-xs) var(--tn-spacing-sm);
    background: var(--tn-bg-error);
    color: var(--tn-text-error);
    border: 1px solid var(--tn-text-error);
    border-radius: var(--tn-radius-xs);
    font-size: var(--tn-font-size-xs);
    font-weight: var(--tn-font-weight-medium);
    cursor: pointer;
    transition: all var(--tn-transition-fast);
    white-space: nowrap;
    min-height: var(--tn-button-height-sm);
}

.tasknotes-plugin .settings-view__delete-button:hover {
    background: var(--tn-text-error);
    color: var(--tn-bg-primary);
}

/* Add Button */
.tasknotes-plugin .settings-view__add-button {
    padding: var(--tn-spacing-sm) var(--tn-spacing-md);
    background: var(--tn-interactive-accent);
    color: var(--tn-bg-primary);
    border: 1px solid var(--tn-interactive-accent);
    border-radius: var(--tn-radius-sm);
    font-size: var(--tn-font-size-sm);
    font-weight: var(--tn-font-weight-medium);
    cursor: pointer;
    transition: all var(--tn-transition-fast);
    min-height: var(--tn-button-height-md);
}

.tasknotes-plugin .settings-view__add-button:hover {
    background: var(--tn-interactive-accent-hover);
}

/* Reset Button */
.tasknotes-plugin .settings-view__reset-button {
    padding: var(--tn-spacing-sm) var(--tn-spacing-md);
    background: var(--tn-text-warning);
    color: var(--tn-bg-primary);
    border: 1px solid var(--tn-text-warning);
    border-radius: var(--tn-radius-sm);
    font-size: var(--tn-font-size-sm);
    font-weight: var(--tn-font-weight-medium);
    cursor: pointer;
    transition: all var(--tn-transition-fast);
    min-height: var(--tn-button-height-md);
}

.tasknotes-plugin .settings-view__reset-button:hover {
    background: var(--tn-text-warning);
    opacity: 0.9;
}

/* ================================================
   OBSIDIAN SETTING ITEMS (SCOPED)
   ================================================ */

/* Properly scoped settings styling - only affects TaskNotes settings */
.tasknotes-plugin .settings-view .setting-item {
    border: none;
    border-bottom: 1px solid var(--tn-border-color-hover);
    padding: var(--tn-spacing-md) 0;
    margin-bottom: 0;
}

.tasknotes-plugin .settings-view .setting-item:last-child {
    border-bottom: none;
}

.tasknotes-plugin .settings-view .setting-item-info {
    flex-grow: 1;
}

.tasknotes-plugin .settings-view .setting-item-name {
    font-weight: var(--tn-font-weight-medium);
    color: var(--tn-text-normal);
    font-size: var(--tn-font-size-base);
    margin-bottom: var(--tn-spacing-xs);
}

.tasknotes-plugin .settings-view .setting-item-description {
    color: var(--tn-text-muted);
    font-size: var(--tn-font-size-sm);
    line-height: 1.4;
    margin: 0;
}

.tasknotes-plugin .settings-view .setting-item-control {
    flex-shrink: 0;
    margin-left: var(--tn-spacing-md);
}

/* Heading styles */
.tasknotes-plugin .settings-view .setting-item.setting-item-heading {
    padding-top: var(--tn-spacing-lg);
    margin-top: var(--tn-spacing-lg);
    border-top: 1px solid var(--tn-border-color);
    border-bottom: none;
    padding-bottom: var(--tn-spacing-sm);
}

.tasknotes-plugin .settings-view .setting-item.setting-item-heading:first-child {
    border-top: none;
    margin-top: 0;
    padding-top: 0;
}

.tasknotes-plugin .settings-view .setting-item-heading .setting-item-name {
    font-size: var(--tn-font-size-lg);
    font-weight: var(--tn-font-weight-semibold);
    color: var(--tn-text-normal);
    margin-bottom: 0;
}

/* ================================================
   RESPONSIVE DESIGN
   ================================================ */

@media (max-width: 768px) {
    .tasknotes-plugin .settings-view {
        padding: var(--tn-spacing-sm);
    }
    
    .tasknotes-plugin .settings-view__tab-nav {
        gap: var(--tn-spacing-xs);
    }
    
    .tasknotes-plugin .settings-view__tab-button {
        padding: var(--tn-spacing-xs) var(--tn-spacing-sm);
        font-size: var(--tn-font-size-xs);
    }
    
    .tasknotes-plugin .settings-view__list-headers {
        grid-template-columns: 20px 1fr 1fr 60px 80px 32px;
        gap: var(--tn-spacing-xs);
    }
    
    .tasknotes-plugin .settings-view__item-row {
        grid-template-columns: 20px 1fr 1fr 60px 80px 32px;
        gap: var(--tn-spacing-xs);
        padding: var(--tn-spacing-xs);
    }
    
    .tasknotes-plugin .settings-view__input--color {
        width: 50px;
        height: 28px;
    }
    
    .tasknotes-plugin .settings-view__input--weight {
        width: 60px;
    }
    
    .tasknotes-plugin .settings-view__table {
        font-size: var(--tn-font-size-sm);
    }
    
    .tasknotes-plugin .settings-view__table-header,
    .tasknotes-plugin .settings-view__table-cell {
        padding: var(--tn-spacing-xs) var(--tn-spacing-sm);
    }
}

@media (max-width: 480px) {
    .tasknotes-plugin .settings-view__list-headers,
    .tasknotes-plugin .settings-view__item-row {
        grid-template-columns: 1fr;
        gap: var(--tn-spacing-xs);
        text-align: center;
    }
    
    .tasknotes-plugin .settings-view__color-indicator {
        justify-self: center;
    }
    
    .tasknotes-plugin .settings-view__input--color {
        justify-self: center;
    }
    
    .tasknotes-plugin .settings-view__delete-button {
        justify-self: center;
        max-width: 80px;
    }
}

/* ================================================
   ACCESSIBILITY & REDUCED MOTION
   ================================================ */

@media (prefers-reduced-motion: reduce) {
    .tasknotes-plugin .settings-view__tab-button,
    .tasknotes-plugin .settings-view__item-row,
    .tasknotes-plugin .settings-view__input,
    .tasknotes-plugin .settings-view__delete-button,
    .tasknotes-plugin .settings-view__add-button,
    .tasknotes-plugin .settings-view__reset-button {
        transition: none;
    }
    
    .tasknotes-plugin .settings-view__tab-content--active {
        animation: none;
    }
}

/* Focus indicators for keyboard navigation */
.tasknotes-plugin .settings-view__tab-button:focus,
.tasknotes-plugin .settings-view__input:focus,
.tasknotes-plugin .settings-view__table-input:focus,
.tasknotes-plugin .settings-view__delete-button:focus,
.tasknotes-plugin .settings-view__add-button:focus,
.tasknotes-plugin .settings-view__reset-button:focus {
    outline: 2px solid var(--tn-interactive-accent);
    outline-offset: 2px;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
    .tasknotes-plugin .settings-view__item-row,
    .tasknotes-plugin .settings-view__table {
        border-width: 2px;
    }
    
    .tasknotes-plugin .settings-view__color-indicator {
        border-width: 3px;
    }
    
    .tasknotes-plugin .settings-view__input,
    .tasknotes-plugin .settings-view__table-input {
        border-width: 2px;
    }
}

/* Dark mode adjustments */
.theme-dark .tasknotes-plugin .settings-view__color-indicator {
    box-shadow: 0 0 0 1px var(--tn-border-color-hover);
}

.theme-dark .tasknotes-plugin .settings-view__table {
    border-color: var(--tn-border-color-hover);
}

.theme-dark .tasknotes-plugin .settings-view__item-row {
    border-color: var(--tn-border-color-hover);
}

/* ===== COMPONENTS.CSS ===== */
/* Utility Classes */
.is-hidden {
    display: none !important;
}

.is-loading {
    opacity: 0.7;
    pointer-events: none;
}

/* Pomodoro timer warning state */
.pomodoro-timer-warning {
    color: var(--text-warning) !important;
    animation: pulse-warning 1s infinite;
}

@keyframes pulse-warning {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.7; }
}

/* Task Selector Modal Styles */
.task-suggestion {
    padding: var(--cs-spacing-sm);
    border-radius: var(--cs-radius-sm);
    border-left: 3px solid transparent;
}

.task-suggestion-title {
    margin-bottom: var(--cs-spacing-xs);
}

.task-title {
    font-weight: 500;
    color: var(--text-normal);
}

.task-title.completed {
    text-decoration: line-through;
    color: var(--text-muted);
}

.task-title.task-priority-high {
    color: var(--text-error);
    border-left-color: var(--text-error);
}

.task-title.task-priority-low {
    color: var(--text-muted);
}

.task-suggestion-meta {
    display: flex;
    align-items: center;
    gap: var(--cs-spacing-sm);
    font-size: var(--cs-text-sm);
    color: var(--text-muted);
}

.task-due-date {
    padding: 2px var(--cs-spacing-xs);
    border-radius: var(--cs-radius-sm);
    background: var(--background-modifier-border);
}

.task-due-date.task-overdue {
    background: var(--background-modifier-error);
    color: var(--text-on-accent);
}

.task-due-date.task-due-today {
    background: var(--background-modifier-success);
    color: var(--text-on-accent);
}

.task-contexts {
    display: flex;
    align-items: center;
    gap: var(--cs-spacing-xs);
}

.task-context-tag {
    padding: 1px var(--cs-spacing-xs);
    border-radius: var(--cs-radius-sm);
    background: var(--background-secondary);
    font-size: var(--cs-text-xs);
}

.task-status {
    padding: 2px var(--cs-spacing-xs);
    border-radius: var(--cs-radius-sm);
    font-size: var(--cs-text-xs);
    text-transform: capitalize;
}

.task-status-in-progress {
    background: var(--color-blue);
    color: var(--text-on-accent);
}

/* Pomodoro Task Selector Styles */
.pomodoro-task-selector-container {
    display: flex;
    gap: var(--cs-spacing-sm);
    align-items: center;
    margin-top: var(--cs-spacing-xs);
}

.pomodoro-task-select-button {
    flex: 1;
    min-width: 0;
    text-align: left;
    padding: var(--cs-spacing-sm);
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--cs-radius-sm);
    background: var(--background-primary);
    color: var(--text-normal);
    cursor: pointer;
    transition: border-color var(--cs-transition-fast);
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.pomodoro-task-select-button:hover {
    border-color: var(--interactive-accent);
}

.pomodoro-task-select-button.pomodoro-no-task {
    color: var(--text-muted);
    font-style: italic;
}

.pomodoro-task-clear-button {
    padding: var(--cs-spacing-sm);
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--cs-radius-sm);
    background: var(--background-secondary);
    color: var(--text-muted);
    cursor: pointer;
    transition: all var(--cs-transition-fast);
}

.pomodoro-task-clear-button:hover {
    background: var(--background-modifier-hover);
    color: var(--text-normal);
}

/* Filename Preview Styles */
.filename-preview {
    padding: var(--cs-spacing-sm);
    margin-top: var(--cs-spacing-xs);
    border-radius: var(--cs-radius-sm);
    background: var(--background-secondary);
    border: 1px solid var(--background-modifier-border);
    font-family: var(--font-monospace);
    font-size: var(--cs-text-sm);
    color: var(--text-muted);
    word-break: break-all;
}

.filename-preview-valid {
    background: var(--background-modifier-success-rgb);
    border-color: var(--background-modifier-success);
    color: var(--text-normal);
}

.filename-preview-error {
    background: var(--background-modifier-error-rgb);
    border-color: var(--background-modifier-error);
    color: var(--text-error);
}

/* Processing state for buttons - scope to TaskNotes buttons only */
.tasknotes-container button.processing,
.tasknotes-button.processing {
    opacity: 0.7;
    cursor: not-allowed;
}

.tasknotes-container button.processing::after,
.tasknotes-button.processing::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 16px;
    height: 16px;
    margin: -8px 0 0 -8px;
    border: 2px solid currentColor;
    border-top-color: transparent;
    border-radius: 50%;
    animation: spinner 0.8s linear infinite;
}

/* Accessibility - Focus Styles */
.calendar-day:focus:not(.selected),
.tasknotes-tab:focus,
.task-toggle-button:focus,
.calendar-nav button:focus,
.add-task-button:focus,
.refresh-tasks-button:focus,
.refresh-notes-button:focus,
.task-status-select:focus,
.task-priority-select:focus,
.task-due-date-input:focus {
    outline: 2px solid var(--interactive-accent);
    outline-offset: 2px;
    box-shadow: 0 0 0 2px rgba(var(--interactive-accent-rgb), 0.2);
}

/* Selected calendar days shouldn't show focus outline since selection is already visually clear */
.calendar-day:focus.selected {
    outline: none;
    box-shadow: none;
}

/* Skip link for keyboard users */
.a11y-skip-link {
    position: absolute;
    top: -40px;
    left: 0;
    background: var(--interactive-accent);
    color: var(--text-on-accent);
    padding: 8px;
    z-index: 100;
    transition: top 0.2s ease;
}

.a11y-skip-link:focus {
    top: 0;
}

/* Main Content Area with Tabs */
.tasknotes-main-content {
    border: 1px solid var(--background-modifier-border);
    border-radius: 6px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    flex-grow: 1;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
}

.tasknotes-tabs {
    display: flex;
    background-color: var(--background-secondary);
    border-bottom: 1px solid var(--background-modifier-border);
}

.tasknotes-tab {
    padding: 0.5rem 1rem;
    cursor: pointer;
    background: none;
    border: none;
    font-size: 0.9rem;
    color: var(--text-normal);
    position: relative;
    transition: background-color 0.2s, color 0.2s;
    flex: 1;
    text-align: center;
}

.tasknotes-tab:hover {
    background-color: var(--background-modifier-hover);
}

.tasknotes-tab.active {
    background-color: var(--background-primary);
    color: var(--text-accent);
    font-weight: bold;
}

.tasknotes-tab.active::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 2px;
    background-color: var(--interactive-accent);
    transition: transform 0.2s ease-in-out;
}

.tasknotes-content-area {
    padding: 1rem;
    background-color: var(--background-primary);
    flex-grow: 1;
    min-height: 300px;
    overflow-y: auto;
    transition: height 0.3s ease, padding 0.3s ease;
}

/* Task Filters */
.task-filters {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin-bottom: 1rem;
}

/* Toggle button for organization filters */
.toggle-org-filters-button {
    padding: 0.25rem;
    background: none;
    border: none;
    cursor: pointer;
    color: var(--text-muted);
    display: flex;
    align-items: center;
    justify-content: center;
    transition: color 0.2s ease;
    border-radius: 4px;
}

.toggle-org-filters-button:hover {
    color: var(--text-normal);
    background: var(--background-modifier-hover);
}

.toggle-org-filters-button svg {
    transition: transform 0.2s ease;
}

/* Toggle filters label */
.toggle-filters-label {
    cursor: pointer;
    color: var(--text-muted);
    font-size: var(--cs-text-sm);
    font-weight: 500;
    user-select: none;
    transition: color 0.2s ease;
}

.toggle-filters-label:hover {
    color: var(--text-normal);
}

/* Spacer to push items to the right */
.filters-spacer {
    flex: 1;
}

/* Context Filter Dropdown */
.context-filter {
    position: relative;
}

.context-dropdown {
    position: relative;
    display: inline-block;
}

.context-dropdown-button {
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    background: var(--background-modifier-form-field);
    border: 1px solid var(--background-modifier-border);
    color: var(--text-normal);
    cursor: pointer;
    font-size: var(--cs-text-sm);
    min-width: 120px;
    text-align: left;
    position: relative;
}

.context-dropdown-button:hover {
    background: var(--background-modifier-hover);
}

.context-dropdown-button::after {
    content: '';
    position: absolute;
    right: 8px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 10px;
    color: var(--text-faint);
}

.context-dropdown-menu {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: var(--background-primary);
    border: 1px solid var(--background-modifier-border);
    border-radius: 4px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    z-index: 1000;
    max-height: 200px;
    overflow-y: auto;
    margin-top: 2px;
}

.context-menu-item {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 6px 12px;
    cursor: pointer;
    font-size: var(--cs-text-sm);
    transition: background-color var(--cs-transition-fast);
}

.context-menu-item:hover {
    background: var(--background-modifier-hover);
}

/* Checkbox styling removed */

.context-menu-empty {
    padding: 6px 12px;
    color: var(--text-faint);
    font-size: var(--cs-text-sm);
    font-style: italic;
}

.add-task-button {
    padding: 0.35rem 0.7rem;
    background-color: var(--interactive-accent);
    color: var(--text-on-accent);
    border-radius: 4px;
    cursor: pointer;
    border: none;
    transition: background-color 0.2s;
}

.add-task-button:hover {
    background-color: var(--interactive-accent-hover);
}

.refresh-tasks-button {
    padding: 0.15rem 0.4rem;
    background-color: transparent;
    color: var(--text-faint);
    border-radius: 0;
    cursor: pointer;
    border: none;
    transition: opacity 0.15s ease;
    font-size: 0.7rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    opacity: 0.6;
}

.refresh-tasks-button:hover {
    background-color: transparent;
    transform: none;
    box-shadow: none;
    opacity: 1;
    color: var(--text-normal);
}

/* Unified Card Styles - Todoist-inspired minimal design */
.tasknotes-card {
    padding: 12px 16px;
    border-radius: 0;
    border: none;
    border-bottom: 1px solid var(--background-modifier-border);
    background-color: var(--background-primary);
    transition: background-color 0.15s ease;
    cursor: pointer;
    margin-bottom: 0;
    display: flex;
    align-items: flex-start;
    gap: 0;
    position: relative;
}

.tasknotes-card:hover {
    background-color: var(--background-modifier-hover);
}

/* Remove border radius for cleaner list appearance */
.tasknotes-card:first-child,
.tasknotes-card:last-child,
.tasknotes-card:first-child:last-child {
    border-radius: 0;
}

/* Hide checkboxes when not needed */
.tasknotes-card .task-checkbox {
    display: none;
}

/* Status indicator dot - shows status color, not priority */
.status-dot {
    display: inline-block;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    margin-right: 8px;
    margin-top: 4px;
    flex-shrink: 0;
    background-color: var(--text-muted);
}

.tasknotes-card-header {
    font-weight: 500;
    font-size: var(--cs-text-body-medium);
    margin-bottom: var(--cs-spacing-xs);
    display: flex;
    justify-content: space-between;
    align-items: center;
    line-height: 1.4;
}

/* Task content container - Todoist style */
.task-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 4px;
    min-width: 0;
}

.task-title {
    font-size: 14px;
    font-weight: 400;
    line-height: 1.3;
    color: var(--text-normal);
    margin: 0;
    word-wrap: break-word;
}

.task-title.completed {
    text-decoration: line-through;
    color: var(--text-muted);
}

.task-metadata-line {
    font-size: 12px;
    color: var(--text-muted);
    line-height: 1.2;
    margin: 0;
}

.tasknotes-card-content {
    color: var(--text-normal);
    font-size: var(--cs-text-body-medium);
    line-height: 1.4;
}

.tasknotes-card-footer {
    margin-top: var(--cs-spacing-xs);
    padding-top: var(--cs-spacing-xs);
    border-top: 1px solid var(--background-modifier-border);
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: var(--cs-text-label-medium);
    color: var(--text-muted);
}

/* Note card specific styles */
.note-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 4px;
    min-width: 0;
}

.note-title {
    font-size: 14px;
    font-weight: 400;
    line-height: 1.3;
    color: var(--text-normal);
    margin: 0;
    word-wrap: break-word;
}

.note-divider {
    height: 1px;
    background: var(--background-modifier-border);
    margin: 2px 0;
}

.note-tags-line {
    font-size: 12px;
    color: var(--text-muted);
    line-height: 1.2;
    margin: 0;
}

.note-metadata-line {
    font-size: 11px;
    color: var(--text-faint);
    line-height: 1.2;
    margin: 0;
}

.note-preview {
    font-size: 12px;
    color: var(--text-muted);
    line-height: 1.3;
    margin-top: 4px;
}

/* Task context menu icon */
.task-context-icon {
    position: absolute;
    top: 10px;
    right: 12px;
    width: 16px;
    height: 16px;
    color: var(--text-muted);
    cursor: pointer;
    opacity: 0;
    transition: all 0.15s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
    border-radius: 2px;
}

.task-context-icon:hover {
    color: var(--text-normal);
    background: var(--background-modifier-hover);
    transform: scale(1.1);
}

.task-context-icon:active {
    transform: scale(0.95);
}

.tasknotes-card:hover .task-context-icon {
    opacity: 1;
}

.task-context-icon svg {
    width: 14px;
    height: 14px;
}

/* Task update animation - subtle glow effect */
.task-updated {
    animation: taskGlow 1.2s ease-out;
}

@keyframes taskGlow {
    0% {
        box-shadow: 0 0 0 0 rgba(var(--interactive-accent-rgb), 0.4);
        border-color: var(--background-modifier-border);
    }
    50% {
        box-shadow: 0 0 0 2px rgba(var(--interactive-accent-rgb), 0.3);
        border-color: var(--interactive-accent);
    }
    100% {
        box-shadow: 0 0 0 0 rgba(var(--interactive-accent-rgb), 0);
        border-color: var(--background-modifier-border);
    }
}

/* Instant Convert Button - BEM Component */
.tasknotes-plugin .instant-convert-button {
    background: transparent;
    color: var(--text-muted);
    border: none;
    opacity: 0.6;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 15px;
    height: 15px;
    margin-left: 8px;
    padding: 0;
    border-radius: 3px;
    transition: all 0.15s ease;
}

.tasknotes-plugin .instant-convert-button:hover {
    background: var(--interactive-accent);
    color: var(--text-on-accent);
    opacity: 1;
    transform: scale(1.1);
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

.tasknotes-plugin .instant-convert-button:active {
    transform: scale(0.95);
}

.tasknotes-plugin .instant-convert-button:focus {
    outline: 2px solid var(--interactive-accent);
    outline-offset: 2px;
    box-shadow: 0 0 0 2px rgba(var(--interactive-accent-rgb), 0.2);
}

.tasknotes-plugin .instant-convert-button__icon {
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Task Creation Modal */
.task-creation-modal .input-with-counter {
    position: relative;
}

.task-creation-modal .character-counter {
    position: absolute;
    top: -1.2rem;
    right: 0;
    font-size: var(--cs-text-xs);
    color: var(--text-muted);
    font-weight: 500;
}

.task-creation-modal .character-counter.warning {
    color: var(--text-error);
}

.task-creation-modal .autocomplete-container {
    position: relative;
}

.task-creation-modal .autocomplete-input {
    width: 100%;
    padding: 0.5rem;
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--cs-radius-sm);
    background: var(--background-primary);
    color: var(--text-normal);
    font-size: var(--cs-text-base);
}

.task-creation-modal .autocomplete-suggestions {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: var(--background-primary);
    border: 1px solid var(--background-modifier-border);
    border-top: none;
    border-radius: 0 0 var(--cs-radius-sm) var(--cs-radius-sm);
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    z-index: 1000;
    max-height: 200px;
    overflow-y: auto;
}

.task-creation-modal .autocomplete-suggestion {
    padding: 0.5rem;
    cursor: pointer;
    border-bottom: 1px solid var(--background-modifier-border-hover);
    font-size: var(--cs-text-sm);
    color: var(--text-normal);
}

.task-creation-modal .autocomplete-suggestion:hover,
.task-creation-modal .autocomplete-suggestion.selected {
    background: var(--background-modifier-hover);
}

.task-creation-modal .autocomplete-suggestion:last-child {
    border-bottom: none;
}

.task-creation-modal .form-group {
    margin-bottom: 1rem;
    position: relative;
}

.task-creation-modal .form-group label {
    display: block;
    margin-bottom: 0.25rem;
    font-weight: 500;
    color: var(--text-normal);
    font-size: var(--cs-text-sm);
}

.task-creation-modal input,
.task-creation-modal select,
.task-creation-modal textarea {
    width: 100%;
    padding: 0.5rem;
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--cs-radius-sm);
    background: var(--background-primary);
    color: var(--text-normal);
    font-size: var(--cs-text-base);
    transition: border-color var(--cs-transition-fast);
}

.task-creation-modal input:focus,
.task-creation-modal select:focus,
.task-creation-modal textarea:focus {
    outline: none;
    border-color: var(--interactive-accent);
    box-shadow: 0 0 0 2px rgba(var(--interactive-accent-rgb), 0.2);
}

.task-creation-modal .button-container {
    display: flex;
    gap: 0.75rem;
    justify-content: flex-end;
    margin-top: 1.5rem;
    padding-top: 1rem;
    border-top: 1px solid var(--background-modifier-border);
}

.task-creation-modal .create-button {
    background: var(--interactive-accent);
    color: var(--text-on-accent);
    border: none;
    padding: 0.5rem 1rem;
    border-radius: var(--cs-radius-sm);
    font-weight: 500;
    cursor: pointer;
    transition: background-color var(--cs-transition-fast);
}

.task-creation-modal .create-button:hover {
    background: var(--interactive-accent-hover);
}

.task-creation-modal .recurrence-helper-text {
    font-size: var(--cs-text-xs);
    color: var(--text-muted);
    margin-top: 0.25rem;
    font-style: italic;
}

.task-creation-modal .days-container {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
    margin-top: 0.5rem;
}

.task-creation-modal .day-checkbox-label {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    cursor: pointer;
    font-size: var(--cs-text-sm);
}

.task-creation-modal .day-checkbox {
    width: auto !important;
    margin: 0;
}

.task-creation-modal .time-estimate-container {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.task-creation-modal .time-estimate-container input {
    width: 80px;
    flex-shrink: 0;
}

.task-creation-modal .time-unit-label {
    font-size: var(--cs-text-sm);
    color: var(--text-muted);
}

/* Recurrence options styling */
.task-creation-modal .recurrence-pattern-group {
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--cs-radius-sm);
    padding: var(--cs-spacing-sm);
    background: var(--background-secondary);
}

/* Days of week selection */
.task-creation-modal .days-of-week-container {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: var(--cs-spacing-xs);
    margin-top: var(--cs-spacing-sm);
}

.task-creation-modal .day-button {
    padding: var(--cs-spacing-xs) var(--cs-spacing-sm);
    border: 1px solid var(--background-modifier-border);
    border-radius: var(--cs-radius-sm);
    background: var(--background-primary);
    color: var(--text-normal);
    cursor: pointer;
    font-size: var(--cs-text-xs);
    text-transform: uppercase;
    letter-spacing: 0.05em;
    transition: all var(--cs-transition-fast);
    text-align: center;
    min-height: var(--cs-touch-target);
    display: flex;
    align-items: center;
    justify-content: center;
}

.task-creation-modal .day-button:hover {
    background: var(--background-modifier-hover);
    border-color: var(--interactive-accent);
}

.task-creation-modal .day-button.selected {
    background: var(--interactive-accent);
    color: var(--text-on-accent);
    border-color: var(--interactive-accent);
}

.task-creation-modal .day-button:focus {
    outline: 2px solid var(--interactive-accent);
    outline-offset: 2px;
}